function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/prod-B0mcJX03.js","assets/app-CfsLqU1F.js","assets/vidstack-audio-Dr0fFHaa.js","assets/vidstack-BJhWhebu-DdLypUUU.js","assets/vidstack-CpkvFYuN-Dw224akW.js","assets/vidstack-video-DKddMJz6.js","assets/vidstack-dash-C29x7k8H.js","assets/vidstack-hls-Cqbtdsj3.js","assets/vidstack-vimeo-BYhwD4HK.js","assets/vidstack-BncYcP_o-vmTJb_XO.js","assets/vidstack-BTBUzdbF-Cao5mZMB.js","assets/vidstack-youtube-CEtY1I-w.js","assets/vidstack-DscYSLiW-CA6XwpqT.js","assets/vidstack-DZeWSaI_-DVMTqcsw.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{_ as ut}from"./app-CfsLqU1F.js";const bt=Symbol(0);let es=!1,Gs=!1,wt=null,ae=null,ft=null,ot=0,ne=[],gi={};const Or=()=>{},ue=0,qa=1,ve=2,Os=3;function Lr(){es=!0,queueMicrotask(_a)}function _a(){if(!ne.length){es=!1;return}Gs=!0;for(let i=0;i<ne.length;i++)ne[i].$st!==ue&&Dr(ne[i]);ne=[],es=!1,Gs=!1}function Dr(i){let t=[i];for(;i=i[bt];)i.$e&&i.$st!==ue&&t.push(i);for(let e=t.length-1;e>=0;e--)xi(t[e])}function Mr(i){const t=ss();return De(t,i.length?i.bind(null,Le.bind(t)):i,null)}function b(i){return De(wt,i,null)}function yi(i){return De(null,i,null)}function Ct(){Gs||_a()}function Ls(){return wt}function J(i,t){try{return De(t,i,null)}catch(e){$i(t,e);return}}function Fa(i,t=wt){return t==null?void 0:t.$cx[i]}function Ir(i,t,e=wt){e&&(e.$cx={...e.$cx,[i]:t})}function A(i){if(!i||!wt)return i||Or;const t=wt;return t.$d?Array.isArray(t.$d)?t.$d.push(i):t.$d=[t.$d,i]:t.$d=i,function(){t.$st!==Os&&(i.call(null),Ds(t.$d)?t.$d=null:Array.isArray(t.$d)&&t.$d.splice(t.$d.indexOf(i),1))}}function Le(i=!0){if(this.$st===Os)return;let t=i?this.$ps||this[bt]:this,e=this.$ns,s=null;for(;e&&e[bt]===this;)Le.call(e,!0),On(e),s=e.$ns,e.$ns=null,e=s;i&&On(this),e&&(e.$ps=i?this.$ps:this),t&&(t.$ns=e)}function On(i){i.$st=Os,i.$d&&Na(i),i.$s&&Xe(i,0),i.$ps&&(i.$ps.$ns=null),i[bt]=null,i.$s=null,i.$o=null,i.$ps=null,i.$cx=gi,i.$eh=null}function Na(i){try{if(Array.isArray(i.$d))for(let t=i.$d.length-1;t>=0;t--){const e=i.$d[t];e.call(e)}else i.$d.call(i.$d);i.$d=null}catch(t){$i(i,t)}}function De(i,t,e){const s=wt,n=ae;wt=i,ae=e;try{return t.call(i)}finally{wt=s,ae=n}}function $i(i,t){if(!i||!i.$eh)throw t;let e=0,s=i.$eh.length,n=Ln(t);for(e=0;e<s;e++)try{i.$eh[e](n);break}catch(a){n=Ln(a)}if(e===s)throw n}function Ln(i){return i instanceof Error?i:Error(JSON.stringify(i))}function wi(){return this.$st===Os?this.$v:(ae&&!this.$e&&(!ft&&ae.$s&&ae.$s[ot]==this?ot++:ft?ft.push(this):ft=[this]),this.$c&&xi(this),this.$v)}function Va(i){const t=Ds(i)?i(this.$v):i;if(this.$ch(this.$v,t)&&(this.$v=t,this.$o))for(let e=0;e<this.$o.length;e++)Wa(this.$o[e],ve);return this.$v}const vi=function(){this[bt]=null,this.$ns=null,this.$ps=null,wt&&wt.append(this)},Jt=vi.prototype;Jt.$cx=gi;Jt.$eh=null;Jt.$c=null;Jt.$d=null;Jt.append=function(i){if(i[bt]=this,i.$ps=this,this.$ns)if(i.$ns){let t=i.$ns;for(;t.$ns;)t=t.$ns;t.$ns=this.$ns,this.$ns.$ps=t}else i.$ns=this.$ns,this.$ns.$ps=i;this.$ns=i,i.$cx=i.$cx===gi?this.$cx:{...this.$cx,...i.$cx},this.$eh&&(i.$eh=i.$eh?[...i.$eh,...this.$eh]:this.$eh)};Jt.dispose=function(){Le.call(this)};function ss(){return new vi}const Ha=function(t,e,s){vi.call(this),this.$st=e?ve:ue,this.$i=!1,this.$e=!1,this.$s=null,this.$o=null,this.$v=t,e&&(this.$c=e),s&&s.dirty&&(this.$ch=s.dirty)},Ti=Ha.prototype;Object.setPrototypeOf(Ti,Jt);Ti.$ch=jr;Ti.call=wi;function ki(i,t,e){return new Ha(i,t,e)}function jr(i,t){return i!==t}function Ds(i){return typeof i=="function"}function xi(i){if(i.$st===qa)for(let t=0;t<i.$s.length&&(xi(i.$s[t]),i.$st!==ve);t++);i.$st===ve?Ka(i):i.$st=ue}function Dn(i){i.$ns&&i.$ns[bt]===i&&Le.call(i,!1),i.$d&&Na(i),i.$eh=i[bt]?i[bt].$eh:null}function Ka(i){let t=ft,e=ot;ft=null,ot=0;try{Dn(i);const s=De(i,i.$c,i);if(ft){if(i.$s&&Xe(i,ot),i.$s&&ot>0){i.$s.length=ot+ft.length;for(let a=0;a<ft.length;a++)i.$s[ot+a]=ft[a]}else i.$s=ft;let n;for(let a=ot;a<i.$s.length;a++)n=i.$s[a],n.$o?n.$o.push(i):n.$o=[i]}else i.$s&&ot<i.$s.length&&(Xe(i,ot),i.$s.length=ot);!i.$e&&i.$i?Va.call(i,s):(i.$v=s,i.$i=!0)}catch(s){$i(i,s),i.$st===ve&&(Dn(i),i.$s&&Xe(i,0));return}ft=t,ot=e,i.$st=ue}function Wa(i,t){if(!(i.$st>=t)&&(i.$e&&i.$st===ue&&(ne.push(i),es||Lr()),i.$st=t,i.$o))for(let e=0;e<i.$o.length;e++)Wa(i.$o[e],qa)}function Xe(i,t){let e,s;for(let n=t;n<i.$s.length;n++)e=i.$s[n],e.$o&&(s=e.$o.indexOf(i),e.$o[s]=e.$o[e.$o.length-1],e.$o.pop())}function is(...i){}function Ht(i){return i===null}function ht(i){return typeof i>"u"}function Cl(i){return Ht(i)||ht(i)}function Rr(i){return(i==null?void 0:i.constructor)===Object}function mt(i){return typeof i=="number"&&!Number.isNaN(i)}function k(i){return typeof i=="string"}function Mn(i){return typeof i=="boolean"}function Tt(i){return typeof i=="function"}function Y(i){return Array.isArray(i)}var In;const qr=Event,Ua=Symbol("DOM_EVENT");class _ extends qr{constructor(t,...e){var n,a;super(t,e[0]),this[In]=!0,this.triggers=new _r,this.detail=(n=e[0])==null?void 0:n.detail;const s=(a=e[0])==null?void 0:a.trigger;s&&this.triggers.add(s)}get trigger(){return this.triggers.source}get originEvent(){return this.triggers.origin}get isOriginTrusted(){var t;return((t=this.triggers.origin)==null?void 0:t.isTrusted)??!1}}In=Ua;class _r{constructor(){this.chain=[]}get source(){return this.chain[0]}get origin(){return this.chain[this.chain.length-1]}add(t){this.chain.push(t),Fr(t)&&this.chain.push(...t.triggers)}remove(t){return this.chain.splice(this.chain.indexOf(t),1)[0]}has(t){return this.chain.some(e=>e===t)}hasType(t){return!!this.findType(t)}findType(t){return this.chain.find(e=>e.type===t)}walk(t){for(const e of this.chain){const s=t(e);if(s)return[e,s]}}[Symbol.iterator](){return this.chain.values()}}function Fr(i){return!!(i!=null&&i[Ua])}class Ba extends EventTarget{addEventListener(t,e,s){return super.addEventListener(t,e,s)}removeEventListener(t,e,s){return super.removeEventListener(t,e,s)}}function y(i,t,e,s){return i.addEventListener(t,e,s),A(()=>i.removeEventListener(t,e,s))}function jn(i){return!!(i!=null&&i.type.startsWith("pointer"))}function Ge(i){return!!(i!=null&&i.type.startsWith("touch"))}function Nr(i){return/^(click|mouse)/.test((i==null?void 0:i.type)??"")}function Ms(i){return!!(i!=null&&i.type.startsWith("key"))}function Vr(i){return Ms(i)&&i.key==="Enter"}function Qa(i){return Ms(i)&&(i.key==="Enter"||i.key===" ")}function Hr(i){return i instanceof Node}function x(i,t,e){if(i)if(!e&&e!==""&&e!==0)i.removeAttribute(t);else{const s=e===!0?"":e+"";i.getAttribute(t)!==s&&i.setAttribute(t,s)}else return}function ct(i,t,e){if(i)!e&&e!==0?i.style.removeProperty(t):i.style.setProperty(t,e+"");else return}function Rn(i,t,e){i.classList[e?"add":"remove"](t)}function $(i,t){const e=ki(i,null,t),s=wi.bind(e);return s[bt]=!0,s.set=Va.bind(e),s}function Kr(i){return Ds(i)&&bt in i}function Ot(i,t){const e=ki(t==null?void 0:t.initial,i,t),s=wi.bind(e);return s[bt]=!0,s}function Wr(i,t){const e=ki(null,function(){let n=i();return Ds(n)&&A(n),null},void 0);return e.$e=!0,Ka(e),Le.bind(e,!0)}function Ur(i){return Kr(i)&&"set"in i}const u=Wr;function Dt(i){return{id:Symbol(),provide:i}}function tt(i,t,e=Ls()){var n;const s=!ht(t);Ir(i.id,s?t:(n=i.provide)==null?void 0:n.call(i),e)}function F(i){return Fa(i.id)}function dt(i){return!ht(Fa(i.id))}const fe=Symbol(0),me=Symbol(0),za=Symbol(0);var qn;const Ks={};class Br{constructor(t,e,s){var r;this[qn]=null,this.$el=$(null),this.a=null,this.d=null,this.f=null,this.g=null,this.e=null,this.o=!1,this.i=Ks,this.b=null,this.c=null,this.l=[],this.m=[],this.j=[],this.n=[],this.d=e,s!=null&&s.scope&&s.scope.append(e);let n=t.state,a=t.props;if(n&&(this.h=n.create(),this.k=new Proxy(this.h,{get:(o,h)=>this.h[h]()}),tt(n,this.h)),a&&(this.i=Qr(a),s!=null&&s.props))for(const o of Object.keys(s.props))(r=this.i[o])==null||r.set(s.props[o]);A(this.p.bind(this))}w(){J(()=>{for(const t of this.l)t()},this.d)}x(t){this.a||(this.a=t,this.$el.set(t),J(()=>{this.f=ss(),J(()=>{for(const e of this.m)e(this.a);this.q(),this.r()},this.f)},this.d),t.dispatchEvent(new Event("attached")))}s(){var t;(t=this.f)==null||t.dispose(),this.f=null,this.g=null,this.a=null,this.$el.set(null)}y(){!this.a||!this.f||!this.j.length||J(()=>{this.g=ss(),J(()=>{for(const t of this.j)t(this.a)},this.g)},this.f)}z(){var t;(t=this.g)==null||t.dispose(),this.g=null}p(){if(this.o)return;this.o=!0,J(()=>{for(const e of this.n)e(this.a)},this.d);const t=this.a;this.s(),this.d.dispose(),this.l.length=0,this.m.length=0,this.j.length=0,this.n.length=0,this.e=null,this.b=null,this.c=null,this.i=Ks,this.d=null,this.k=Ks,this.h=null,t&&delete t.$}t(t){t.onSetup&&this.l.push(t.onSetup.bind(t)),t.onAttach&&this.m.push(t.onAttach.bind(t)),t.onConnect&&this.j.push(t.onConnect.bind(t)),t.onDestroy&&this.n.push(t.onDestroy.bind(t))}q(){if(this.b)for(const t of Object.keys(this.b))Tt(this.b[t])?u(this.u.bind(this,t)):x(this.a,t,this.b[t])}r(){if(this.c)for(const t of Object.keys(this.c))Tt(this.c[t])?u(this.v.bind(this,t)):ct(this.a,t,this.c[t])}u(t){x(this.a,t,this.b[t].call(this.e))}v(t){ct(this.a,t,this.c[t].call(this.e))}}qn=za;function Qr(i){const t={};for(const e of Object.keys(i)){const s=i[e];t[e]=$(s,s)}return t}let be={$$:null};function zr(i,t){return Mr(()=>{be.$$=new Br(i,Ls(),t);const e=new i;return be.$$.e=e,be.$$=null,e})}class yt extends EventTarget{constructor(){super(),be.$$&&this.attach(be)}get el(){return this.$$.a}get $el(){return this.$$.$el()}get scope(){return this.$$.d}get attachScope(){return this.$$.f}get connectScope(){return this.$$.g}get $props(){return this.$$.i}get $state(){return this.$$.h}get state(){return this.$$.k}attach({$$:t}){return this.$$=t,t.t(this),this}addEventListener(t,e,s){this.listen(t,e,s)}removeEventListener(t,e,s){var n;(n=this.el)==null||n.removeEventListener(t,e,s)}setAttributes(t){this.$$.b||(this.$$.b={}),Object.assign(this.$$.b,t)}setStyles(t){this.$$.c||(this.$$.c={}),Object.assign(this.$$.c,t)}setCSSVars(t){this.setStyles(t)}createEvent(t,...e){return new _(t,e[0])}dispatch(t,...e){if(!this.el)return!1;const s=t instanceof Event?t:new _(t,e[0]);return Object.defineProperty(s,"target",{get:()=>this.$$.e}),yi(()=>{var n,a;return(a=(n=this.$$)[za])==null||a.call(n,s),this.el.dispatchEvent(s)})}dispatchEvent(t){return this.dispatch(t)}listen(t,e,s){return this.el?y(this.el,t,e,s):is}}class w extends yt{subscribe(t){return J(()=>u(()=>t(this.state)),this.$$.d)}destroy(){this.$$.p()}}function S(i,t,e){i[fe]||(i[fe]=new Set),i[fe].add(t)}function N(i,t,e){i[me]||(i[me]=new Set),i[me].add(t)}class Kt{constructor(t){this.id=Symbol(0),this.record=t,this.A=Object.getOwnPropertyDescriptors(t)}create(){const t={},e=new Proxy(t,{get:(s,n)=>t[n]()});for(const s of Object.keys(this.record)){const n=this.A[s].get;t[s]=n?Ot(n.bind(e)):$(this.record[s])}return t}reset(t,e){for(const s of Object.keys(t))!this.A[s].get&&(!e||e(s))&&t[s].set(this.record[s])}}function Is(i){return F(i)}function Yr(i,t){for(const e of i)e(t)}function Ya(i){return i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Xr(i){return i.replace(/-./g,t=>t[1].toUpperCase())}function Gr(i){return i.charAt(0).toUpperCase()+i.slice(1)}function Ol(i){return Tt(i)?i():i}function ns(i){return i?"true":"false"}function Si(){const i=new Set;return{add(...t){for(const e of t)i.add(e)},empty(){for(const t of i)t();i.clear()}}}function Ll(){const i=Si();return A(i.empty),i}function Dl(i){return Object.keys(i)}function Js(){let i,t;return{promise:new Promise((s,n)=>{i=s,t=n}),resolve:i,reject:t}}function Jr(i){return new Promise(t=>setTimeout(t,i))}function Zt(i){let t=-1,e;function s(...n){e=n,!(t>=0)&&(t=window.requestAnimationFrame(()=>{i.apply(this,e),t=-1,e=void 0}))}return s}const Zr=typeof window<"u"?"requestIdleCallback"in window?window.requestIdleCallback:i=>window.setTimeout(i,1):is;function to(i,t){return new Promise(e=>{Zr(s=>{i==null||i(s),e()},t)})}var rt={fullscreenEnabled:0,fullscreenElement:1,requestFullscreen:2,exitFullscreen:3,fullscreenchange:4,fullscreenerror:5,fullscreen:6},_n=["webkitFullscreenEnabled","webkitFullscreenElement","webkitRequestFullscreen","webkitExitFullscreen","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],Fn=["mozFullScreenEnabled","mozFullScreenElement","mozRequestFullScreen","mozCancelFullScreen","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],Nn=["msFullscreenEnabled","msFullscreenElement","msRequestFullscreen","msExitFullscreen","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"],Z=typeof window<"u"&&typeof window.document<"u"?window.document:{},pt="fullscreenEnabled"in Z&&Object.keys(rt)||_n[0]in Z&&_n||Fn[0]in Z&&Fn||Nn[0]in Z&&Nn||[],_t={requestFullscreen:function(i){return i[pt[rt.requestFullscreen]]()},requestFullscreenFunction:function(i){return i[pt[rt.requestFullscreen]]},get exitFullscreen(){return Z[pt[rt.exitFullscreen]].bind(Z)},get fullscreenPseudoClass(){return":"+pt[rt.fullscreen]},addEventListener:function(i,t,e){return Z.addEventListener(pt[rt[i]],t,e)},removeEventListener:function(i,t,e){return Z.removeEventListener(pt[rt[i]],t,e)},get fullscreenEnabled(){return!!Z[pt[rt.fullscreenEnabled]]},set fullscreenEnabled(i){},get fullscreenElement(){return Z[pt[rt.fullscreenElement]]},set fullscreenElement(i){},get onfullscreenchange(){return Z[("on"+pt[rt.fullscreenchange]).toLowerCase()]},set onfullscreenchange(i){return Z[("on"+pt[rt.fullscreenchange]).toLowerCase()]=i},get onfullscreenerror(){return Z[("on"+pt[rt.fullscreenerror]).toLowerCase()]},set onfullscreenerror(i){return Z[("on"+pt[rt.fullscreenerror]).toLowerCase()]=i}};const as=Math.min,zt=Math.max,rs=Math.round,Ue=Math.floor,Ft=i=>({x:i,y:i}),eo={left:"right",right:"left",bottom:"top",top:"bottom"},so={start:"end",end:"start"};function Vn(i,t,e){return zt(i,as(t,e))}function Pi(i,t){return typeof i=="function"?i(t):i}function oe(i){return i.split("-")[0]}function Ei(i){return i.split("-")[1]}function Xa(i){return i==="x"?"y":"x"}function Ga(i){return i==="y"?"height":"width"}function Ai(i){return["top","bottom"].includes(oe(i))?"y":"x"}function Ja(i){return Xa(Ai(i))}function io(i,t,e){e===void 0&&(e=!1);const s=Ei(i),n=Ja(i),a=Ga(n);let r=n==="x"?s===(e?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(r=os(r)),[r,os(r)]}function no(i){const t=os(i);return[Zs(i),t,Zs(t)]}function Zs(i){return i.replace(/start|end/g,t=>so[t])}function ao(i,t,e){const s=["left","right"],n=["right","left"],a=["top","bottom"],r=["bottom","top"];switch(i){case"top":case"bottom":return e?t?n:s:t?s:n;case"left":case"right":return t?a:r;default:return[]}}function ro(i,t,e,s){const n=Ei(i);let a=ao(oe(i),e==="start",s);return n&&(a=a.map(r=>r+"-"+n),t&&(a=a.concat(a.map(Zs)))),a}function os(i){return i.replace(/left|right|bottom|top/g,t=>eo[t])}function oo(i){return{top:0,right:0,bottom:0,left:0,...i}}function ho(i){return typeof i!="number"?oo(i):{top:i,right:i,bottom:i,left:i}}function hs(i){return{...i,top:i.y,left:i.x,right:i.x+i.width,bottom:i.y+i.height}}function Hn(i,t,e){let{reference:s,floating:n}=i;const a=Ai(t),r=Ja(t),o=Ga(r),h=oe(t),c=a==="y",l=s.x+s.width/2-n.width/2,d=s.y+s.height/2-n.height/2,p=s[o]/2-n[o]/2;let f;switch(h){case"top":f={x:l,y:s.y-n.height};break;case"bottom":f={x:l,y:s.y+s.height};break;case"right":f={x:s.x+s.width,y:d};break;case"left":f={x:s.x-n.width,y:d};break;default:f={x:s.x,y:s.y}}switch(Ei(t)){case"start":f[r]-=p*(e&&c?-1:1);break;case"end":f[r]+=p*(e&&c?-1:1);break}return f}const co=async(i,t,e)=>{const{placement:s="bottom",strategy:n="absolute",middleware:a=[],platform:r}=e,o=a.filter(Boolean),h=await(r.isRTL==null?void 0:r.isRTL(t));let c=await r.getElementRects({reference:i,floating:t,strategy:n}),{x:l,y:d}=Hn(c,s,h),p=s,f={},m=0;for(let g=0;g<o.length;g++){const{name:v,fn:T}=o[g],{x:E,y:O,data:I,reset:R}=await T({x:l,y:d,initialPlacement:s,placement:p,strategy:n,middlewareData:f,rects:c,platform:r,elements:{reference:i,floating:t}});l=E??l,d=O??d,f={...f,[v]:{...f[v],...I}},R&&m<=50&&(m++,typeof R=="object"&&(R.placement&&(p=R.placement),R.rects&&(c=R.rects===!0?await r.getElementRects({reference:i,floating:t,strategy:n}):R.rects),{x:l,y:d}=Hn(c,p,h)),g=-1)}return{x:l,y:d,placement:p,strategy:n,middlewareData:f}};async function Za(i,t){var e;t===void 0&&(t={});const{x:s,y:n,platform:a,rects:r,elements:o,strategy:h}=i,{boundary:c="clippingAncestors",rootBoundary:l="viewport",elementContext:d="floating",altBoundary:p=!1,padding:f=0}=Pi(t,i),m=ho(f),v=o[p?d==="floating"?"reference":"floating":d],T=hs(await a.getClippingRect({element:(e=await(a.isElement==null?void 0:a.isElement(v)))==null||e?v:v.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(o.floating)),boundary:c,rootBoundary:l,strategy:h})),E=d==="floating"?{...r.floating,x:s,y:n}:r.reference,O=await(a.getOffsetParent==null?void 0:a.getOffsetParent(o.floating)),I=await(a.isElement==null?void 0:a.isElement(O))?await(a.getScale==null?void 0:a.getScale(O))||{x:1,y:1}:{x:1,y:1},R=hs(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:E,offsetParent:O,strategy:h}):E);return{top:(T.top-R.top+m.top)/I.y,bottom:(R.bottom-T.bottom+m.bottom)/I.y,left:(T.left-R.left+m.left)/I.x,right:(R.right-T.right+m.right)/I.x}}const lo=function(i){return i===void 0&&(i={}),{name:"flip",options:i,async fn(t){var e,s;const{placement:n,middlewareData:a,rects:r,initialPlacement:o,platform:h,elements:c}=t,{mainAxis:l=!0,crossAxis:d=!0,fallbackPlacements:p,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:g=!0,...v}=Pi(i,t);if((e=a.arrow)!=null&&e.alignmentOffset)return{};const T=oe(n),E=oe(o)===o,O=await(h.isRTL==null?void 0:h.isRTL(c.floating)),I=p||(E||!g?[os(o)]:no(o));!p&&m!=="none"&&I.push(...ro(o,g,m,O));const R=[o,...I],W=await Za(t,v),G=[];let st=((s=a.flip)==null?void 0:s.overflows)||[];if(l&&G.push(W[T]),d){const it=io(n,r,O);G.push(W[it[0]],W[it[1]])}if(st=[...st,{placement:n,overflows:G}],!G.every(it=>it<=0)){var Ut,$t;const it=(((Ut=a.flip)==null?void 0:Ut.index)||0)+1,U=R[it];if(U)return{data:{index:it,overflows:st},reset:{placement:U}};let V=($t=st.filter(nt=>nt.overflows[0]<=0).sort((nt,B)=>nt.overflows[1]-B.overflows[1])[0])==null?void 0:$t.placement;if(!V)switch(f){case"bestFit":{var It;const nt=(It=st.map(B=>[B.placement,B.overflows.filter(L=>L>0).reduce((L,at)=>L+at,0)]).sort((B,L)=>B[1]-L[1])[0])==null?void 0:It[0];nt&&(V=nt);break}case"initialPlacement":V=o;break}if(n!==V)return{reset:{placement:V}}}return{}}}},uo=function(i){return i===void 0&&(i={}),{name:"shift",options:i,async fn(t){const{x:e,y:s,placement:n}=t,{mainAxis:a=!0,crossAxis:r=!1,limiter:o={fn:v=>{let{x:T,y:E}=v;return{x:T,y:E}}},...h}=Pi(i,t),c={x:e,y:s},l=await Za(t,h),d=Ai(oe(n)),p=Xa(d);let f=c[p],m=c[d];if(a){const v=p==="y"?"top":"left",T=p==="y"?"bottom":"right",E=f+l[v],O=f-l[T];f=Vn(E,f,O)}if(r){const v=d==="y"?"top":"left",T=d==="y"?"bottom":"right",E=m+l[v],O=m-l[T];m=Vn(E,m,O)}const g=o.fn({...t,[p]:f,[d]:m});return{...g,data:{x:g.x-e,y:g.y-s}}}}};function Nt(i){return tr(i)?(i.nodeName||"").toLowerCase():"#document"}function lt(i){var t;return(i==null||(t=i.ownerDocument)==null?void 0:t.defaultView)||window}function Mt(i){var t;return(t=(tr(i)?i.ownerDocument:i.document)||window.document)==null?void 0:t.documentElement}function tr(i){return i instanceof Node||i instanceof lt(i).Node}function Lt(i){return i instanceof Element||i instanceof lt(i).Element}function kt(i){return i instanceof HTMLElement||i instanceof lt(i).HTMLElement}function Kn(i){return typeof ShadowRoot>"u"?!1:i instanceof ShadowRoot||i instanceof lt(i).ShadowRoot}function Me(i){const{overflow:t,overflowX:e,overflowY:s,display:n}=gt(i);return/auto|scroll|overlay|hidden|clip/.test(t+s+e)&&!["inline","contents"].includes(n)}function po(i){return["table","td","th"].includes(Nt(i))}function Ci(i){const t=Oi(),e=gt(i);return e.transform!=="none"||e.perspective!=="none"||(e.containerType?e.containerType!=="normal":!1)||!t&&(e.backdropFilter?e.backdropFilter!=="none":!1)||!t&&(e.filter?e.filter!=="none":!1)||["transform","perspective","filter"].some(s=>(e.willChange||"").includes(s))||["paint","layout","strict","content"].some(s=>(e.contain||"").includes(s))}function fo(i){let t=he(i);for(;kt(t)&&!js(t);){if(Ci(t))return t;t=he(t)}return null}function Oi(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function js(i){return["html","body","#document"].includes(Nt(i))}function gt(i){return lt(i).getComputedStyle(i)}function Rs(i){return Lt(i)?{scrollLeft:i.scrollLeft,scrollTop:i.scrollTop}:{scrollLeft:i.pageXOffset,scrollTop:i.pageYOffset}}function he(i){if(Nt(i)==="html")return i;const t=i.assignedSlot||i.parentNode||Kn(i)&&i.host||Mt(i);return Kn(t)?t.host:t}function er(i){const t=he(i);return js(t)?i.ownerDocument?i.ownerDocument.body:i.body:kt(t)&&Me(t)?t:er(t)}function Te(i,t,e){var s;t===void 0&&(t=[]),e===void 0&&(e=!0);const n=er(i),a=n===((s=i.ownerDocument)==null?void 0:s.body),r=lt(n);return a?t.concat(r,r.visualViewport||[],Me(n)?n:[],r.frameElement&&e?Te(r.frameElement):[]):t.concat(n,Te(n,[],e))}function sr(i){const t=gt(i);let e=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const n=kt(i),a=n?i.offsetWidth:e,r=n?i.offsetHeight:s,o=rs(e)!==a||rs(s)!==r;return o&&(e=a,s=r),{width:e,height:s,$:o}}function Li(i){return Lt(i)?i:i.contextElement}function re(i){const t=Li(i);if(!kt(t))return Ft(1);const e=t.getBoundingClientRect(),{width:s,height:n,$:a}=sr(t);let r=(a?rs(e.width):e.width)/s,o=(a?rs(e.height):e.height)/n;return(!r||!Number.isFinite(r))&&(r=1),(!o||!Number.isFinite(o))&&(o=1),{x:r,y:o}}const mo=Ft(0);function ir(i){const t=lt(i);return!Oi()||!t.visualViewport?mo:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function bo(i,t,e){return t===void 0&&(t=!1),!e||t&&e!==lt(i)?!1:t}function Xt(i,t,e,s){t===void 0&&(t=!1),e===void 0&&(e=!1);const n=i.getBoundingClientRect(),a=Li(i);let r=Ft(1);t&&(s?Lt(s)&&(r=re(s)):r=re(i));const o=bo(a,e,s)?ir(a):Ft(0);let h=(n.left+o.x)/r.x,c=(n.top+o.y)/r.y,l=n.width/r.x,d=n.height/r.y;if(a){const p=lt(a),f=s&&Lt(s)?lt(s):s;let m=p,g=m.frameElement;for(;g&&s&&f!==m;){const v=re(g),T=g.getBoundingClientRect(),E=gt(g),O=T.left+(g.clientLeft+parseFloat(E.paddingLeft))*v.x,I=T.top+(g.clientTop+parseFloat(E.paddingTop))*v.y;h*=v.x,c*=v.y,l*=v.x,d*=v.y,h+=O,c+=I,m=lt(g),g=m.frameElement}}return hs({width:l,height:d,x:h,y:c})}const go=[":popover-open",":modal"];function nr(i){return go.some(t=>{try{return i.matches(t)}catch{return!1}})}function yo(i){let{elements:t,rect:e,offsetParent:s,strategy:n}=i;const a=n==="fixed",r=Mt(s),o=t?nr(t.floating):!1;if(s===r||o&&a)return e;let h={scrollLeft:0,scrollTop:0},c=Ft(1);const l=Ft(0),d=kt(s);if((d||!d&&!a)&&((Nt(s)!=="body"||Me(r))&&(h=Rs(s)),kt(s))){const p=Xt(s);c=re(s),l.x=p.x+s.clientLeft,l.y=p.y+s.clientTop}return{width:e.width*c.x,height:e.height*c.y,x:e.x*c.x-h.scrollLeft*c.x+l.x,y:e.y*c.y-h.scrollTop*c.y+l.y}}function $o(i){return Array.from(i.getClientRects())}function ar(i){return Xt(Mt(i)).left+Rs(i).scrollLeft}function wo(i){const t=Mt(i),e=Rs(i),s=i.ownerDocument.body,n=zt(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),a=zt(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let r=-e.scrollLeft+ar(i);const o=-e.scrollTop;return gt(s).direction==="rtl"&&(r+=zt(t.clientWidth,s.clientWidth)-n),{width:n,height:a,x:r,y:o}}function vo(i,t){const e=lt(i),s=Mt(i),n=e.visualViewport;let a=s.clientWidth,r=s.clientHeight,o=0,h=0;if(n){a=n.width,r=n.height;const c=Oi();(!c||c&&t==="fixed")&&(o=n.offsetLeft,h=n.offsetTop)}return{width:a,height:r,x:o,y:h}}function To(i,t){const e=Xt(i,!0,t==="fixed"),s=e.top+i.clientTop,n=e.left+i.clientLeft,a=kt(i)?re(i):Ft(1),r=i.clientWidth*a.x,o=i.clientHeight*a.y,h=n*a.x,c=s*a.y;return{width:r,height:o,x:h,y:c}}function Wn(i,t,e){let s;if(t==="viewport")s=vo(i,e);else if(t==="document")s=wo(Mt(i));else if(Lt(t))s=To(t,e);else{const n=ir(i);s={...t,x:t.x-n.x,y:t.y-n.y}}return hs(s)}function rr(i,t){const e=he(i);return e===t||!Lt(e)||js(e)?!1:gt(e).position==="fixed"||rr(e,t)}function ko(i,t){const e=t.get(i);if(e)return e;let s=Te(i,[],!1).filter(o=>Lt(o)&&Nt(o)!=="body"),n=null;const a=gt(i).position==="fixed";let r=a?he(i):i;for(;Lt(r)&&!js(r);){const o=gt(r),h=Ci(r);!h&&o.position==="fixed"&&(n=null),(a?!h&&!n:!h&&o.position==="static"&&!!n&&["absolute","fixed"].includes(n.position)||Me(r)&&!h&&rr(i,r))?s=s.filter(l=>l!==r):n=o,r=he(r)}return t.set(i,s),s}function xo(i){let{element:t,boundary:e,rootBoundary:s,strategy:n}=i;const r=[...e==="clippingAncestors"?ko(t,this._c):[].concat(e),s],o=r[0],h=r.reduce((c,l)=>{const d=Wn(t,l,n);return c.top=zt(d.top,c.top),c.right=as(d.right,c.right),c.bottom=as(d.bottom,c.bottom),c.left=zt(d.left,c.left),c},Wn(t,o,n));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function So(i){const{width:t,height:e}=sr(i);return{width:t,height:e}}function Po(i,t,e){const s=kt(t),n=Mt(t),a=e==="fixed",r=Xt(i,!0,a,t);let o={scrollLeft:0,scrollTop:0};const h=Ft(0);if(s||!s&&!a)if((Nt(t)!=="body"||Me(n))&&(o=Rs(t)),s){const d=Xt(t,!0,a,t);h.x=d.x+t.clientLeft,h.y=d.y+t.clientTop}else n&&(h.x=ar(n));const c=r.left+o.scrollLeft-h.x,l=r.top+o.scrollTop-h.y;return{x:c,y:l,width:r.width,height:r.height}}function Un(i,t){return!kt(i)||gt(i).position==="fixed"?null:t?t(i):i.offsetParent}function or(i,t){const e=lt(i);if(!kt(i)||nr(i))return e;let s=Un(i,t);for(;s&&po(s)&&gt(s).position==="static";)s=Un(s,t);return s&&(Nt(s)==="html"||Nt(s)==="body"&&gt(s).position==="static"&&!Ci(s))?e:s||fo(i)||e}const Eo=async function(i){const t=this.getOffsetParent||or,e=this.getDimensions;return{reference:Po(i.reference,await t(i.floating),i.strategy),floating:{x:0,y:0,...await e(i.floating)}}};function Ao(i){return gt(i).direction==="rtl"}const Co={convertOffsetParentRelativeRectToViewportRelativeRect:yo,getDocumentElement:Mt,getClippingRect:xo,getOffsetParent:or,getElementRects:Eo,getClientRects:$o,getDimensions:So,getScale:re,isElement:Lt,isRTL:Ao};function Oo(i,t){let e=null,s;const n=Mt(i);function a(){var o;clearTimeout(s),(o=e)==null||o.disconnect(),e=null}function r(o,h){o===void 0&&(o=!1),h===void 0&&(h=1),a();const{left:c,top:l,width:d,height:p}=i.getBoundingClientRect();if(o||t(),!d||!p)return;const f=Ue(l),m=Ue(n.clientWidth-(c+d)),g=Ue(n.clientHeight-(l+p)),v=Ue(c),E={rootMargin:-f+"px "+-m+"px "+-g+"px "+-v+"px",threshold:zt(0,as(1,h))||1};let O=!0;function I(R){const W=R[0].intersectionRatio;if(W!==h){if(!O)return r();W?r(!1,W):s=setTimeout(()=>{r(!1,1e-7)},100)}O=!1}try{e=new IntersectionObserver(I,{...E,root:n.ownerDocument})}catch{e=new IntersectionObserver(I,E)}e.observe(i)}return r(!0),a}function Lo(i,t,e,s){s===void 0&&(s={});const{ancestorScroll:n=!0,ancestorResize:a=!0,elementResize:r=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:h=!1}=s,c=Li(i),l=n||a?[...c?Te(c):[],...Te(t)]:[];l.forEach(T=>{n&&T.addEventListener("scroll",e,{passive:!0}),a&&T.addEventListener("resize",e)});const d=c&&o?Oo(c,e):null;let p=-1,f=null;r&&(f=new ResizeObserver(T=>{let[E]=T;E&&E.target===c&&f&&(f.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var O;(O=f)==null||O.observe(t)})),e()}),c&&!h&&f.observe(c),f.observe(t));let m,g=h?Xt(i):null;h&&v();function v(){const T=Xt(i);g&&(T.x!==g.x||T.y!==g.y||T.width!==g.width||T.height!==g.height)&&e(),g=T,m=requestAnimationFrame(v)}return e(),()=>{var T;l.forEach(E=>{n&&E.removeEventListener("scroll",e),a&&E.removeEventListener("resize",e)}),d==null||d(),(T=f)==null||T.disconnect(),f=null,h&&cancelAnimationFrame(m)}}const Do=uo,Mo=lo,Io=(i,t,e)=>{const s=new Map,n={platform:Co,...e},a={...n.platform,_c:s};return co(i,t,{...n,platform:a})},Bn=i=>typeof i=="object"&&i!=null&&i.nodeType===1,Qn=(i,t)=>(!t||i!=="hidden")&&i!=="visible"&&i!=="clip",Ws=(i,t)=>{if(i.clientHeight<i.scrollHeight||i.clientWidth<i.scrollWidth){const e=getComputedStyle(i,null);return Qn(e.overflowY,t)||Qn(e.overflowX,t)||(s=>{const n=(a=>{if(!a.ownerDocument||!a.ownerDocument.defaultView)return null;try{return a.ownerDocument.defaultView.frameElement}catch{return null}})(s);return!!n&&(n.clientHeight<s.scrollHeight||n.clientWidth<s.scrollWidth)})(i)}return!1},Be=(i,t,e,s,n,a,r,o)=>a<i&&r>t||a>i&&r<t?0:a<=i&&o<=e||r>=t&&o>=e?a-i-s:r>t&&o<e||a<i&&o>e?r-t+n:0,jo=i=>{const t=i.parentElement;return t??(i.getRootNode().host||null)},Ro=(i,t)=>{var e,s,n,a;if(typeof document>"u")return[];const{scrollMode:r,block:o,inline:h,boundary:c,skipOverflowHiddenElements:l}=t,d=typeof c=="function"?c:B=>B!==c;if(!Bn(i))throw new TypeError("Invalid target");const p=document.scrollingElement||document.documentElement,f=[];let m=i;for(;Bn(m)&&d(m);){if(m=jo(m),m===p){f.push(m);break}m!=null&&m===document.body&&Ws(m)&&!Ws(document.documentElement)||m!=null&&Ws(m,l)&&f.push(m)}const g=(s=(e=window.visualViewport)==null?void 0:e.width)!=null?s:innerWidth,v=(a=(n=window.visualViewport)==null?void 0:n.height)!=null?a:innerHeight,{scrollX:T,scrollY:E}=window,{height:O,width:I,top:R,right:W,bottom:G,left:st}=i.getBoundingClientRect(),{top:Ut,right:$t,bottom:It,left:it}=(B=>{const L=window.getComputedStyle(B);return{top:parseFloat(L.scrollMarginTop)||0,right:parseFloat(L.scrollMarginRight)||0,bottom:parseFloat(L.scrollMarginBottom)||0,left:parseFloat(L.scrollMarginLeft)||0}})(i);let U=o==="start"||o==="nearest"?R-Ut:o==="end"?G+It:R+O/2-Ut+It,V=h==="center"?st+I/2-it+$t:h==="end"?W+$t:st-it;const nt=[];for(let B=0;B<f.length;B++){const L=f[B],{height:at,width:Bt,top:St,right:ie,bottom:Ns,left:qe}=L.getBoundingClientRect();if(r==="if-needed"&&R>=0&&st>=0&&G<=v&&W<=g&&R>=St&&G<=Ns&&st>=qe&&W<=ie)return nt;const _e=getComputedStyle(L),Fe=parseInt(_e.borderLeftWidth,10),Ne=parseInt(_e.borderTopWidth,10),Ve=parseInt(_e.borderRightWidth,10),He=parseInt(_e.borderBottomWidth,10);let jt=0,Rt=0;const Ke="offsetWidth"in L?L.offsetWidth-L.clientWidth-Fe-Ve:0,We="offsetHeight"in L?L.offsetHeight-L.clientHeight-Ne-He:0,Vs="offsetWidth"in L?L.offsetWidth===0?0:Bt/L.offsetWidth:0,Hs="offsetHeight"in L?L.offsetHeight===0?0:at/L.offsetHeight:0;if(p===L)jt=o==="start"?U:o==="end"?U-v:o==="nearest"?Be(E,E+v,v,Ne,He,E+U,E+U+O,O):U-v/2,Rt=h==="start"?V:h==="center"?V-g/2:h==="end"?V-g:Be(T,T+g,g,Fe,Ve,T+V,T+V+I,I),jt=Math.max(0,jt+E),Rt=Math.max(0,Rt+T);else{jt=o==="start"?U-St-Ne:o==="end"?U-Ns+He+We:o==="nearest"?Be(St,Ns,at,Ne,He+We,U,U+O,O):U-(St+at/2)+We/2,Rt=h==="start"?V-qe-Fe:h==="center"?V-(qe+Bt/2)+Ke/2:h==="end"?V-ie+Ve+Ke:Be(qe,ie,Bt,Fe,Ve+Ke,V,V+I,I);const{scrollLeft:An,scrollTop:Cn}=L;jt=Hs===0?0:Math.max(0,Math.min(Cn+jt/Hs,L.scrollHeight-at/Hs+We)),Rt=Vs===0?0:Math.max(0,Math.min(An+Rt/Vs,L.scrollWidth-Bt/Vs+Ke)),U+=Cn-jt,V+=An-Rt}nt.push({el:L,top:jt,left:Rt})}return nt},Us=i=>i===null?"":i+"",qo=i=>i===null?null:i+"",_o=i=>i===null?0:Number(i),Fo=i=>i!==null,No=()=>null,Vo=i=>i===null?[]:JSON.parse(i),Ho=i=>i===null?{}:JSON.parse(i);function Ko(i){if(i===null)return qo;switch(typeof i){case"undefined":return Us;case"string":return Us;case"boolean":return Fo;case"number":return _o;case"function":return No;case"object":return Y(i)?Vo:Ho;default:return Us}}const qt=Symbol(0),hr=Symbol(0),Yt=Symbol(0),Qt=Symbol(0);function Ml(i,t){var e,s,n;const r=class r extends i{constructor(...h){if(super(...h),this[s]=0,this[n]=null,this.keepAlive=!1,this.forwardKeepAlive=!0,this.$=J(()=>zr(t),null),this.$.$$.t(this),t.props){const c=this.$props,l=Object.getOwnPropertyDescriptors(this);for(const d of Object.keys(l))d in t.props&&(c[d].set(this[d]),delete this[d])}}static get observedAttributes(){var h;if(!this[qt]&&t.props){const c=new Map;for(const l of Object.keys(t.props)){let d=(h=this.attrs)==null?void 0:h[l],p=k(d)?d:d&&(d==null?void 0:d.attr);p!==!1&&(p||(p=Ya(l)),c.set(p,{C:l,B:d&&!k(d)&&(d==null?void 0:d.converter)||Ko(t.props[l])}))}this[qt]=c}return this[qt]?Array.from(this[qt].keys()):[]}get scope(){return this.$.$$.d}get attachScope(){return this.$.$$.f}get connectScope(){return this.$.$$.g}get $props(){return this.$.$$.i}get $state(){return this.$.$$.h}get state(){return this.$.state}attributeChangedCallback(h,c,l){var f;const d=this.constructor;if(!d[qt]){(f=super.attributeChangedCallback)==null||f.call(this,h,c,l);return}const p=d[qt].get(h);p&&(this[p.C]=p.B(l))}connectedCallback(){var l;const h=(l=this.$)==null?void 0:l.$$;if(!h||h.o)return;if(this[Yt]!==2){Uo.call(this);return}if(!this.isConnected)return;this.hasAttribute("keep-alive")&&(this.keepAlive=!0),h.y(),Y(this[Qt])&&Yr(this[Qt],this),this[Qt]=null;const c=super.connectedCallback;c&&J(()=>c.call(this),this.connectScope)}disconnectedCallback(){var l;const h=(l=this.$)==null?void 0:l.$$;if(!h||h.o)return;h.z();const c=super.disconnectedCallback;c&&c.call(this),!this.keepAlive&&!this.hasAttribute("keep-alive")&&setTimeout(()=>{requestAnimationFrame(()=>{this.isConnected||h.p()})},0)}[(e=qt,s=Yt,n=Qt,hr)](){const h=this.$.$$,c=this.constructor;if(h.o)return;const l=c[qt];if(l)for(const d of this.attributes){let p=l.get(d.name);p&&p.B&&h.i[p.C].set(p.B(this.getAttribute(d.name)))}h.w(),h.x(this),this[Yt]=2,this.connectedCallback()}subscribe(h){return this.$.subscribe(h)}destroy(){this.disconnectedCallback(),this.$.destroy()}};r[e]=null;let a=r;return Wo(a,t),a}function Wo(i,t){const e=i.prototype,s=t.prototype;if(t.props)for(const n of Object.keys(t.props))Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get(){return this.$props[n]()},set(a){this.$props[n].set(a)}});if(s[fe])for(const n of s[fe])Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get(){return this.$[n]},set(a){this.$[n]=a}});if(s[me])for(const n of s[me])e[n]=function(...a){return this.$[n](...a)}}function Uo(){if(this[Yt]!==0)return;this[Yt]=1;const i=Qo(this),t=i&&window.customElements.get(i.localName),e=i&&i[Yt]===2;if(i&&(!t||!e)){Bo.call(this,i);return}cr.call(this,i)}async function Bo(i){await window.customElements.whenDefined(i.localName),i[Yt]!==2&&await new Promise(t=>(i[Qt]??(i[Qt]=[])).push(t)),cr.call(this,i)}function cr(i){if(this.isConnected){if(i){i.keepAlive&&i.forwardKeepAlive&&(this.keepAlive=!0,this.setAttribute("keep-alive",""));const t=this.$.$$.d;t&&i.$.$$.f.append(t)}this[hr]()}}function Qo(i){let t=i.parentNode,e=i.localName.split("-",1)[0]+"-";for(;t;){if(t.nodeType===1&&t.localName.startsWith(e))return t;t=t.parentNode}return null}function Il(i,t=!1){(t||!window.customElements.get(i.tagName))&&window.customElements.define(i.tagName,i)}const zo=Symbol(0),Yo=Symbol(0),Xo=Symbol(0),Go=Symbol(0),Jo=Symbol(0),Zo=Symbol(0),th=Symbol(0),eh=Symbol(0),sh=Symbol(0),D={oa:zo,Yb:Yo,H:Xo,pa:Go,Zb:Jo,Mc:Zo,ne:th,oe:eh,pe:sh},ih=(navigator==null?void 0:navigator.userAgent.toLowerCase())||"",lr=/iphone|ipad|ipod|ios|crios|fxios/i.test(ih),ur=/(iphone|ipod)/gi.test((navigator==null?void 0:navigator.platform)||""),nh=!!window.chrome,jl=!!window.safari||lr;function dr(){return ah()&&Tt(screen.orientation.unlock)}function ah(){return!ht(window.screen.orientation)&&!ht(window.screen.orientation.lock)}function rh(i,t){return i||(i=document.createElement("audio")),i.canPlayType(t).length>0}function oh(i,t){return i||(i=document.createElement("video")),i.canPlayType(t).length>0}function hh(i){return i||(i=document.createElement("video")),i.canPlayType("application/vnd.apple.mpegurl").length>0}function Rl(i){return!!document.pictureInPictureEnabled&&!(i!=null&&i.disablePictureInPicture)}function ql(i){return Tt(i==null?void 0:i.webkitSupportsPresentationMode)&&Tt(i==null?void 0:i.webkitSetPresentationMode)}async function ch(){const i=document.createElement("video");return i.volume=.5,await Jr(0),i.volume===.5}function lh(){return(window==null?void 0:window.ManagedMediaSource)??(window==null?void 0:window.MediaSource)??(window==null?void 0:window.WebKitMediaSource)}function uh(){return(window==null?void 0:window.SourceBuffer)??(window==null?void 0:window.WebKitSourceBuffer)}function Di(){const i=lh();if(ht(i))return!1;const t=i&&Tt(i.isTypeSupported)&&i.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),e=uh(),s=ht(e)||!ht(e.prototype)&&Tt(e.prototype.appendBuffer)&&Tt(e.prototype.remove);return!!t&&!!s}function dh(){return Di()}const ph=/\.(m4a|m4b|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i,fh=new Set(["audio/mpeg","audio/ogg","audio/3gp","audio/mp4","audio/webm","audio/flac"]),mh=/\.(mp4|og[gv]|webm|mov|m4v)(#t=[,\d+]+)?($|\?)/i,bh=new Set(["video/mp4","video/webm","video/3gp","video/ogg","video/avi","video/mpeg"]),gh=/\.(m3u8)($|\?)/i,yh=/\.(mpd)($|\?)/i,$h=new Set(["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"]),wh=new Set(["application/dash+xml"]);function Mi({src:i,type:t}){return k(i)?ph.test(i)||fh.has(t)||i.startsWith("blob:")&&t==="audio/object":t==="audio/object"}function Ii(i){return k(i.src)?mh.test(i.src)||bh.has(i.type)||i.src.startsWith("blob:")&&i.type==="video/object"||Ie(i)&&hh():i.type==="video/object"}function Ie({src:i,type:t}){return k(i)&&gh.test(i)||$h.has(t)}function ji({src:i,type:t}){return k(i)&&yh.test(i)||wh.has(t)}function vh(i){return k(i.src)&&(Mi(i)||Ii(i)||Ie(i))}function _l(i){return typeof window.MediaStream<"u"&&i instanceof window.MediaStream}class Je{get length(){return this.$.length}constructor(t,e){Y(t)?this.$=t:!ht(t)&&!ht(e)?this.$=[[t,e]]:this.$=[]}start(t){return this.$[t][0]??1/0}end(t){return this.$[t][1]??1/0}}function ti(i){if(!i.length)return null;let t=i.start(0);for(let e=1;e<i.length;e++){const s=i.start(e);s<t&&(t=s)}return t}function ge(i){if(!i.length)return null;let t=i.end(0);for(let e=1;e<i.length;e++){const s=i.end(e);s>t&&(t=s)}return t}function Fl(i,t,e){if(i)return y(i,t,e)}function zn(i,t){return Hr(t.target)&&i.contains(t.target)}const ei=new Set;window.setInterval(()=>{for(const i of ei)i()},1e3);function Th(i){return ei.add(i),()=>ei.delete(i)}function M(i,t,e){i.hasAttribute(t)||i.setAttribute(t,e)}function Wt(i,t){if(i.hasAttribute("aria-label")||i.hasAttribute("data-no-label"))return;if(!Tt(t)){x(i,"aria-label",t);return}function e(){x(i,"aria-label",t())}u(e)}function pr(i){const t=getComputedStyle(i);return t.display!=="none"&&parseInt(t.opacity)>0}function kh(i){return!!i&&("checkVisibility"in i?i.checkVisibility({checkOpacity:!0,checkVisibilityCSS:!0}):pr(i))}function fr(i,t){return Th(()=>t(kh(i)))}function mr(i,t,e){for(;t;){if(t===i)return!0;if(e!=null&&e(t))break;t=t.parentElement}return!1}function Vt(i,t){y(i,"pointerup",e=>{e.button===0&&t(e)}),y(i,"keydown",e=>{Qa(e)&&t(e)})}function Ri(i){return Ge(i)&&(i.touches.length>1||i.changedTouches.length>1)}function cs(i){let t=Ls(),e=window.requestAnimationFrame(()=>{J(i,t),e=-1});return()=>void window.cancelAnimationFrame(e)}function Nl(i,t,e){let s,n=i,a=i.parentElement,r=i.content.firstElementChild,o=[];!r&&i.firstElementChild&&(i.innerHTML=i.firstElementChild.outerHTML,i.firstElementChild.remove(),r=i.content.firstElementChild);for(let h=0;h<t;h++)s=document.importNode(r,!0),e==null||e(s,h),a.insertBefore(s,n.nextSibling),o.push(s),n=s;return A(()=>{for(let h=0;h<o.length;h++)o[h].remove()}),o}function Vl(i){const t=document.createElement("template");return t.innerHTML=i,t.content}function Hl(i){return i.cloneNode(!0).firstElementChild}function br(i,t,e,{offsetVarName:s,xOffset:n,yOffset:a,...r}){if(!i)return;const o=e.replace(" ","-").replace("-center","");if(ct(i,"visibility",t?null:"hidden"),!t)return;let h=e.includes("top");const c=d=>e.includes("left")?`calc(-1 * ${d})`:d,l=d=>h?`calc(-1 * ${d})`:d;return Lo(t,i,()=>{Io(t,i,{placement:o,middleware:[...r.middleware??[],Mo({fallbackAxisSideDirection:"start",crossAxis:!1}),Do()],...r}).then(({x:d,y:p,middlewareData:f})=>{var g;const m=!!((g=f.flip)!=null&&g.index);h=e.includes(m?"bottom":"top"),i.setAttribute("data-placement",m?e.startsWith("top")?e.replace("top","bottom"):e.replace("bottom","top"):e),Object.assign(i.style,{top:`calc(${p+"px"} + ${l(a?a+"px":`var(--${s}-y-offset, 0px)`)})`,left:`calc(${d+"px"} + ${c(n?n+"px":`var(--${s}-x-offset, 0px)`)})`})})})}function xh(i){return getComputedStyle(i).animationName!=="none"}function Kl(i){const t=document.createElement("slot");return t.name=i,t}function Wl(i){const t=$(!1);return u(()=>{const e=i();e&&(y(e,"transitionstart",()=>t.set(!0)),y(e,"transitionend",()=>t.set(!1)))}),t}function Ul(i,t){function e(){const s=i();if(!s)return;t();const n=new ResizeObserver(Zt(t));return n.observe(s),()=>n.disconnect()}u(e)}function Bl(i){const t=Sh(i),e=Ph(i);let s=!1;return Ot(()=>{const n=t();return s&&!n?!1:(s=n,n||e())})}function Sh(i){const t=$(!1);return u(()=>{const e=i();if(!e){t.set(!1);return}y(e,"mouseenter",()=>t.set(!0)),y(e,"mouseleave",()=>t.set(!1))}),t}function Ph(i){const t=$(!1);return u(()=>{const e=i();if(!e){t.set(!1);return}y(e,"focusin",()=>t.set(!0)),y(e,"focusout",()=>t.set(!1))}),t}function ke(i){return i instanceof HTMLElement}function Eh(){const i=$("dark"),t=window.matchMedia("(prefers-color-scheme: light)");function e(){i.set(t.matches?"light":"dark")}return e(),y(t,"change",e),i}function Ql(i,t){u(()=>{const s=t();if(s==="system"){const n=Eh();u(()=>e(n()));return}e(s)});function e(s){Rn(i,"light",s==="light"),Rn(i,"dark",s==="dark")}}function zl(i,t){const e=new URLSearchParams;for(const s of Object.keys(t))e.set(s,t[s]+"");return i+"?"+e.toString()}function je(i,t="preconnect"){const e=document.querySelector(`link[href="${i}"]`);if(!Ht(e))return!0;const s=document.createElement("link");return s.rel=t,s.href=i,s.crossOrigin="true",document.head.append(s),!0}const Qe={};function Yl(i){if(Qe[i])return Qe[i].promise;const t=Js(),e=document.querySelector(`script[src="${i}"]`);if(!Ht(e))return t.resolve(),t.promise;const s=document.createElement("script");return s.src=i,s.onload=()=>{t.resolve(),delete Qe[i]},s.onerror=()=>{t.reject(),delete Qe[i]},setTimeout(()=>document.head.append(s),0),t.promise}function ye(i){return i==="use-credentials"?"include":k(i)?"same-origin":void 0}function Xl({title:i,src:t,download:e}){const s=Mn(e)||e===""?t.src:k(e)?e:e==null?void 0:e.url;return Ah({url:s,src:t,download:e})?{url:s,name:!Mn(e)&&!k(e)&&(e==null?void 0:e.filename)||i.toLowerCase()||"media"}:null}function Ah({url:i,src:t,download:e}){return k(i)&&(e&&e!==!0||Mi(t)||Ii(t))}const Ch=Symbol(0),Oh=Symbol(0),Lh=Symbol(0),Dh=Symbol(0),Mh=Symbol(0),Ih=Symbol(0),jh=Symbol(0),C={al:Ch,M:Oh,Ta:Lh,P:Dh,Ua:Mh,T:Ih,te:jh};function si(i,t){return t>=i.startTime&&t<i.endTime}function qs(i,t,e){let s=null,n=Ls();function a(){const r=k(t)?[t]:t,o=i.toArray().find(h=>r.includes(h.kind)&&h.mode==="showing");if(o!==s){if(!o){e(null),s=null;return}o.readyState==2?e(o):(e(null),J(()=>{const h=y(o,"load",()=>{e(o),h()},{once:!0})},n)),s=o}}return a(),y(i,"mode-change",a)}function Gl(i,t,e){qs(i,t,s=>{if(!s){e("");return}const n=()=>{const a=s==null?void 0:s.activeCues[0];e((a==null?void 0:a.text)||"")};n(),y(s,"cue-change",n)})}var Yn,Xn,Gn;class ls extends Ba{constructor(t){super(),this.id="",this.label="",this.language="",this.default=!1,this.P=!1,this.Va=0,this.I="disabled",this.ue={},this.ac=[],this.J=[],this.Wa=[],this[Yn]=0,this[Xn]=null,this[Gn]=null;for(const e of Object.keys(t))this[e]=t[e];this.type||(this.type="vtt"),t.content?this.ap(t):t.src||(this[C.M]=2)}static createId(t){return`vds-${t.type}-${t.kind}-${t.src??t.label??"?"}`}get metadata(){return this.ue}get regions(){return this.ac}get cues(){return this.J}get activeCues(){return this.Wa}get readyState(){return this[C.M]}get mode(){return this.I}set mode(t){this.setMode(t)}addCue(t,e){var a;let s=0,n=this.J.length;for(s=0;s<n&&!(t.endTime<=this.J[s].startTime);s++);s===n?this.J.push(t):this.J.splice(s,0,t),t instanceof TextTrackCue||(a=this[C.T])==null||a.track.addCue(t),this.dispatchEvent(new _("add-cue",{detail:t,trigger:e})),si(t,this.Va)&&this[C.Ta](this.Va,e)}removeCue(t,e){var n;const s=this.J.indexOf(t);if(s>=0){const a=this.Wa.includes(t);this.J.splice(s,1),(n=this[C.T])==null||n.track.removeCue(t),this.dispatchEvent(new _("remove-cue",{detail:t,trigger:e})),a&&this[C.Ta](this.Va,e)}}setMode(t,e){var s;this.I!==t&&(this.I=t,t==="disabled"?(this.Wa=[],this.we()):this.readyState===2?this[C.Ta](this.Va,e):this.xe(),this.dispatchEvent(new _("mode-change",{detail:this,trigger:e})),(s=this[C.Ua])==null||s.call(this))}[(Yn=C.M,Xn=C.Ua,Gn=C.T,C.Ta)](t,e){if(this.Va=t,this.mode==="disabled"||!this.J.length)return;const s=[];for(let a=0,r=this.J.length;a<r;a++){const o=this.J[a];si(o,t)&&s.push(o)}let n=s.length!==this.Wa.length;if(!n){for(let a=0;a<s.length;a++)if(!this.Wa.includes(s[a])){n=!0;break}}this.Wa=s,n&&this.we(e)}[C.P](){this.P=!0,this.I!=="disabled"&&this.xe()}ap(t){ut(()=>import("./prod-B0mcJX03.js").then(e=>e.d),__vite__mapDeps([0,1])).then(({parseText:e,VTTCue:s,VTTRegion:n})=>{!k(t.content)||t.type==="json"?(this.ve(t.content,s,n),this.readyState!==3&&this.jc()):e(t.content,{type:t.type}).then(({cues:a,regions:r})=>{this.J=a,this.ac=r,this.jc()})})}async xe(){var t,e;if(!(!this.P||this[C.M]>0)){if(this[C.M]=1,this.dispatchEvent(new _("load-start")),!this.src){this.jc();return}try{const{parseResponse:s,VTTCue:n,VTTRegion:a}=await ut(()=>import("./prod-B0mcJX03.js").then(h=>h.d),__vite__mapDeps([0,1])),r=(t=this[C.al])==null?void 0:t.call(this),o=fetch(this.src,{headers:this.type==="json"?{"Content-Type":"application/json"}:void 0,credentials:ye(r)});if(this.type==="json")this.ve(await(await o).text(),n,a);else{const{errors:h,metadata:c,regions:l,cues:d}=await s(o,{type:this.type,encoding:this.encoding});if(((e=h[0])==null?void 0:e.code)===0)throw h[0];this.ue=c,this.ac=l,this.J=d}this.jc()}catch(s){this.$o(s)}}}jc(){if(this[C.M]=2,!this.src||this.type!=="vtt"){const e=this[C.T];if(e&&!e.managed)for(const s of this.J)e.track.addCue(s)}const t=new _("load");this[C.Ta](this.Va,t),this.dispatchEvent(t)}$o(t){this[C.M]=3,this.dispatchEvent(new _("error",{detail:t}))}ve(t,e,s){try{const{regions:n,cues:a}=qh(t,e,s);this.ac=n,this.J=a}catch(n){this.$o(n)}}we(t){this.dispatchEvent(new _("cue-change",{trigger:t}))}}const Rh=/captions|subtitles/;function X(i){return Rh.test(i.kind)}function qh(i,t,e){const s=k(i)?JSON.parse(i):i;let n=[],a=[];return s.regions&&e&&(n=s.regions.map(r=>Object.assign(new e,r))),(s.cues||Y(s))&&(a=(Y(s)?s:s.cues).filter(r=>mt(r.startTime)&&mt(r.endTime)).map(r=>Object.assign(new t(0,0,""),r))),{regions:n,cues:a}}var Jn;class gr extends Ba{constructor(){super(...arguments),this.r=[],this[Jn]=!1}get length(){return this.r.length}get readonly(){return this[D.Zb]}indexOf(t){return this.r.indexOf(t)}getById(t){return t===""?null:this.r.find(e=>e.id===t)??null}toArray(){return[...this.r]}[(Jn=D.Zb,Symbol.iterator)](){return this.r.values()}[D.oa](t,e){const s=this.r.length;""+s in this||Object.defineProperty(this,s,{get(){return this.r[s]}}),!this.r.includes(t)&&(this.r.push(t),this.dispatchEvent(new _("add",{detail:t,trigger:e})))}[D.Yb](t,e){var n;const s=this.r.indexOf(t);s>=0&&((n=this[D.oe])==null||n.call(this,t,e),this.r.splice(s,1),this.dispatchEvent(new _("remove",{detail:t,trigger:e})))}[D.H](t){var e;for(const s of[...this.r])this[D.Yb](s,t);this.r=[],this[D.Mc](!1,t),(e=this[D.ne])==null||e.call(this)}[D.Mc](t,e){this[D.Zb]!==t&&(this[D.Zb]=t,this.dispatchEvent(new _("readonly-change",{detail:t,trigger:e})))}}const yr=new Kt({artist:"",artwork:null,audioTrack:null,audioTracks:[],autoPlay:!1,autoPlayError:null,audioGain:null,buffered:new Je,canLoad:!1,canLoadPoster:!1,canFullscreen:!1,canOrientScreen:dr(),canPictureInPicture:!1,canPlay:!1,clipStartTime:0,clipEndTime:0,controls:!1,get iOSControls(){return ur&&this.mediaType==="video"&&(!this.playsInline||!_t.fullscreenEnabled&&this.fullscreen)},get nativeControls(){return this.controls||this.iOSControls},controlsVisible:!1,get controlsHidden(){return!this.controlsVisible},crossOrigin:null,ended:!1,error:null,fullscreen:!1,get loop(){return this.providedLoop||this.userPrefersLoop},logLevel:"silent",mediaType:"unknown",muted:!1,paused:!0,played:new Je,playing:!1,playsInline:!1,pictureInPicture:!1,preload:"metadata",playbackRate:1,qualities:[],quality:null,autoQuality:!1,canSetQuality:!0,canSetPlaybackRate:!0,canSetVolume:!1,canSetAudioGain:!1,seekable:new Je,seeking:!1,source:{src:"",type:""},sources:[],started:!1,textTracks:[],textTrack:null,get hasCaptions(){return this.textTracks.filter(X).length>0},volume:1,waiting:!1,realCurrentTime:0,get currentTime(){return this.clipStartTime>0?Math.max(0,Math.min(this.realCurrentTime-this.clipStartTime,this.duration)):this.realCurrentTime},providedDuration:-1,intrinsicDuration:0,get realDuration(){return this.providedDuration>0?this.providedDuration:this.intrinsicDuration},get duration(){return this.clipEndTime>0?this.clipEndTime-this.clipStartTime:Math.max(0,this.realDuration-this.clipStartTime)},get title(){return this.providedTitle||this.inferredTitle},get poster(){return this.providedPoster||this.inferredPoster},get viewType(){return this.providedViewType!=="unknown"?this.providedViewType:this.inferredViewType},get streamType(){return this.providedStreamType!=="unknown"?this.providedStreamType:this.inferredStreamType},get currentSrc(){return this.source},get bufferedStart(){const i=ti(this.buffered)??0;return Math.max(0,i-this.clipStartTime)},get bufferedEnd(){const i=ge(this.buffered)??0;return Math.min(this.duration,Math.max(0,i-this.clipStartTime))},get seekableStart(){const i=ti(this.seekable)??0;return Math.max(0,i-this.clipStartTime)},get seekableEnd(){const i=this.canPlay?ge(this.seekable)??1/0:0;return this.clipEndTime>0?Math.max(this.clipEndTime,Math.max(0,i-this.clipStartTime)):i},get seekableWindow(){return Math.max(0,this.seekableEnd-this.seekableStart)},canAirPlay:!1,canGoogleCast:!1,remotePlaybackState:"disconnected",remotePlaybackType:"none",remotePlaybackLoader:null,remotePlaybackInfo:null,get isAirPlayConnected(){return this.remotePlaybackType==="airplay"&&this.remotePlaybackState==="connected"},get isGoogleCastConnected(){return this.remotePlaybackType==="google-cast"&&this.remotePlaybackState==="connected"},pointer:"fine",orientation:"landscape",width:0,height:0,mediaWidth:0,mediaHeight:0,lastKeyboardAction:null,userBehindLiveEdge:!1,liveEdgeTolerance:10,minLiveDVRWindow:60,get canSeek(){return/unknown|on-demand|:dvr/.test(this.streamType)&&Number.isFinite(this.seekableWindow)&&(!this.live||/:dvr/.test(this.streamType)&&this.seekableWindow>=this.minLiveDVRWindow)},get live(){return this.streamType.includes("live")||!Number.isFinite(this.realDuration)},get liveEdgeStart(){return this.live&&Number.isFinite(this.seekableEnd)?Math.max(0,(this.liveSyncPosition??this.seekableEnd)-this.liveEdgeTolerance):0},get liveEdge(){return this.live&&(!this.canSeek||!this.userBehindLiveEdge&&this.currentTime>=this.liveEdgeStart)},get liveEdgeWindow(){return this.live&&Number.isFinite(this.seekableEnd)?this.seekableEnd-this.liveEdgeStart:0},autoPlaying:!1,providedTitle:"",inferredTitle:"",providedLoop:!1,userPrefersLoop:!1,providedPoster:"",inferredPoster:"",inferredViewType:"unknown",providedViewType:"unknown",providedStreamType:"unknown",inferredStreamType:"unknown",liveSyncPosition:null,savedState:null}),$r=new Set(["autoPlayError","autoPlaying","buffered","canPlay","error","paused","played","playing","seekable","seeking","waiting"]),_h=new Set([...$r,"ended","inferredPoster","inferredStreamType","inferredTitle","intrinsicDuration","liveSyncPosition","realCurrentTime","savedState","started","userBehindLiveEdge"]);function Zn(i,t=!1){const e=t?$r:_h;yr.reset(i,s=>e.has(s)),Ct()}const wr=Dt();function P(){return F(wr)}function Jl(){return P().$state}const vr=Dt();function Zl(){return F(vr)}const Fh={clickToPlay:!0,clickToFullscreen:!0,controls:["play-large","play","progress","current-time","mute+volume","captions","settings","pip","airplay","fullscreen"],customIcons:!1,displayDuration:!1,download:null,markers:null,invertTime:!0,thumbnails:null,toggleTime:!0,translations:null,seekTime:10,speed:[.5,.75,1,1.25,1.5,1.75,2,4]},zi=class zi extends w{onSetup(){this.a=P(),tt(vr,{...this.$props,previewTime:$(0)})}};zi.props=Fh;let ta=zi;function tu(i,t){const{canAirPlay:e,canFullscreen:s,canPictureInPicture:n,controlsHidden:a,currentTime:r,fullscreen:o,hasCaptions:h,isAirPlayConnected:c,paused:l,pictureInPicture:d,playing:p,pointer:f,poster:m,textTrack:g,viewType:v,waiting:T}=t.$state;i.classList.add("plyr"),i.classList.add("plyr--full-ui");const E={"plyr--airplay-active":c,"plyr--airplay-supported":e,"plyr--fullscreen-active":o,"plyr--fullscreen-enabled":s,"plyr--hide-controls":a,"plyr--is-touch":()=>f()==="coarse","plyr--loading":T,"plyr--paused":l,"plyr--pip-active":d,"plyr--pip-enabled":n,"plyr--playing":p,"plyr__poster-enabled":m,"plyr--stopped":()=>l()&&r()===0,"plyr--captions-active":g,"plyr--captions-enabled":h},O=Si();for(const I of Object.keys(E))O.add(u(()=>void i.classList.toggle(I,!!E[I]())));return O.add(u(()=>{const I=`plyr--${v()}`;return i.classList.add(I),()=>i.classList.remove(I)}),u(()=>{var G;const{$provider:I}=t,R=(G=I())==null?void 0:G.type,W=`plyr--${Nh(R)?"html5":R}`;return i.classList.toggle(W,!!R),()=>i.classList.remove(W)})),()=>O.empty()}function Nh(i){return i==="audio"||i==="video"}const Vh=Symbol(0),Hh=Symbol(0),vt={Ya:Vh,Za:Hh};function Bs(i){return i instanceof Error?i:Error(typeof i=="string"?i:JSON.stringify(i))}function Pt(i,t){if(!i)throw Error(t||"Assertion failed.")}function K(i,t=2){return Number(i.toFixed(t))}function Kh(i){var t;return((t=String(i).split(".")[1])==null?void 0:t.length)??0}function qi(i,t,e){return Math.max(i,Math.min(e,t))}const ii=_t.fullscreenEnabled;class Wh extends yt{constructor(){super(...arguments),this.ub=!1,this.Nc=!1}get active(){return this.Nc}get supported(){return ii}onConnect(){y(_t,"fullscreenchange",this.Oc.bind(this)),y(_t,"fullscreenerror",this._b.bind(this)),A(this.ya.bind(this))}async ya(){ii&&await this.exit()}Oc(t){const e=Qs(this.el);e!==this.Nc&&(e||(this.ub=!1),this.Nc=e,this.dispatch("fullscreen-change",{detail:e,trigger:t}))}_b(t){this.ub&&(this.dispatch("fullscreen-error",{detail:null,trigger:t}),this.ub=!1)}async enter(){try{return this.ub=!0,!this.el||Qs(this.el)?void 0:(ea(),_t.requestFullscreen(this.el))}catch(t){throw this.ub=!1,t}}async exit(){if(!(!this.el||!Qs(this.el)))return ea(),_t.exitFullscreen()}}function Qs(i){if(_t.fullscreenElement===i)return!0;try{return i.matches(_t.fullscreenPseudoClass)}catch{return!1}}function ea(){if(!ii)throw Error("[vidstack] no fullscreen API")}const ms=class ms extends yt{constructor(){super(...arguments),this.vb=$(this.qe()),this.Ra=$(!1)}get type(){return this.vb()}get locked(){return this.Ra()}get portrait(){return this.vb().startsWith("portrait")}get landscape(){return this.vb().startsWith("landscape")}get supported(){return ms.supported}onConnect(){if(this.supported)y(screen.orientation,"change",this.re.bind(this));else{const t=window.matchMedia("(orientation: landscape)");t.onchange=this.re.bind(this),A(()=>t.onchange=null)}A(this.ya.bind(this))}async ya(){this.supported&&this.Ra()&&await this.unlock()}re(t){this.vb.set(this.qe()),this.dispatch("orientation-change",{detail:{orientation:b(this.vb),lock:this.$b},trigger:t})}async lock(t){b(this.Ra)||this.$b===t||(this.se(),await screen.orientation.lock(t),this.Ra.set(!0),this.$b=t)}async unlock(){b(this.Ra)&&(this.se(),this.$b=void 0,await screen.orientation.unlock(),this.Ra.set(!1))}se(){if(!this.supported)throw Error("[vidstack] no orientation API")}qe(){return this.supported?window.screen.orientation.type:window.innerWidth>=window.innerHeight?"landscape-primary":"portrait-primary"}};ms.supported=dr();let us=ms;function ni(i){return!k(i)&&"width"in i&&"height"in i&&mt(i.width)&&mt(i.height)}class Uh{constructor(t=void 0){this.tb=t,this.A=null,this.aa=null,this.Pc=-1}setTarget(t){this.A=t}getPlayer(t){var e;return this.aa?this.aa:((e=t??this.A)==null||e.dispatchEvent(new _("find-media-player",{detail:s=>void(this.aa=s),bubbles:!0,composed:!0})),this.aa)}setPlayer(t){this.aa=t}startLoading(t){this.s("media-start-loading",t)}startLoadingPoster(t){this.s("media-poster-start-loading",t)}requestAirPlay(t){this.s("media-airplay-request",t)}requestGoogleCast(t){this.s("media-google-cast-request",t)}play(t){this.s("media-play-request",t)}pause(t){this.s("media-pause-request",t)}mute(t){this.s("media-mute-request",t)}unmute(t){this.s("media-unmute-request",t)}enterFullscreen(t,e){this.s("media-enter-fullscreen-request",e,t)}exitFullscreen(t,e){this.s("media-exit-fullscreen-request",e,t)}lockScreenOrientation(t,e){this.s("media-orientation-lock-request",e,t)}unlockScreenOrientation(t){this.s("media-orientation-unlock-request",t)}enterPictureInPicture(t){this.s("media-enter-pip-request",t)}exitPictureInPicture(t){this.s("media-exit-pip-request",t)}seeking(t,e){this.s("media-seeking-request",e,t)}seek(t,e){this.s("media-seek-request",e,t)}seekToLiveEdge(t){this.s("media-live-edge-request",t)}changeVolume(t,e){this.s("media-volume-change-request",e,Math.max(0,Math.min(1,t)))}changeAudioTrack(t,e){this.s("media-audio-track-change-request",e,t)}changeQuality(t,e){this.s("media-quality-change-request",e,t)}requestAutoQuality(t){this.changeQuality(-1,t)}changeTextTrackMode(t,e,s){this.s("media-text-track-change-request",s,{index:t,mode:e})}changePlaybackRate(t,e){this.s("media-rate-change-request",e,t)}changeAudioGain(t,e){this.s("media-audio-gain-change-request",e,t)}resumeControls(t){this.s("media-resume-controls-request",t)}pauseControls(t){this.s("media-pause-controls-request",t)}togglePaused(t){const e=this.getPlayer(t==null?void 0:t.target);e&&(e.state.paused?this.play(t):this.pause(t))}toggleControls(t){const e=this.getPlayer(t==null?void 0:t.target);e&&(e.controls.showing?e.controls.hide(0,t):e.controls.show(0,t))}toggleMuted(t){const e=this.getPlayer(t==null?void 0:t.target);e&&(e.state.muted?this.unmute(t):this.mute(t))}toggleFullscreen(t,e){const s=this.getPlayer(e==null?void 0:e.target);s&&(s.state.fullscreen?this.exitFullscreen(t,e):this.enterFullscreen(t,e))}togglePictureInPicture(t){const e=this.getPlayer(t==null?void 0:t.target);e&&(e.state.pictureInPicture?this.exitPictureInPicture(t):this.enterPictureInPicture(t))}showCaptions(t){const e=this.getPlayer(t==null?void 0:t.target);if(!e)return;let s=e.state.textTracks,n=this.Pc;(!s[n]||!X(s[n]))&&(n=-1),n===-1&&(n=s.findIndex(a=>X(a)&&a.default)),n===-1&&(n=s.findIndex(a=>X(a))),n>=0&&this.changeTextTrackMode(n,"showing",t),this.Pc=-1}disableCaptions(t){const e=this.getPlayer(t==null?void 0:t.target);if(!e)return;const s=e.state.textTracks,n=e.state.textTrack;if(n){const a=s.indexOf(n);this.changeTextTrackMode(a,"disabled",t),this.Pc=a}}toggleCaptions(t){const e=this.getPlayer(t==null?void 0:t.target);e&&(e.state.textTrack?this.disableCaptions():this.showCaptions())}userPrefersLoopChange(t,e){this.s("media-user-loop-change-request",e,t)}s(t,e,s){var o,h;const n=new _(t,{bubbles:!0,composed:!0,cancelable:!0,detail:s,trigger:e});let a=(e==null?void 0:e.target)||null;a&&a instanceof w&&(a=a.el),a=!a||a===document||a===window||a===document.body||((o=this.aa)==null?void 0:o.el)&&a instanceof Node&&!this.aa.el.contains(a)?this.A??((h=this.getPlayer())==null?void 0:h.el):a??this.A,this.aa?t==="media-play-request"&&!this.aa.state.canLoad?a==null||a.dispatchEvent(n):this.aa.canPlayQueue.k(t,()=>a==null?void 0:a.dispatchEvent(n)):a==null||a.dispatchEvent(n)}za(t){}}class te extends yt{}class Bh extends te{constructor(){super(...arguments),this.Qc=-2,this.Xa=!1,this.ze=$(!1),this.Rc=$(!1),this.wb=null,this.Ho=$(!0),this.defaultDelay=2e3}get canIdle(){return this.Ho()}set canIdle(t){this.Ho.set(t)}get hideOnMouseLeave(){const{hideControlsOnMouseLeave:t}=this.$props;return this.ze()||t()}set hideOnMouseLeave(t){this.ze.set(t)}get showing(){return this.$state.controlsVisible()}show(t=0,e){this.Sc(),this.Xa||this.bc(!0,t,e)}hide(t=this.defaultDelay,e){this.Sc(),this.Xa||this.bc(!1,t,e)}pause(t){this.Xa=!0,this.Sc(),this.bc(!0,0,t)}resume(t){this.Xa=!1,!this.$state.paused()&&this.bc(!1,this.defaultDelay,t)}onConnect(){u(this.Ch.bind(this))}Ch(){const{viewType:t}=this.$state;if(!this.Ho())return;if(t()==="audio"){this.show();return}u(this.bg.bind(this)),u(this.Tc.bind(this));const e=this.xb.bind(this),s=this.Aa.bind(this);this.listen("can-play",n=>this.show(0,n)),this.listen("play",e),this.listen("pause",s),this.listen("auto-play-fail",s)}bg(){const{started:t,pointer:e,paused:s}=this.$state;if(!t()||e()!=="fine")return;const n=this.hideOnMouseLeave;(!n||!this.Rc())&&u(()=>{s()||this.listen("pointermove",this.Ae.bind(this))}),n&&(this.listen("mouseenter",this.cg.bind(this)),this.listen("mouseleave",this.dg.bind(this)))}Tc(){const{paused:t,started:e,autoPlayError:s}=this.$state;if(t()||s()&&!e())return;const n=this.Ae.bind(this);u(()=>{const a=this.$state.pointer(),r=a==="coarse",o=[r?"touchend":"pointerup","keydown"];for(const h of o)this.listen(h,n,{passive:!1})})}xb(t){this.show(0,t),this.hide(void 0,t)}Aa(t){this.show(0,t)}cg(t){this.Rc.set(!1),this.show(0,t),this.hide(void 0,t)}dg(t){this.Rc.set(!0),this.hide(0,t)}Sc(){window.clearTimeout(this.Qc),this.Qc=-1}Ae(t){var e;t.MEDIA_GESTURE||this.Xa||Ri(t)||(Ms(t)&&(t.key==="Escape"?((e=this.el)==null||e.focus(),this.wb=null):this.wb&&(t.preventDefault(),requestAnimationFrame(()=>{var s;(s=this.wb)==null||s.focus(),this.wb=null}))),this.show(0,t),this.hide(this.defaultDelay,t))}bc(t,e,s){if(e===0){this.B(t,s);return}this.Qc=window.setTimeout(()=>{this.scope&&this.B(t&&!this.Xa,s)},e)}B(t,e){var s;this.$state.controlsVisible()!==t&&(this.$state.controlsVisible.set(t),!t&&document.activeElement&&((s=this.el)!=null&&s.contains(document.activeElement))&&(this.wb=document.activeElement,requestAnimationFrame(()=>{var n;(n=this.el)==null||n.focus({preventScroll:!0})})),this.dispatch("controls-change",{detail:t,trigger:e}))}}var ee=Qh;function Qh(i,t,e){var s=null,n=null,a=e&&e.leading,r=e&&e.trailing;a==null&&(a=!0),r==null&&(r=!a),a==!0&&(r=!1);var o=function(){s&&(clearTimeout(s),s=null)},h=function(){var l=n;o(),l&&l()},c=function(){var l=a&&!s,d=this,p=arguments;if(n=function(){return i.apply(d,p)},s||(s=setTimeout(function(){if(s=null,r)return n()},t)),l)return l=!1,n()};return c.cancel=o,c.flush=h,c}class zh{constructor(){this.playerId="vds-player",this.mediaId=null,this.Qk={volume:null,muted:null,audioGain:null,time:null,lang:null,captions:null,rate:null,quality:null},this.saveTimeThrottled=ee(this.saveTime.bind(this),1e3)}async getVolume(){return this.Qk.volume}async setVolume(t){this.Qk.volume=t,this.save()}async getMuted(){return this.Qk.muted}async setMuted(t){this.Qk.muted=t,this.save()}async getTime(){return this.Qk.time}async setTime(t,e){const s=t<0;this.Qk.time=s?null:t,s||e?this.saveTime():this.saveTimeThrottled()}async getLang(){return this.Qk.lang}async setLang(t){this.Qk.lang=t,this.save()}async getCaptions(){return this.Qk.captions}async setCaptions(t){this.Qk.captions=t,this.save()}async getPlaybackRate(){return this.Qk.rate}async setPlaybackRate(t){this.Qk.rate=t,this.save()}async getAudioGain(){return this.Qk.audioGain}async setAudioGain(t){this.Qk.audioGain=t,this.save()}async getVideoQuality(){return this.Qk.quality}async setVideoQuality(t){this.Qk.quality=t,this.save()}onChange(t,e,s="vds-player"){const n=s?localStorage.getItem(s):null,a=e?localStorage.getItem(e):null;this.playerId=s,this.mediaId=e,this.Qk={volume:null,muted:null,audioGain:null,lang:null,captions:null,rate:null,quality:null,...n?JSON.parse(n):{},time:a?+a:null}}save(){if(!this.playerId)return;const t=JSON.stringify({...this.Qk,time:void 0});localStorage.setItem(this.playerId,t)}saveTime(){if(!this.mediaId)return;const t=(this.Qk.time??0).toString();localStorage.setItem(this.mediaId,t)}}class Yh{constructor(){this.priority=0,this.Be=!0,this.m=null,this.z=null,this.yb=new Set}canRender(t,e){return!!e}attach(t){this.m=t,t&&(t.textTracks.onchange=this.B.bind(this))}addTrack(t){this.yb.add(t),this.eg(t)}removeTrack(t){var e,s;(s=(e=t[C.T])==null?void 0:e.remove)==null||s.call(e),t[C.T]=null,this.yb.delete(t)}changeTrack(t){const e=t==null?void 0:t[C.T];e&&e.track.mode!=="showing"&&(e.track.mode="showing"),this.z=t}setDisplay(t){this.Be=t,this.B()}detach(){this.m&&(this.m.textTracks.onchange=null);for(const t of this.yb)this.removeTrack(t);this.yb.clear(),this.m=null,this.z=null}eg(t){var s;if(!this.m)return;const e=t[s=C.T]??(t[s]=this.fg(t));ke(e)&&(this.m.append(e),e.track.mode=e.default?"showing":"disabled")}fg(t){const e=document.createElement("track"),s=t.default||t.mode==="showing",n=t.src&&t.type==="vtt";return e.id=t.id,e.src=n?t.src:"",e.label=t.label,e.kind=t.kind,e.default=s,t.language&&(e.srclang=t.language),s&&!n&&this.Ce(t,e.track),e}Ce(t,e){var s;if(!(t.src&&t.type==="vtt"||(s=e.cues)!=null&&s.length))for(const n of t.cues)e.addCue(n)}B(t){for(const e of this.yb){const s=e[C.T];if(!s)continue;if(!this.Be){s.track.mode=s.managed?"hidden":"disabled";continue}const n=s.track.mode==="showing";n&&this.Ce(e,s.track),e.setMode(n?"showing":"disabled",t)}}}class Xh{constructor(t){this.a=t,this.m=null,this.cc=[],this.De=!1,this.ba=null,this.Ba=null;const e=t.textTracks;this.Uc=e,u(this.Vc.bind(this)),A(this.Ee.bind(this)),y(e,"add",this.Wc.bind(this)),y(e,"remove",this.gg.bind(this)),y(e,"mode-change",this.ea.bind(this))}Vc(){const{nativeControls:t}=this.a.$state;this.De=t(),this.ea()}add(t){this.cc.push(t),this.ea()}remove(t){t.detach(),this.cc.splice(this.cc.indexOf(t),1),this.ea()}Fe(t){requestAnimationFrame(()=>{if(this.m=t,t){this.ba=new Yh,this.ba.attach(t);for(const e of this.Uc)this.Ge(e)}this.ea()})}Ge(t){var e;X(t)&&((e=this.ba)==null||e.addTrack(t))}hg(t){var e;X(t)&&((e=this.ba)==null||e.removeTrack(t))}Wc(t){this.Ge(t.detail)}gg(t){this.hg(t.detail)}ea(){var s,n,a,r,o,h,c;const t=this.Uc.selected;if(this.m&&(this.De||t!=null&&t[C.te])){(s=this.Ba)==null||s.changeTrack(null),(n=this.ba)==null||n.setDisplay(!0),(a=this.ba)==null||a.changeTrack(t);return}if((r=this.ba)==null||r.setDisplay(!1),(o=this.ba)==null||o.changeTrack(null),!t){(h=this.Ba)==null||h.changeTrack(null);return}const e=this.cc.sort((l,d)=>l.priority-d.priority).find(l=>l.canRender(t,this.m));this.Ba!==e&&((c=this.Ba)==null||c.detach(),e==null||e.attach(this.m),this.Ba=e??null),e==null||e.changeTrack(t)}Ee(){var t,e;(t=this.ba)==null||t.detach(),this.ba=null,(e=this.Ba)==null||e.detach(),this.Ba=null}}var _i=Gh;function Gh(i,t,e){var s=null,n=null,a=function(){s&&(clearTimeout(s),n=null,s=null)},r=function(){var h=n;a(),h&&h()},o=function(){if(!t)return i.apply(this,arguments);var h=this,c=arguments,l=e&&!s;if(a(),n=function(){i.apply(h,c)},s=setTimeout(function(){if(s=null,!l){var d=n;return n=null,d()}},t),l)return n()};return o.cancel=a,o.flush=r,o}class Jh extends gr{constructor(){super(),this.P=!1,this.dc={},this.Sk=null,this.Rk=null,this.un=_i(async()=>{var s;if(!this.P)return;!this.Rk&&this.Sk&&(this.Rk=await this.Sk.getLang());const t=await((s=this.Sk)==null?void 0:s.getCaptions()),e=[["captions","subtitles"],"chapters","descriptions","metadata"];for(const n of e){const a=this.getByKind(n);if(a.find(l=>l.mode==="showing"))continue;const r=this.Rk?a.find(l=>l.language===this.Rk):null,o=Y(n)?this.dc[n.find(l=>this.dc[l])||""]:this.dc[n],h=r??o,c=h&&X(h);h&&(!c||t!==!1)&&(h.mode="showing",c&&this.vn(h))}},300),this.ip=null,this.Je=this.ig.bind(this)}get selected(){return this.r.find(e=>e.mode==="showing"&&X(e))??null}get selectedIndex(){const t=this.selected;return t?this.indexOf(t):-1}get preferredLang(){return this.Rk}set preferredLang(t){this.Rk=t,this.tn(t)}add(t,e){const s=t instanceof ls,n=s?t:new ls(t),a=t.kind==="captions"||t.kind==="subtitles"?"captions":t.kind;return this.dc[a]&&t.default&&delete t.default,n.addEventListener("mode-change",this.Je),this[D.oa](n,e),n[C.al]=this[C.al],this.P&&n[C.P](),t.default&&(this.dc[a]=n),this.un(),this}remove(t,e){if(this.ip=t,!!this.r.includes(t))return t===this.dc[t.kind]&&delete this.dc[t.kind],t.mode="disabled",t[C.Ua]=null,t.removeEventListener("mode-change",this.Je),this[D.Yb](t,e),this.ip=null,this}clear(t){for(const e of[...this.r])this.remove(e,t);return this}getByKind(t){const e=Array.isArray(t)?t:[t];return this.r.filter(s=>e.includes(s.kind))}[C.P](){if(!this.P){for(const t of this.r)t[C.P]();this.P=!0,this.un()}}ig(t){const e=t.detail;if(this.Sk&&X(e)&&e!==this.ip&&this.vn(e),e.mode==="showing"){const s=X(e)?["captions","subtitles"]:[e.kind];for(const n of this.r)n.mode==="showing"&&n!=e&&s.includes(n.kind)&&(n.mode="disabled")}this.dispatchEvent(new _("mode-change",{detail:t.detail,trigger:t}))}vn(t){var e,s;t.mode!=="disabled"&&this.tn(t.language),(s=(e=this.Sk)==null?void 0:e.setCaptions)==null||s.call(e,t.mode==="showing")}tn(t){var e,s;(s=(e=this.Sk)==null?void 0:e.setLang)==null||s.call(e,this.Rk=t)}setStorage(t){this.Sk=t}}const pe=Symbol(0);class Tr extends gr{get selected(){return this.r.find(t=>t.selected)??null}get selectedIndex(){return this.r.findIndex(t=>t.selected)}[D.oe](t,e){this[D.pa](t,!1,e)}[D.oa](t,e){t[pe]=!1,Object.defineProperty(t,"selected",{get(){return this[pe]},set:s=>{var n;this.readonly||((n=this[D.pe])==null||n.call(this),this[D.pa](t,s))}}),super[D.oa](t,e)}[D.pa](t,e,s){if(e===(t==null?void 0:t[pe]))return;const n=this.selected;t&&(t[pe]=e),(e?n!==t:n===t)&&(n&&(n[pe]=!1),this.dispatchEvent(new _("change",{detail:{prev:n,current:this.selected},trigger:s})))}}class Zh extends Tr{}class tc extends Tr{constructor(){super(...arguments),this.fc=!1,this.switch="current"}get auto(){return this.fc||this.readonly}[D.pe](){this[vt.Ya](!1)}[D.ne](t){this[vt.Za]=void 0,this[vt.Ya](!1,t)}autoSelect(t){var e;this.readonly||this.fc||!this[vt.Za]||((e=this[vt.Za])==null||e.call(this,t),this[vt.Ya](!0,t))}getBySrc(t){return this.r.find(e=>e.src===t)}[vt.Ya](t,e){this.fc!==t&&(this.fc=t,this.dispatchEvent(new _("auto-change",{detail:t,trigger:e})))}}function kr(i,t){return[...i].sort(t?sc:ec)}function ec(i,t){return i.height===t.height?(i.bitrate??0)-(t.bitrate??0):i.height-t.height}function sc(i,t){return t.height===i.height?(t.bitrate??0)-(i.bitrate??0):t.height-i.height}function ic(i){return i instanceof HTMLAudioElement}function nc(i){return i instanceof HTMLVideoElement}function ac(i){return ic(i)||nc(i)}const rc={togglePaused:"k Space",toggleMuted:"m",toggleFullscreen:"f",togglePictureInPicture:"i",toggleCaptions:"c",seekBackward:"j J ArrowLeft",seekForward:"l L ArrowRight",volumeUp:"ArrowUp",volumeDown:"ArrowDown",speedUp:">",slowDown:"<"},sa=new Set(["Shift","Alt","Meta","Control"]),oc='button, [role="button"]',ia='input, textarea, select, [contenteditable], [role^="menuitem"], [role="timer"]';class hc extends te{constructor(t){super(),this.a=t,this._a=null}onConnect(){u(this.mg.bind(this))}mg(){const{keyDisabled:t,keyTarget:e}=this.$props;if(t())return;const s=e()==="player"?this.el:document,n=$(!1);s===this.el?(this.listen("focusin",()=>n.set(!0)),this.listen("focusout",a=>{this.el.contains(a.target)||n.set(!1)})):(b(n)||n.set(document.querySelector("[data-media-player]")===this.el),y(document,"focusin",a=>{const r=a.composedPath().find(o=>o instanceof Element&&o.localName==="media-player");r!==void 0&&n.set(this.el===r)})),u(()=>{n()&&(y(s,"keyup",this.zb.bind(this)),y(s,"keydown",this.Ab.bind(this)),y(s,"keydown",this.ng.bind(this),{capture:!0}))})}zb(t){var a,r;const e=document.activeElement;if(!t.key||!this.$state.canSeek()||e!=null&&e.matches(ia))return;let{method:s,value:n}=this.Zc(t);if(!k(n)&&!Y(n)){(a=n==null?void 0:n.onKeyUp)==null||a.call(n,{event:t,player:this.a.player,remote:this.a.remote}),(r=n==null?void 0:n.callback)==null||r.call(n,t,this.a.remote);return}if(s!=null&&s.startsWith("seek")&&(t.preventDefault(),t.stopPropagation(),this._a?(this.Ne(t,s==="seekForward"),this._a=null):(this.a.remote.seek(this.gc,t),this.gc=void 0)),s!=null&&s.startsWith("volume")){const o=this.el.querySelector("[data-media-volume-slider]");o==null||o.dispatchEvent(new KeyboardEvent("keyup",{key:s==="volumeUp"?"Up":"Down",shiftKey:t.shiftKey,trigger:t}))}}Ab(t){var r,o,h,c;if(!t.key||sa.has(t.key))return;const e=document.activeElement;if(e!=null&&e.matches(ia)||Qa(t)&&(e!=null&&e.matches(oc)))return;let{method:s,value:n}=this.Zc(t),a=!t.metaKey&&/^[0-9]$/.test(t.key);if(!k(n)&&!Y(n)&&!a){(r=n==null?void 0:n.onKeyDown)==null||r.call(n,{event:t,player:this.a.player,remote:this.a.remote}),(o=n==null?void 0:n.callback)==null||o.call(n,t,this.a.remote);return}if(!s&&a){t.preventDefault(),t.stopPropagation(),this.a.remote.seek(this.$state.duration()/10*Number(t.key),t);return}if(s){switch(t.preventDefault(),t.stopPropagation(),s){case"seekForward":case"seekBackward":this.qa(t,s,s==="seekForward");break;case"volumeUp":case"volumeDown":const l=this.el.querySelector("[data-media-volume-slider]");if(l)l.dispatchEvent(new KeyboardEvent("keydown",{key:s==="volumeUp"?"Up":"Down",shiftKey:t.shiftKey,trigger:t}));else{const p=t.shiftKey?.1:.05;this.a.remote.changeVolume(this.$state.volume()+(s==="volumeUp"?+p:-p),t)}break;case"toggleFullscreen":this.a.remote.toggleFullscreen("prefer-media",t);break;case"speedUp":case"slowDown":const d=this.$state.playbackRate();this.a.remote.changePlaybackRate(Math.max(.25,Math.min(2,d+(s==="speedUp"?.25:-.25))),t);break;default:(c=(h=this.a.remote)[s])==null||c.call(h,t)}this.$state.lastKeyboardAction.set({action:s,event:t})}}ng(t){ac(t.target)&&this.Zc(t).method&&t.preventDefault()}Zc(t){const e={...this.$props.keyShortcuts(),...this.a.ariaKeys},s=Object.keys(e).find(n=>{var o;const a=e[n],r=Y(a)?a.join(" "):k(a)?a:a==null?void 0:a.keys;return(o=Y(r)?r:r==null?void 0:r.split(" "))==null?void 0:o.some(h=>lc(h).replace(/Control/g,"Ctrl").split("+").every(c=>sa.has(c)?t[c.toLowerCase()+"Key"]:t.key===c.replace("Space"," ")))});return{method:s,value:s?e[s]:null}}og(t,e){const s=t.shiftKey?10:5;return this.gc=Math.max(0,Math.min((this.gc??this.$state.currentTime())+(e==="seekForward"?+s:-s),this.$state.duration()))}Ne(t,e){var s;(s=this._a)==null||s.dispatchEvent(new KeyboardEvent(t.type,{key:e?"Right":"Left",shiftKey:t.shiftKey,trigger:t}))}qa(t,e,s){this.$state.canSeek()&&(this._a||(this._a=this.el.querySelector("[data-media-time-slider]")),this._a?this.Ne(t,s):this.a.remote.seeking(this.og(t,e),t))}}const cc=["!","@","#","$","%","^","&","*","(",")"];function lc(i){return i.replace(/Shift\+(\d)/g,(t,e)=>cc[e-1])}class uc extends yt{constructor(t){super(),this._c=t}onAttach(t){const{$props:e,ariaKeys:s}=P(),n=t.getAttribute("aria-keyshortcuts");if(n){s[this._c]=n,A(()=>{delete s[this._c]});return}const a=e.keyShortcuts()[this._c];if(a){const r=Y(a)?a.join(" "):k(a)?a:a==null?void 0:a.keys;t.setAttribute("aria-keyshortcuts",Y(r)?r.join(" "):r)}}}class dc{constructor(){this.name="audio"}canPlay(t){return Mi(t)?!k(t.src)||t.type==="?"||rh(this.target,t.type):!1}mediaType(){return"audio"}async load(t){return new(await ut(()=>import("./vidstack-audio-Dr0fFHaa.js"),__vite__mapDeps([2,3,4,1]))).AudioProvider(this.target,t)}}class Fi{constructor(){this.name="video"}canPlay(t){return Ii(t)?!k(t.src)||t.type==="?"||oh(this.target,t.type):!1}mediaType(){return"video"}async load(t){return new(await ut(()=>import("./vidstack-video-DKddMJz6.js"),__vite__mapDeps([5,3,4,1]))).VideoProvider(this.target,t)}}const bs=class bs extends Fi{constructor(){super(...arguments),this.name="dash"}canPlay(t){return bs.supported&&ji(t)}async load(t){return new(await ut(()=>import("./vidstack-dash-C29x7k8H.js"),__vite__mapDeps([6,5,3,4,1]))).DASHProvider(this.target,t)}};bs.supported=dh();let ai=bs;const gs=class gs extends Fi{constructor(){super(...arguments),this.name="hls"}canPlay(t){return gs.supported&&Ie(t)}async load(t){return new(await ut(()=>import("./vidstack-hls-Cqbtdsj3.js"),__vite__mapDeps([7,5,3,4,1]))).HLSProvider(this.target,t)}};gs.supported=Di();let ri=gs;class pc{constructor(){this.name="vimeo"}preconnect(){const t=["https://i.vimeocdn.com","https://f.vimeocdn.com","https://fresnel.vimeocdn.com"];for(const e of t)je(e)}canPlay(t){return k(t.src)&&t.type==="video/vimeo"}mediaType(){return"video"}async load(t){return new(await ut(()=>import("./vidstack-vimeo-BYhwD4HK.js"),__vite__mapDeps([8,4,9,10,1]))).VimeoProvider(this.target,t)}async loadPoster(t,e,s){const{resolveVimeoVideoId:n,getVimeoVideoInfo:a}=await ut(()=>import("./vidstack-BTBUzdbF-Cao5mZMB.js"),[]);if(!k(t.src))return null;const{videoId:r}=n(t.src);return r?a(r,s).then(o=>o?o.poster:null):null}}class fc{constructor(){this.name="youtube"}preconnect(){const t=["https://www.google.com","https://i.ytimg.com","https://googleads.g.doubleclick.net","https://static.doubleclick.net"];for(const e of t)je(e)}canPlay(t){return k(t.src)&&t.type==="video/youtube"}mediaType(){return"video"}async load(t){return new(await ut(()=>import("./vidstack-youtube-CEtY1I-w.js"),__vite__mapDeps([11,9,12,1]))).YouTubeProvider(this.target,t)}async loadPoster(t,e,s){const{findYouTubePoster:n,resolveYouTubeVideoId:a}=await ut(()=>import("./vidstack-DscYSLiW-CA6XwpqT.js"),[]),r=k(t.src)&&a(t.src);return r?n(r,s):null}}const zs=Symbol(0),mc=["autoPlay","canAirPlay","canFullscreen","canGoogleCast","canLoad","canLoadPoster","canPictureInPicture","canPlay","canSeek","ended","fullscreen","isAirPlayConnected","isGoogleCastConnected","live","liveEdge","loop","mediaType","muted","paused","pictureInPicture","playing","playsInline","remotePlaybackState","remotePlaybackType","seeking","started","streamType","viewType","waiting"],bc={artist:"",artwork:null,autoplay:!1,autoPlay:!1,clipStartTime:0,clipEndTime:0,controls:!1,currentTime:0,crossorigin:null,crossOrigin:null,duration:-1,fullscreenOrientation:"landscape",googleCast:{},load:"visible",posterLoad:"visible",logLevel:"silent",loop:!1,muted:!1,paused:!0,playsinline:!1,playsInline:!1,playbackRate:1,poster:"",preload:"metadata",preferNativeHLS:!1,src:"",title:"",controlsDelay:2e3,hideControlsOnMouseLeave:!1,viewType:"unknown",streamType:"unknown",volume:1,liveEdgeTolerance:10,minLiveDVRWindow:60,keyDisabled:!1,keyTarget:"player",keyShortcuts:rc,storage:null};class na extends te{constructor(t,e){super(),this.vb=t,this.Ca=e}async onAttach(t){const e=this.$props[this.vb]();if(e==="eager")requestAnimationFrame(this.Ca);else if(e==="idle")to(this.Ca);else if(e==="visible"){let s,n=new IntersectionObserver(a=>{this.scope&&a[0].isIntersecting&&(s==null||s(),s=void 0,this.Ca())});n.observe(t),s=A(()=>n.disconnect())}}}class gc{constructor(t,e){this.X=t,this.a=e,this.c=(s,...n)=>{this.X(new _(s,{detail:n==null?void 0:n[0],trigger:n==null?void 0:n[1]}))}}async jc(t,e){return yi(async()=>{var It,it,U,V,nt,B,L;this.a;const{autoPlay:s,canPlay:n,started:a,duration:r,seekable:o,buffered:h,remotePlaybackInfo:c,playsInline:l,savedState:d,source:p}=this.a.$state;if(n())return;const f={duration:(t==null?void 0:t.duration)??r(),seekable:(t==null?void 0:t.seekable)??o(),buffered:(t==null?void 0:t.buffered)??h(),provider:this.a.$provider()};this.c("can-play",f,e),Ct();let m=this.a.$provider(),{storage:g,qualities:v}=this.a,{muted:T,volume:E,clipStartTime:O,playbackRate:I}=this.a.$props;await((It=g==null?void 0:g.onLoad)==null?void 0:It.call(g,p()));const R=(it=d())==null?void 0:it.currentTime,W=(U=d())==null?void 0:U.paused,G=await(g==null?void 0:g.getTime()),st=R??G??O(),Ut=W||W!==!1&&!a()&&s();if(m){m.setVolume(await(g==null?void 0:g.getVolume())??E()),m.setMuted(await(g==null?void 0:g.getMuted())??T());const at=await(g==null?void 0:g.getAudioGain())??1;at>1&&((nt=(V=m.audioGain)==null?void 0:V.setGain)==null||nt.call(V,at)),(B=m.setPlaybackRate)==null||B.call(m,await(g==null?void 0:g.getPlaybackRate())??I()),(L=m.setPlaysInline)==null||L.call(m,l()),st>0&&m.setCurrentTime(st)}const $t=await(g==null?void 0:g.getVideoQuality());if($t&&v.length){let at=null,Bt=1/0;for(const St of v){const ie=Math.abs($t.width-St.width)+Math.abs($t.height-St.height)+($t.bitrate?Math.abs($t.bitrate-(St.bitrate??0)):0);ie<Bt&&(at=St,Bt=ie)}at&&(at.selected=!0)}n()&&Ut?await this.oh(e):G&&G>0&&this.c("started",void 0,e),c.set(null)})}async oh(t){const{player:e,$state:{autoPlaying:s,muted:n}}=this.a;s.set(!0);const a=new _("auto-play-attempt",{trigger:t});try{await e.play(a)}catch{}}}class yc{constructor(){this.e=new Map}k(t,e){this.e.set(t,e)}td(t){const e=this.kl(t);return this.e.delete(t),e}kl(t){return this.e.get(t)}qc(t){this.e.delete(t)}pl(){this.e.clear()}}class xr{constructor(){this.Mb=!1,this.Ed=Js(),this.e=new Map}get ph(){return this.e.size}get Rj(){return this.Mb}async Sj(){this.Mb||await this.Ed.promise}k(t,e){if(this.Mb){e();return}this.e.delete(t),this.e.set(t,e)}td(t){var e;(e=this.e.get(t))==null||e(),this.e.delete(t)}Bb(){this.jf(),this.Mb=!0,this.e.size>0&&this.jf()}ra(){this.Mb=!1}H(){this.ra(),this.e.clear(),this.kf()}jf(){for(const t of this.e.keys())this.td(t);this.kf()}kf(){this.Ed.resolve(),this.Ed=Js()}}class $c extends te{constructor(t,e,s){super(),this.ga=t,this.f=e,this.a=s,this.vk=new xr,this.vd=!1,this.uk=s.$provider,this.Ib=new Bh,this.rc=new Wh,this.ta=new us}onAttach(){this.listen("fullscreen-change",this.Oc.bind(this))}onConnect(){const t=Object.getOwnPropertyNames(Object.getPrototypeOf(this)),e=this.qh.bind(this);for(const s of t)s.startsWith("media-")&&this.listen(s,e);this.Mk(),u(this.wk.bind(this)),u(this.Gn.bind(this)),u(this.Ln.bind(this)),u(this.Hn.bind(this)),u(this.In.bind(this)),u(this.Jn.bind(this)),u(this.Kn.bind(this))}onDestroy(){this.vk.H()}Mk(){const{load:t}=this.$props,{canLoad:e}=this.$state;if(t()!=="play"||e())return;const s=this.listen("media-play-request",n=>{this.Lk(n),s()})}wk(){const t=this.uk(),e=this.$state.canPlay();return t&&e&&this.vk.Bb(),()=>{this.vk.ra()}}qh(t){t.stopPropagation(),!t.defaultPrevented&&this[t.type]&&(b(this.uk)?this[t.type](t):this.vk.k(t.type,()=>{b(this.uk)&&this[t.type](t)}))}async sc(t){const{canPlay:e,paused:s,autoPlaying:n}=this.$state;if(!this.Lk(t)&&b(s)){t&&this.f.e.k("media-play-request",t);try{const a=b(this.uk);return Ys(a,b(e)),await a.play()}catch(a){const r=this.createEvent("play-fail",{detail:Bs(a),trigger:t});throw r.autoPlay=n(),this.ga.X(r),a}}}Lk(t){const{load:e}=this.$props,{canLoad:s}=this.$state;if(e()==="play"&&!s()){const n=this.createEvent("media-start-loading",{trigger:t});return this.dispatchEvent(n),this.vk.k("media-play-request",async()=>{try{await this.sc(n)}catch{}}),!0}return!1}async ud(t){const{canPlay:e,paused:s}=this.$state;if(!b(s)){t&&this.f.e.k("media-pause-request",t);try{const n=b(this.uk);return Ys(n,b(e)),await n.pause()}catch(n){throw this.f.e.qc("media-pause-request"),n}}}gp(t,e){const{audioGain:s,canSetAudioGain:n}=this.$state;if(s()===t)return;const a=this.uk();if(!(a!=null&&a.audioGain)||!n())throw Error("[vidstack] audio gain api not available");e&&this.f.e.k("media-audio-gain-change-request",e),a.audioGain.setGain(t)}Ze(t){const{canPlay:e,live:s,liveEdge:n,canSeek:a,liveSyncPosition:r,seekableEnd:o,userBehindLiveEdge:h}=this.$state;if(h.set(!1),b(()=>!s()||n()||!a()))return;const c=b(this.uk);Ys(c,b(e)),t&&this.f.e.k("media-seek-request",t);const l=o()-2;c.setCurrentTime(Math.min(l,r()??l))}async _e(t="prefer-media",e){const s=this.$e(t);if(aa(t,s),!s.active)return b(this.$state.pictureInPicture)&&(this.vd=!0,await this.wd(e)),e&&this.f.e.k("media-enter-fullscreen-request",e),s.enter()}async af(t="prefer-media",e){const s=this.$e(t);if(aa(t,s),!!s.active){e&&this.f.e.k("media-exit-fullscreen-request",e);try{const n=await s.exit();return this.vd&&b(this.$state.canPictureInPicture)&&await this.xd(),n}finally{this.vd=!1}}}$e(t){const e=b(this.uk);return t==="prefer-media"&&this.rc.supported||t==="media"?this.rc:e==null?void 0:e.fullscreen}async xd(t){if(this.bf(),!this.$state.pictureInPicture())return t&&this.f.e.k("media-enter-pip-request",t),await this.uk().pictureInPicture.enter()}async wd(t){if(this.bf(),!!this.$state.pictureInPicture())return t&&this.f.e.k("media-exit-pip-request",t),await this.uk().pictureInPicture.exit()}bf(){if(!this.$state.canPictureInPicture())throw Error("[vidstack] no pip support")}Gn(){this.Ib.defaultDelay=this.$props.controlsDelay()}Ln(){var s,n;const{canSetAudioGain:t}=this.$state,e=!!((n=(s=this.uk())==null?void 0:s.audioGain)!=null&&n.supported);t.set(e)}Hn(){var s,n;const{canAirPlay:t}=this.$state,e=!!((n=(s=this.uk())==null?void 0:s.airPlay)!=null&&n.supported);t.set(e)}In(){const{canGoogleCast:t,source:e}=this.$state,s=nh&&!lr&&vh(e());t.set(s)}Jn(){var s,n;const{canFullscreen:t}=this.$state,e=this.rc.supported||!!((n=(s=this.uk())==null?void 0:s.fullscreen)!=null&&n.supported);t.set(e)}Kn(){var s,n;const{canPictureInPicture:t}=this.$state,e=!!((n=(s=this.uk())==null?void 0:s.pictureInPicture)!=null&&n.supported);t.set(e)}async"media-airplay-request"(t){try{await this.ol(t)}catch{}}async ol(t){var e;try{const s=(e=this.uk())==null?void 0:e.airPlay;if(!(s!=null&&s.supported))throw Error("No AirPlay adapter.");return t&&this.f.e.k("media-airplay-request",t),await s.prompt()}catch(s){throw this.f.e.qc("media-airplay-request"),s}}async"media-google-cast-request"(t){try{await this.ul(t)}catch{}}async ul(t){try{const{canGoogleCast:e}=this.$state;if(!b(e)){const n=Error("Cast not available.");throw n.code="CAST_NOT_AVAILABLE",n}if(je("https://www.gstatic.com"),!this.om){const n=await ut(()=>import("./vidstack-DZeWSaI_-DVMTqcsw.js").then(a=>a.v),__vite__mapDeps([13,1]));this.om=new n.GoogleCastLoader}await this.om.prompt(this.a),t&&this.f.e.k("media-google-cast-request",t);const s=b(this.$state.remotePlaybackState)!=="disconnected";s&&this.$state.savedState.set({paused:b(this.$state.paused),currentTime:b(this.$state.currentTime)}),this.$state.remotePlaybackLoader.set(s?this.om:null)}catch(e){throw this.f.e.qc("media-google-cast-request"),e}}"media-audio-track-change-request"(t){const{logger:e,audioTracks:s}=this.a;if(s.readonly)return;const n=t.detail,a=s[n];if(a){const r=t.type;this.f.e.k(r,t),a.selected=!0}}async"media-enter-fullscreen-request"(t){try{await this._e(t.detail,t)}catch(e){this._b(e,t)}}async"media-exit-fullscreen-request"(t){try{await this.af(t.detail,t)}catch(e){this._b(e,t)}}async Oc(t){const e=b(this.$props.fullscreenOrientation),s=t.detail;if(!(ht(e)||e==="none"||!this.ta.supported))if(s){if(this.ta.locked)return;this.dispatch("media-orientation-lock-request",{detail:e,trigger:t})}else this.ta.locked&&this.dispatch("media-orientation-unlock-request",{trigger:t})}_b(t,e){this.ga.X(this.createEvent("fullscreen-error",{detail:Bs(t)}))}async"media-orientation-lock-request"(t){const e=t.type;try{this.f.e.k(e,t),await this.ta.lock(t.detail)}catch{this.f.e.qc(e)}}async"media-orientation-unlock-request"(t){const e=t.type;try{this.f.e.k(e,t),await this.ta.unlock()}catch{this.f.e.qc(e)}}async"media-enter-pip-request"(t){try{await this.xd(t)}catch(e){this.cf(e,t)}}async"media-exit-pip-request"(t){try{await this.wd(t)}catch(e){this.cf(e,t)}}cf(t,e){this.ga.X(this.createEvent("picture-in-picture-error",{detail:Bs(t)}))}"media-live-edge-request"(t){const{live:e,liveEdge:s,canSeek:n}=this.$state;if(!(!e()||s()||!n())){this.f.e.k("media-seek-request",t);try{this.Ze()}catch{this.f.e.qc("media-seek-request")}}}async"media-loop-request"(t){try{this.f.Ha=!0,this.f.gb=!0,await this.sc(t)}catch{this.f.Ha=!1}}"media-user-loop-change-request"(t){this.$state.userPrefersLoop.set(t.detail)}async"media-pause-request"(t){if(!this.$state.paused())try{await this.ud(t)}catch{}}async"media-play-request"(t){if(this.$state.paused())try{await this.sc(t)}catch{}}"media-rate-change-request"(t){const{playbackRate:e,canSetPlaybackRate:s}=this.$state;if(e()===t.detail||!s())return;const n=this.uk();n!=null&&n.setPlaybackRate&&(this.f.e.k("media-rate-change-request",t),n.setPlaybackRate(t.detail))}"media-audio-gain-change-request"(t){try{this.gp(t.detail,t)}catch{}}"media-quality-change-request"(t){var r,o;const{qualities:e,storage:s,logger:n}=this.a;if(e.readonly)return;this.f.e.k("media-quality-change-request",t);const a=t.detail;if(a<0)e.autoSelect(t),t.isOriginTrusted&&((r=s==null?void 0:s.setVideoQuality)==null||r.call(s,null));else{const h=e[a];h&&(h.selected=!0,t.isOriginTrusted&&((o=s==null?void 0:s.setVideoQuality)==null||o.call(s,{id:h.id,width:h.width,height:h.height,bitrate:h.bitrate})))}}"media-pause-controls-request"(t){const e=t.type;this.f.e.k(e,t),this.Ib.pause(t)}"media-resume-controls-request"(t){const e=t.type;this.f.e.k(e,t),this.Ib.resume(t)}"media-seek-request"(t){const{seekableStart:e,seekableEnd:s,ended:n,canSeek:a,live:r,userBehindLiveEdge:o,clipStartTime:h}=this.$state,c=t.detail;n()&&(this.f.gb=!0);const l=t.type;this.f.qa=!1,this.f.e.qc(l);const d=c+h(),p=Math.floor(d)===Math.floor(s()),f=p?s():Math.min(Math.max(e()+.1,d),s()-.1);!Number.isFinite(f)||!a()||(this.f.e.k(l,t),this.uk().setCurrentTime(f),r()&&t.isOriginTrusted&&Math.abs(s()-f)>=2&&o.set(!0))}"media-seeking-request"(t){const e=t.type;this.f.e.k(e,t),this.$state.seeking.set(!0),this.f.qa=!0}"media-start-loading"(t){if(this.$state.canLoad())return;const e=t.type;this.f.e.k(e,t),this.ga.X(this.createEvent("can-load"))}"media-poster-start-loading"(t){if(this.$state.canLoadPoster())return;const e=t.type;this.f.e.k(e,t),this.ga.X(this.createEvent("can-load-poster"))}"media-text-track-change-request"(t){const{index:e,mode:s}=t.detail,n=this.a.textTracks[e];if(n){const a=t.type;this.f.e.k(a,t),n.setMode(s,t)}}"media-mute-request"(t){if(this.$state.muted())return;const e=t.type;this.f.e.k(e,t),this.uk().setMuted(!0)}"media-unmute-request"(t){const{muted:e,volume:s}=this.$state;if(!e())return;const n=t.type;this.f.e.k(n,t),this.a.$provider().setMuted(!1),s()===0&&(this.f.e.k(n,t),this.uk().setVolume(.25))}"media-volume-change-request"(t){const{muted:e,volume:s}=this.$state,n=t.detail;if(s()===n)return;const a=t.type;this.f.e.k(a,t),this.uk().setVolume(n),n>0&&e()&&(this.f.e.k(a,t),this.uk().setMuted(!1))}ql(t,e,s){}}function Ys(i,t){if(!(i&&t))throw Error("[vidstack] media not ready")}function aa(i,t){if(!(t!=null&&t.supported))throw Error("[vidstack] no fullscreen support")}class wc{constructor(){this.qa=!1,this.Ha=!1,this.gb=!1,this.e=new yc}}const vc=new Set(["auto-play","auto-play-fail","can-load","sources-change","source-change","load-start","abort","error","loaded-metadata","loaded-data","can-play","play","play-fail","pause","playing","seeking","seeked","waiting"]);class Tc extends te{constructor(t,e){super(),this.f=t,this.a=e,this.p=new Map,this.Kk=!1,this.tc=!1,this.Jb=!1,this.to=null,this.seeking=ee(s=>{const{seeking:n,realCurrentTime:a,paused:r}=this.$state;n.set(!0),a.set(s.detail),this.F("media-seeking-request",s),r()&&(this.hb=s,this.zd())},150,{leading:!0}),this.zd=_i(()=>{if(!this.hb)return;this.tc=!0;const{waiting:s,playing:n}=this.$state;s.set(!0),n.set(!1);const a=this.createEvent("waiting",{trigger:this.hb});this.p.set("waiting",a),this.dispatch(a),this.hb=void 0,this.tc=!1},300)}onAttach(t){t.setAttribute("aria-busy","true"),this.listen("fullscreen-change",this["fullscreen-change"].bind(this)),this.listen("fullscreen-error",this["fullscreen-error"].bind(this)),this.listen("orientation-change",this["orientation-change"].bind(this))}onConnect(t){u(this.nm.bind(this)),this.uh(),this.vh(),this.wh(),this.xh(),A(this.yh.bind(this))}onDestroy(){const{audioTracks:t,qualities:e,textTracks:s}=this.a;t[D.H](),e[D.H](),s[D.H](),this.so()}X(t){if(!this.scope)return;const e=t.type;yi(()=>{var s;return(s=this[t.type])==null?void 0:s.call(this,t)}),vc.has(e)&&this.p.set(e,t),this.dispatch(t)}xh(){this.Jb&&(requestAnimationFrame(()=>{this.scope&&this.a.remote.play(new _("dom-connect"))}),this.Jb=!1)}yh(){var t;this.Jb||(this.Jb=!this.$state.paused(),(t=this.a.$provider())==null||t.pause())}ib(){this.df(),this.Kk=!1,this.f.gb=!1,this.f.Ha=!1,this.tc=!1,this.hb=void 0,this.p.clear()}F(t,e){const s=this.f.e.td(t);s&&(e.request=s,e.triggers.add(s))}uh(){this.yd(),this.ef();const t=this.a.textTracks;y(t,"add",this.yd.bind(this)),y(t,"remove",this.yd.bind(this)),y(t,"mode-change",this.ef.bind(this))}vh(){const t=this.a.qualities;y(t,"add",this.pc.bind(this)),y(t,"remove",this.pc.bind(this)),y(t,"change",this.fb.bind(this)),y(t,"auto-change",this.zh.bind(this)),y(t,"readonly-change",this.Ah.bind(this))}wh(){const t=this.a.audioTracks;y(t,"add",this.ff.bind(this)),y(t,"remove",this.ff.bind(this)),y(t,"change",this.Bh.bind(this))}yd(t){const{textTracks:e}=this.$state;e.set(this.a.textTracks.toArray()),this.dispatch("text-tracks-change",{detail:e(),trigger:t})}ef(t){t&&this.F("media-text-track-change-request",t);const e=this.a.textTracks.selected,{textTrack:s}=this.$state;s()!==e&&(s.set(e),this.dispatch("text-track-change",{detail:e,trigger:t}))}ff(t){const{audioTracks:e}=this.$state;e.set(this.a.audioTracks.toArray()),this.dispatch("audio-tracks-change",{detail:e(),trigger:t})}Bh(t){const{audioTrack:e}=this.$state;e.set(this.a.audioTracks.selected),t&&this.F("media-audio-track-change-request",t),this.dispatch("audio-track-change",{detail:e(),trigger:t})}pc(t){const{qualities:e}=this.$state;e.set(this.a.qualities.toArray()),this.dispatch("qualities-change",{detail:e(),trigger:t})}fb(t){const{quality:e}=this.$state;e.set(this.a.qualities.selected),t&&this.F("media-quality-change-request",t),this.dispatch("quality-change",{detail:e(),trigger:t})}zh(){const{qualities:t}=this.a,e=t.auto;this.$state.autoQuality.set(e),e||this.so()}uo(){this.so(),this.to=u(()=>{const{qualities:t}=this.a,{mediaWidth:e,mediaHeight:s}=this.$state,n=e(),a=s();if(n===0||a===0)return;let r=null,o=1/0;for(const h of t){const c=Math.abs(h.width-n)+Math.abs(h.height-a);c<o&&(o=c,r=h)}r&&t[D.pa](r,!0,new _("resize",{detail:{width:n,height:a}}))})}so(){var t;(t=this.to)==null||t.call(this),this.to=null}Ah(){this.$state.canSetQuality.set(!this.a.qualities.readonly)}nm(){const{canSetVolume:t,isGoogleCastConnected:e}=this.$state;if(e()){t.set(!1);return}ch().then(t.set)}"provider-change"(t){var n,a;const e=this.a.$provider(),s=t.detail;(e==null?void 0:e.type)!==(s==null?void 0:s.type)&&((n=e==null?void 0:e.destroy)==null||n.call(e),(a=e==null?void 0:e.scope)==null||a.dispose(),this.a.$provider.set(t.detail),e&&t.detail===null&&this.gf(t))}"provider-loader-change"(t){}"auto-play"(t){this.$state.autoPlayError.set(null)}"auto-play-fail"(t){this.$state.autoPlayError.set(t.detail),this.ib()}"can-load"(t){this.$state.canLoad.set(!0),this.p.set("can-load",t),this.a.textTracks[C.P](),this.F("media-start-loading",t)}"can-load-poster"(t){this.$state.canLoadPoster.set(!0),this.p.set("can-load-poster",t),this.F("media-poster-start-loading",t)}"media-type-change"(t){const e=this.p.get("source-change");e&&t.triggers.add(e);const s=this.$state.viewType();this.$state.mediaType.set(t.detail);const n=this.$state.providedViewType(),a=n==="unknown"?t.detail:n;s!==a&&setTimeout(()=>{requestAnimationFrame(()=>{this.scope&&(this.$state.inferredViewType.set(t.detail),this.dispatch("view-type-change",{detail:a,trigger:t}))})},0)}"stream-type-change"(t){const e=this.p.get("source-change");e&&t.triggers.add(e);const{streamType:s,inferredStreamType:n}=this.$state;n.set(t.detail),t.detail=s()}"rate-change"(t){var n;const{storage:e}=this.a,{canPlay:s}=this.$state;this.$state.playbackRate.set(t.detail),this.F("media-rate-change-request",t),s()&&((n=e==null?void 0:e.setPlaybackRate)==null||n.call(e,t.detail))}"remote-playback-change"(t){const{remotePlaybackState:e,remotePlaybackType:s}=this.$state,{type:n,state:a}=t.detail,r=a==="connected";s.set(n),e.set(a);const o=n==="airplay"?"media-airplay-request":"media-google-cast-request";if(r)this.F(o,t);else{const h=this.f.e.kl(o);h&&(t.request=h,t.triggers.add(h))}}"sources-change"(t){const e=this.$state.sources(),s=t.detail;this.$state.sources.set(s),this.vo(e,s,t)}vo(t,e,s){let{qualities:n}=this.a,a=!1,r=!1;for(const o of t){if(!ni(o))continue;if(!e.some(c=>c.src===o.src)){const c=n.getBySrc(o.src);c&&(n[D.Yb](c,s),r=!0)}}r&&!n.length&&(this.$state.savedState.set(null),n[D.H](s));for(const o of e){if(!ni(o)||n.getBySrc(o.src))continue;const h={id:o.id??o.height+"p",bitrate:null,codec:null,...o,selected:!1};n[D.oa](h,s),a=!0}a&&!n[vt.Za]&&(this.uo(),n[vt.Za]=this.uo.bind(this),n[vt.Ya](!0,s))}"source-change"(t){var s,n;t.isQualityChange=((s=t.originEvent)==null?void 0:s.type)==="quality-change";const e=t.detail;this.gf(t,t.isQualityChange),this.p.set(t.type,t),this.$state.source.set(e),(n=this.el)==null||n.setAttribute("aria-busy","true")}gf(t,e=!1){const{audioTracks:s,qualities:n}=this.a;if(!e){s[D.H](t),n[D.H](t),Zn(this.$state,e),this.ib();return}Zn(this.$state,e),this.ib()}abort(t){const e=this.p.get("source-change");e&&t.triggers.add(e);const s=this.p.get("can-load");s&&!t.triggers.hasType("can-load")&&t.triggers.add(s)}"load-start"(t){const e=this.p.get("source-change");e&&t.triggers.add(e)}error(t){this.$state.error.set(t.detail);const e=this.p.get("abort");e&&t.triggers.add(e)}"loaded-metadata"(t){const e=this.p.get("load-start");e&&t.triggers.add(e)}"loaded-data"(t){const e=this.p.get("load-start");e&&t.triggers.add(e)}"can-play"(t){var s;const e=this.p.get("loaded-metadata");e&&t.triggers.add(e),this.hf(t.detail),(s=this.el)==null||s.setAttribute("aria-busy","false")}"can-play-through"(t){this.hf(t.detail);const e=this.p.get("can-play");e&&t.triggers.add(e)}hf(t){const{seekable:e,buffered:s,intrinsicDuration:n,canPlay:a}=this.$state;a.set(!0),s.set(t.buffered),e.set(t.seekable);const r=ge(t.seekable)??1/0;n.set(r)}"duration-change"(t){const{live:e,intrinsicDuration:s,ended:n}=this.$state,a=t.detail;if(!e()){const r=Number.isNaN(a)?0:a;s.set(r),n()&&this.fp(t)}}progress(t){const{buffered:e,bufferedEnd:s,seekable:n,seekableEnd:a,live:r,intrinsicDuration:o}=this.$state,{buffered:h,seekable:c}=t.detail,l=ge(h)??1/0,d=h.length!==e().length,p=l>s(),f=ge(c)??1/0,m=c.length!==n().length,g=f>a();(d||p)&&e.set(h),(m||g)&&n.set(c),r()&&(o.set(f),this.dispatch("duration-change",{detail:f,trigger:t}))}play(t){const{paused:e,autoPlayError:s,ended:n,autoPlaying:a,playsInline:r,pointer:o,muted:h,viewType:c,live:l,userBehindLiveEdge:d}=this.$state;if(this.Gk(),!e()){t.stopImmediatePropagation();return}t.autoPlay=a();const p=this.p.get("waiting");p&&t.triggers.add(p),this.F("media-play-request",t),this.p.set("play",t),e.set(!1),s.set(null),t.autoPlay&&(this.X(this.createEvent("auto-play",{detail:{muted:h()},trigger:t})),a.set(!1)),(n()||this.f.gb)&&(this.f.gb=!1,n.set(!1),this.X(this.createEvent("replay",{trigger:t}))),!r()&&c()==="video"&&o()==="coarse"&&this.a.remote.enterFullscreen("prefer-media",t),l()&&!d()&&this.a.remote.seekToLiveEdge(t)}Gk(t){if(!b(this.a.$provider))return;const{ended:s,seekableStart:n,clipStartTime:a,clipEndTime:r,realCurrentTime:o,duration:h}=this.$state,c=o()<a()||r()>0&&o()>=r()||Math.abs(o()-h())<.1||s();return c&&this.dispatch("media-seek-request",{detail:(a()>0?0:n())+.1,trigger:t}),c}"play-fail"(t){const{muted:e,autoPlaying:s}=this.$state,n=this.p.get("play");n&&t.triggers.add(n),this.F("media-play-request",t);const{paused:a,playing:r}=this.$state;a.set(!0),r.set(!1),this.ib(),this.p.set("play-fail",t),t.autoPlay&&(this.X(this.createEvent("auto-play-fail",{detail:{muted:e(),error:t.detail},trigger:t})),s.set(!1))}playing(t){const e=this.p.get("play"),s=this.p.get("seeked");e?t.triggers.add(e):s&&t.triggers.add(s),setTimeout(()=>this.ib(),0);const{paused:n,playing:a,live:r,liveSyncPosition:o,seekableEnd:h,started:c,currentTime:l,seeking:d,ended:p}=this.$state;if(n.set(!1),a.set(!0),d.set(!1),p.set(!1),this.f.Ha){this.f.Ha=!1;return}if(r()&&!c()&&l()===0){const f=o()??h()-2;Number.isFinite(f)&&this.a.$provider().setCurrentTime(f)}this.started(t)}started(t){const{started:e}=this.$state;e()||(e.set(!0),this.X(this.createEvent("started",{trigger:t})))}pause(t){var a;(a=this.el)!=null&&a.isConnected||(this.Jb=!0),this.F("media-pause-request",t);const e=this.p.get("seeked");e&&t.triggers.add(e);const{paused:s,playing:n}=this.$state;s.set(!0),n.set(!1),this.Kk&&setTimeout(()=>{this.X(this.createEvent("end",{trigger:t})),this.Kk=!1},0),this.ib()}"time-update"(t){if(this.f.Ha){t.stopImmediatePropagation();return}const{realCurrentTime:e,played:s,waiting:n,clipEndTime:a}=this.$state,r=a(),o=t.detail;e.set(o.currentTime),s.set(o.played),n.set(!1);for(const h of this.a.textTracks)h[C.Ta](o.currentTime,t);r>0&&o.currentTime>=r&&(this.Kk=!0,this.dispatch("media-pause-request",{trigger:t})),this.Nk()}fp(t){const{duration:e,played:s}=this.$state,n=ti(s())??0;this.X(this.createEvent("time-update",{detail:{currentTime:e(),played:new Je(n,e())},trigger:t}))}Nk(){var n;const{storage:t}=this.a,{canPlay:e,realCurrentTime:s}=this.$state;e()&&((n=t==null?void 0:t.setTime)==null||n.call(t,s()))}"audio-gain-change"(t){var a;const{storage:e}=this.a,{canPlay:s,audioGain:n}=this.$state;n.set(t.detail),this.F("media-audio-gain-change-request",t),s()&&((a=e==null?void 0:e.setAudioGain)==null||a.call(e,n()))}"volume-change"(t){var o,h;const{storage:e}=this.a,{volume:s,muted:n,canPlay:a}=this.$state,r=t.detail;s.set(r.volume),n.set(r.muted||r.volume===0),this.F("media-volume-change-request",t),this.F(r.muted?"media-mute-request":"media-unmute-request",t),a()&&((o=e==null?void 0:e.setVolume)==null||o.call(e,s()),(h=e==null?void 0:e.setMuted)==null||h.call(e,n()))}seeked(t){const{seeking:e,currentTime:s,realCurrentTime:n,paused:a,seekableEnd:r,ended:o}=this.$state;if(this.f.qa)e.set(!0),t.stopImmediatePropagation();else if(e()){const h=this.p.get("waiting");h&&t.triggers.add(h);const c=this.p.get("seeking");c&&!t.triggers.has(c)&&t.triggers.add(c),a()&&this.df(),e.set(!1),n.set(t.detail),this.F("media-seek-request",t);const l=t==null?void 0:t.originEvent;l!=null&&l.isTrusted&&!/seek/.test(l.type)&&this.started(t)}Math.floor(s())!==Math.floor(r())?o.set(!1):this.end(t)}waiting(t){this.tc||this.f.qa||(t.stopImmediatePropagation(),this.hb=t,this.zd())}end(t){const{loop:e,ended:s}=this.$state;if(!(!e()&&s())){if(e()){setTimeout(()=>{requestAnimationFrame(()=>{this.dispatch("media-loop-request",{trigger:t})})},10);return}setTimeout(()=>this.Db(t),0)}}Db(t){var o;const{storage:e}=this.a,{paused:s,seeking:n,ended:a,duration:r}=this.$state;this.fp(t),s()||this.dispatch("pause",{trigger:t}),n()&&this.dispatch("seeked",{detail:r(),trigger:t}),a.set(!0),this.ib(),(o=e==null?void 0:e.setTime)==null||o.call(e,r(),!0),this.dispatch("ended",{trigger:t})}df(){this.zd.cancel(),this.$state.waiting.set(!1)}"fullscreen-change"(t){const e=t.detail;this.$state.fullscreen.set(e),this.F(e?"media-enter-fullscreen-request":"media-exit-fullscreen-request",t)}"fullscreen-error"(t){this.F("media-enter-fullscreen-request",t),this.F("media-exit-fullscreen-request",t)}"orientation-change"(t){const e=t.detail.lock;this.F(e?"media-orientation-lock-request":"media-orientation-unlock-request",t)}"picture-in-picture-change"(t){const e=t.detail;this.$state.pictureInPicture.set(e),this.F(e?"media-enter-pip-request":"media-exit-pip-request",t)}"picture-in-picture-error"(t){this.F("media-enter-pip-request",t),this.F("media-exit-pip-request",t)}"title-change"(t){t.trigger&&(t.stopImmediatePropagation(),this.$state.inferredTitle.set(t.detail))}"poster-change"(t){t.trigger&&(t.stopImmediatePropagation(),this.$state.inferredPoster.set(t.detail))}}class kc extends te{onSetup(){this.Ch(),u(this.Mo.bind(this)),u(this.Fh.bind(this)),u(this.Ek.bind(this)),u(this.Vc.bind(this)),u(this.Hh.bind(this)),u(this.pn.bind(this)),u(this.Jh.bind(this)),u(this.Kh.bind(this)),u(this.Ih.bind(this)),u(this.Gh.bind(this)),u(this.Vm.bind(this)),u(this.ld.bind(this)),u(this.Eh.bind(this)),u(this.uc.bind(this))}Ch(){var s;const t={duration:"providedDuration",loop:"providedLoop",poster:"providedPoster",streamType:"providedStreamType",title:"providedTitle",viewType:"providedViewType"},e=new Set(["currentTime","paused","playbackRate","volume"]);for(const n of Object.keys(this.$props))e.has(n)||(s=this.$state[t[n]??n])==null||s.set(this.$props[n]());this.$state.muted.set(this.$props.muted()||this.$props.volume()===0)}Eh(){const{viewType:t,streamType:e,title:s,poster:n,loop:a}=this.$props,r=this.$state;r.providedPoster.set(n()),r.providedStreamType.set(e()),r.providedViewType.set(t()),r.providedTitle.set(s()),r.providedLoop.set(a())}Dh(){}Mo(){const{artist:t,artwork:e}=this.$props;this.$state.artist.set(t()),this.$state.artwork.set(e())}uc(){const{title:t}=this.$state;this.dispatch("title-change",{detail:t()})}Fh(){const t=this.$props.autoPlay()||this.$props.autoplay();this.$state.autoPlay.set(t),this.dispatch("auto-play-change",{detail:t})}Gh(){const t=this.$state.loop();this.dispatch("loop-change",{detail:t})}Vc(){const t=this.$props.controls();this.$state.controls.set(t)}ld(){const{poster:t}=this.$state;this.dispatch("poster-change",{detail:t()})}Hh(){const t=this.$props.crossOrigin()??this.$props.crossorigin(),e=t===!0?"":t;this.$state.crossOrigin.set(e)}pn(){const{providedDuration:t}=this.$state;t.set(this.$props.duration())}Vm(){const t=this.$props.playsInline()||this.$props.playsinline();this.$state.playsInline.set(t),this.dispatch("plays-inline-change",{detail:t})}Ek(){const{clipStartTime:t,clipEndTime:e}=this.$props;this.$state.clipStartTime.set(t()),this.$state.clipEndTime.set(e())}Jh(){this.dispatch("live-change",{detail:this.$state.live()})}Ih(){this.$state.liveEdgeTolerance.set(this.$props.liveEdgeTolerance()),this.$state.minLiveDVRWindow.set(this.$props.minLiveDVRWindow())}Kh(){this.dispatch("live-edge-change",{detail:this.$state.liveEdge()})}}const we=class we extends te{constructor(){super()}onConnect(){u(this.Pm.bind(this)),u(this.Qm.bind(this));const t=this.Rm.bind(this);for(const e of we.Nm)navigator.mediaSession.setActionHandler(e,t);A(this.ya.bind(this))}ya(){for(const t of we.Nm)navigator.mediaSession.setActionHandler(t,null)}Pm(){const{title:t,artist:e,artwork:s,poster:n}=this.$state;navigator.mediaSession.metadata=new MediaMetadata({title:t(),artist:e(),artwork:s()??[{src:n()}]})}Qm(){const{canPlay:t,paused:e}=this.$state;navigator.mediaSession.playbackState=t()?e()?"paused":"playing":"none"}Rm(t){const e=new _("media-session-action",{detail:t});switch(t.action){case"play":this.dispatch("media-play-request",{trigger:e});break;case"pause":this.dispatch("media-pause-request",{trigger:e});break;case"seekto":case"seekforward":case"seekbackward":this.dispatch("media-seek-request",{detail:mt(t.seekTime)?t.seekTime:this.$state.currentTime()+(t.seekOffset??10),trigger:e});break}}};we.Nm=["play","pause","seekforward","seekbackward","seekto"];let oi=we,ds=$(!1);y(document,"pointerdown",()=>{ds.set(!1)}),y(document,"keydown",i=>{i.metaKey||i.altKey||i.ctrlKey||ds.set(!0)});class xt extends yt{constructor(){super(...arguments),this.Kb=$(!1)}onConnect(t){u(()=>{if(!ds()){this.Kb.set(!1),ze(t,!1),this.listen("pointerenter",this.Cd.bind(this)),this.listen("pointerleave",this.Dd.bind(this));return}const e=document.activeElement===t;this.Kb.set(e),ze(t,e),this.listen("focus",this.Lb.bind(this)),this.listen("blur",this.Nh.bind(this))})}focused(){return this.Kb()}Lb(){this.Kb.set(!0),ze(this.el,!0)}Nh(){this.Kb.set(!1),ze(this.el,!1)}Cd(){ra(this.el,!0)}Dd(){ra(this.el,!1)}}function ze(i,t){x(i,"data-focus",t),x(i,"data-hocus",t)}function ra(i,t){x(i,"data-hocus",t),x(i,"data-hover",t)}var xc=Object.defineProperty,Sc=Object.getOwnPropertyDescriptor,q=(i,t,e,s)=>{for(var n=s>1?void 0:s?Sc(t,e):t,a=i.length-1,r;a>=0;a--)(r=i[a])&&(n=(s?r(t,e,n):r(n))||n);return s&&n&&xc(t,e,n),n},At;const j=(At=class extends w{constructor(){super(),this.canPlayQueue=new xr,this.wc=!1,new kc;const t={player:this,qualities:new tc,audioTracks:new Zh,storage:null,$provider:$(null),$providerSetup:$(!1),$props:this.$props,$state:this.$state};t.remote=this.remoteControl=new Uh(void 0),t.remote.setPlayer(this),t.textTracks=new Jh,t.textTracks[C.al]=this.$state.crossOrigin,t.textRenderers=new Xh(t),t.ariaKeys={},this.a=t,tt(wr,t),this.orientation=new us,new xt,new hc(t);const e=new wc;this.ga=new Tc(e,t),this.Y=new $c(this.ga,e,t),t.delegate=new gc(this.ga.X.bind(this.ga),t),new oi,new na("load",this.startLoading.bind(this)),new na("posterLoad",this.startLoadingPoster.bind(this))}get i(){return this.a.$provider()}get sn(){return this.$props}onSetup(){this.Ph(),u(this.Qh.bind(this)),u(this.Rh.bind(this)),u(this.Tc.bind(this)),u(this.Fd.bind(this)),u(this.jb.bind(this)),u(this.Vm.bind(this)),u(this.Sh.bind(this))}onAttach(t){t.setAttribute("data-media-player",""),M(t,"tabindex","0"),M(t,"role","region"),u(this.Tm.bind(this)),u(this.uc.bind(this)),u(this.lf.bind(this)),y(t,"find-media-player",this.Th.bind(this))}onConnect(t){ur&&x(t,"data-iphone","");const e=window.matchMedia("(pointer: coarse)");this.mf(e),e.onchange=this.mf.bind(this);const s=new ResizeObserver(Zt(this.O.bind(this)));s.observe(t),u(this.O.bind(this)),this.dispatch("media-player-connect",{detail:this,bubbles:!0,composed:!0}),A(()=>{s.disconnect(),e.onchange=null})}onDestroy(){this.a.player=null,this.canPlayQueue.H()}uc(){const t=this.$el,{title:e,live:s,viewType:n,providedTitle:a}=this.$state,r=s(),o=Gr(n()),h=o!=="Unknown"?`${r?"Live ":""}${o}`:r?"Live":"Media",c=e();x(this.el,"aria-label",`${h} Player`+(c?` - ${c}`:"")),t!=null&&t.hasAttribute("title")&&(this.wc=!0,t==null||t.removeAttribute("title"))}lf(){const t=this.orientation.landscape?"landscape":"portrait";this.$state.orientation.set(t),x(this.el,"data-orientation",t),this.O()}Qh(){this.$state.canPlay()&&this.i?this.canPlayQueue.Bb():this.canPlayQueue.ra()}Ph(){if(At[zs]){this.setAttributes(At[zs]);return}const t={"data-load":function(){return this.$props.load()},"data-captions":function(){const s=this.$state.textTrack();return!!s&&X(s)},"data-ios-controls":function(){return this.$state.iOSControls()},"data-controls":function(){return this.controls.showing},"data-buffering":function(){const{canLoad:s,canPlay:n,waiting:a}=this.$state;return s()&&(!n()||a())},"data-error":function(){const{error:s}=this.$state;return!!s()},"data-autoplay-error":function(){const{autoPlayError:s}=this.$state;return!!s()}},e={autoPlay:"autoplay",canAirPlay:"can-airplay",canPictureInPicture:"can-pip",pictureInPicture:"pip",playsInline:"playsinline",remotePlaybackState:"remote-state",remotePlaybackType:"remote-type",isAirPlayConnected:"airplay",isGoogleCastConnected:"google-cast"};for(const s of mc){const n="data-"+(e[s]??Ya(s));t[n]=function(){return this.$state[s]()}}delete t.title,At[zs]=t,this.setAttributes(t)}Th(t){t.detail(this)}O(){if(!this.el)return;const t=this.el.clientWidth,e=this.el.clientHeight;this.$state.width.set(t),this.$state.height.set(e),ct(this.el,"--player-width",t+"px"),ct(this.el,"--player-height",e+"px")}mf(t){const e=t.matches?"coarse":"fine";x(this.el,"data-pointer",e),this.$state.pointer.set(e),this.O()}get provider(){return this.i}get controls(){return this.Y.Ib}set controls(t){this.sn.controls.set(t)}get title(){return b(this.$state.providedTitle)}set title(t){if(this.wc){this.wc=!1;return}this.$state.providedTitle.set(t)}get qualities(){return this.a.qualities}get audioTracks(){return this.a.audioTracks}get textTracks(){return this.a.textTracks}get textRenderers(){return this.a.textRenderers}get duration(){return this.$state.duration()}set duration(t){this.sn.duration.set(t)}get paused(){return b(this.$state.paused)}set paused(t){this.nf(t)}Tc(){this.nf(this.$props.paused())}nf(t){t?this.canPlayQueue.k("paused",()=>this.Y.ud()):this.canPlayQueue.k("paused",()=>this.Y.sc())}get muted(){return b(this.$state.muted)}set muted(t){this.sn.muted.set(t)}Rh(){this.Uh(this.$props.muted())}Uh(t){this.canPlayQueue.k("muted",()=>{this.i&&this.i.setMuted(t)})}get currentTime(){return b(this.$state.currentTime)}set currentTime(t){this.of(t)}jb(){this.of(this.$props.currentTime())}of(t){this.canPlayQueue.k("currentTime",()=>{const{currentTime:e,clipStartTime:s,seekableStart:n,seekableEnd:a}=this.$state;t!==b(e)&&b(()=>{if(!this.i)return;const r=t+s(),o=Math.floor(r)===Math.floor(a()),h=o?a():Math.min(Math.max(n()+.1,r),a()-.1);Number.isFinite(h)&&this.i.setCurrentTime(h)})})}get volume(){return b(this.$state.volume)}set volume(t){this.sn.volume.set(t)}Fd(){this.Vh(this.$props.volume())}Vh(t){const e=qi(0,t,1);this.canPlayQueue.k("volume",()=>{this.i&&this.i.setVolume(e)})}get playbackRate(){return b(this.$state.playbackRate)}set playbackRate(t){this.pf(t)}Sh(){this.pf(this.$props.playbackRate())}pf(t){this.canPlayQueue.k("rate",()=>{var e,s;this.i&&((s=(e=this.i).setPlaybackRate)==null||s.call(e,t))})}Vm(){this.Wm(this.$props.playsInline())}Wm(t){this.canPlayQueue.k("playsinline",()=>{var e,s;this.i&&((s=(e=this.i).setPlaysInline)==null||s.call(e,t))})}Tm(){var s;let t=this.$props.storage(),e=k(t)?new zh:t;if(e!=null&&e.onChange){const{source:n}=this.$state,a=k(t)?t:(s=this.el)==null?void 0:s.id,r=Ot(this.Um.bind(this));u(()=>e.onChange(n(),r(),a||void 0))}this.a.storage=e,this.a.textTracks.setStorage(e),A(()=>{var n;(n=e==null?void 0:e.onDestroy)==null||n.call(e),this.a.storage=null,this.a.textTracks.setStorage(null)})}Um(){const{clipStartTime:t,clipEndTime:e}=this.$props,{source:s}=this.$state,n=s();return n.src?`${n.src}:${t()}:${e()}`:null}async play(t){return this.Y.sc(t)}async pause(t){return this.Y.ud(t)}async enterFullscreen(t,e){return this.Y._e(t,e)}async exitFullscreen(t,e){return this.Y.af(t,e)}enterPictureInPicture(t){return this.Y.xd(t)}exitPictureInPicture(t){return this.Y.wd(t)}seekToLiveEdge(t){this.Y.Ze(t)}startLoading(t){this.a.delegate.c("can-load",void 0,t)}startLoadingPoster(t){this.a.delegate.c("can-load-poster",void 0,t)}requestAirPlay(t){return this.Y.ol(t)}requestGoogleCast(t){return this.Y.ul(t)}setAudioGain(t,e){return this.Y.gp(t,e)}destroy(){this.a.remote.setPlayer(null),this.dispatch("destroy")}},At.props=bc,At.state=yr,At);q([S],j.prototype,"canPlayQueue",2);q([S],j.prototype,"remoteControl",2);q([S],j.prototype,"provider",1);q([S],j.prototype,"controls",1);q([S],j.prototype,"orientation",2);q([S],j.prototype,"title",1);q([S],j.prototype,"qualities",1);q([S],j.prototype,"audioTracks",1);q([S],j.prototype,"textTracks",1);q([S],j.prototype,"textRenderers",1);q([S],j.prototype,"duration",1);q([S],j.prototype,"paused",1);q([S],j.prototype,"muted",1);q([S],j.prototype,"currentTime",1);q([S],j.prototype,"volume",1);q([S],j.prototype,"playbackRate",1);q([N],j.prototype,"play",1);q([N],j.prototype,"pause",1);q([N],j.prototype,"enterFullscreen",1);q([N],j.prototype,"exitFullscreen",1);q([N],j.prototype,"enterPictureInPicture",1);q([N],j.prototype,"exitPictureInPicture",1);q([N],j.prototype,"seekToLiveEdge",1);q([N],j.prototype,"startLoading",1);q([N],j.prototype,"startLoadingPoster",1);q([N],j.prototype,"requestAirPlay",1);q([N],j.prototype,"requestGoogleCast",1);q([N],j.prototype,"setAudioGain",1);let eu=j;function Pc(i,t){return fetch(i,t).then(e=>e.text()).then(e=>/type="static"/.test(e)?"on-demand":"live")}function Sr(i,t){return fetch(i,t).then(e=>e.text()).then(e=>{const s=Ec(e);if(s)return Sr(/^https?:/.test(s)?s:new URL(s,i).href,t);const n=/EXT-X-PLAYLIST-TYPE:\s*VOD/.test(e)?"on-demand":"live";return n==="live"&&Ac(e)>=10&&(/#EXT-X-DVR-ENABLED:\s*true/.test(e)||e.includes("#EXT-X-DISCONTINUITY"))?"live:dvr":n})}function Ec(i){const t=i.match(/#EXT-X-STREAM-INF:[^\n]+(\n[^\n]+)*/g);return t?t[0].split(`
`)[1].trim():null}function Ac(i){const t=i.split(`
`);for(const e of t)if(e.startsWith("#EXT-X-TARGETDURATION")){const s=parseFloat(e.split(":")[1]);if(!isNaN(s))return s}return-1}const hi=new Map;class Cc{constructor(t,e,s,n=[]){this.xc=t,this.a=e,this.ha=s,this.Gd=!1;const a=new ai,r=new ri,o=new Fi,h=new dc,c=new fc,l=new pc,d=[c,l];this.Hd=Ot(()=>{const f=e.$state.remotePlaybackLoader(),m=e.$props.preferNativeHLS()?[o,h,a,r,...d,...n]:[r,o,h,a,...d,...n];return f?[f,...m]:m});const{$state:p}=e;p.sources.set(oa(e.$props.src()));for(const f of p.sources()){const m=this.Hd().find(v=>v.canPlay(f));if(!m)continue;const g=m.mediaType(f);this.a.$state.source.set(f),this.a.$state.mediaType.set(g),this.a.$state.inferredViewType.set(g),this.ha.set(m),this.Gd=!0}}get c(){return this.a.delegate.c}connect(){const t=this.ha();this.Gd&&(this.qf(this.a.$state.source(),t),this.rf(t),this.Gd=!1),u(this.Xh.bind(this)),u(this.Yh.bind(this)),u(this.Zh.bind(this)),u(this._h.bind(this)),u(this.Ok.bind(this))}Xh(){this.c("sources-change",[...oa(this.a.$props.src()),...this.xc()])}Yh(){var r;const{$state:t}=this.a,e=t.sources(),s=b(t.source),n=this.sf(s,e);if(((r=e[0])==null?void 0:r.src)&&!n.src&&!n.type){const{crossOrigin:o}=t,h=ye(o()),c=new AbortController;return Promise.all(e.map(l=>k(l.src)&&l.type==="?"?fetch(l.src,{method:"HEAD",credentials:h,signal:c.signal}).then(d=>(l.type=d.headers.get("content-type")||"??",hi.set(l.src,l.type),l)).catch(()=>l):l)).then(l=>{c.signal.aborted||(this.sf(b(t.source),l),Ct())}),()=>c.abort()}Ct()}sf(t,e){let s={src:"",type:""},n=null,a=new _("sources-change",{detail:{sources:e}}),r=this.Hd(),{started:o,paused:h,currentTime:c,quality:l,savedState:d}=this.a.$state;for(const p of e){const f=r.find(m=>m.canPlay(p));if(f){s=p,n=f;break}}if(ni(s)){const p=l(),f=e.find(m=>m.src===(p==null?void 0:p.src));b(o)?d.set({paused:b(h),currentTime:b(c)}):d.set(null),f&&(s=f,a=new _("quality-change",{detail:{quality:p}}))}return ca(t,s)||this.qf(s,n,a),n!==b(this.ha)&&this.rf(n,a),s}qf(t,e,s){this.c("source-change",t,s),this.c("media-type-change",(e==null?void 0:e.mediaType(t))||"unknown",s)}rf(t,e){this.a.$providerSetup.set(!1),this.c("provider-change",null,e),t&&b(()=>{var s;return(s=t.preconnect)==null?void 0:s.call(t,this.a)}),this.ha.set(t),this.c("provider-loader-change",t,e)}Zh(){const t=this.a.$provider();if(!(!t||b(this.a.$providerSetup))){if(this.a.$state.canLoad()){J(()=>t.setup(),t.scope),this.a.$providerSetup.set(!0);return}b(()=>{var e;return(e=t.preconnect)==null?void 0:e.call(t)})}}_h(){if(!this.a.$providerSetup())return;const t=this.a.$provider(),e=this.a.$state.source(),s=b(this.a.$state.crossOrigin),n=b(this.a.$props.preferNativeHLS);if(!ca(t==null?void 0:t.currentSrc,e)){if(this.a.$state.canLoad()){const a=new AbortController;return Ie(e)?(n||!Di())&&Sr(e.src,{credentials:ye(s),signal:a.signal}).then(r=>{this.c("stream-type-change",r)}).catch(is):ji(e)?Pc(e.src,{credentials:ye(s),signal:a.signal}).then(r=>{this.c("stream-type-change",r)}).catch(is):this.c("stream-type-change","on-demand"),b(()=>{const r=b(this.a.$state.preload);return t==null?void 0:t.loadSource(e,r).catch(o=>{})}),()=>a.abort()}try{k(e.src)&&je(new URL(e.src).origin)}catch{}}}Ok(){const t=this.ha(),{providedPoster:e,source:s,canLoadPoster:n}=this.a.$state;if(!t||!t.loadPoster||!s()||!n()||e())return;const a=new AbortController,r=new _("source-change",{detail:s});return t.loadPoster(s(),this.a,a).then(o=>{this.c("poster-change",o||"",r)}).catch(()=>{this.c("poster-change","",r)}),()=>{a.abort()}}}function oa(i){return(Y(i)?i:[i]).map(t=>k(t)?{src:t,type:ha(t)}:{...t,type:ha(t.src,t.type)}).sort(t=>t.type==="?"?1:-1)}function ha(i,t){return k(t)&&t.length?t:k(i)&&hi.has(i)?hi.get(i):!t&&Ie({src:i,type:""})?"application/x-mpegurl":!t&&ji({src:i,type:""})?"application/dash+xml":!k(i)||i.startsWith("blob:")?"video/object":i.includes("youtube")||i.includes("youtu.be")?"video/youtube":i.includes("vimeo")&&!i.includes("progressive_redirect")&&!i.includes(".m3u8")?"video/vimeo":"?"}function ca(i,t){return(i==null?void 0:i.src)===(t==null?void 0:t.src)&&(i==null?void 0:i.type)===(t==null?void 0:t.type)}class Oc{constructor(t,e){this.yc=t,this.a=e,this.tf=[],u(this.$h.bind(this))}$h(){const t=this.yc();for(const e of this.tf)if(!t.some(s=>s.id===e.id)){const s=e.id&&this.a.textTracks.getById(e.id);s&&this.a.textTracks.remove(s)}for(const e of t){const s=e.id||ls.createId(e);this.a.textTracks.getById(s)||(e.id=s,this.a.textTracks.add(e))}this.tf=t}}var Lc=Object.defineProperty,Dc=Object.getOwnPropertyDescriptor,Mc=(i,t,e,s)=>{for(var n=s>1?void 0:s?Dc(t,e):t,a=i.length-1,r;a>=0;a--)(r=i[a])&&(n=(s?r(t,e,n):r(n))||n);return s&&n&&Lc(t,e,n),n};const ys=class ys extends w{constructor(){super(...arguments),this.xc=$([]),this.yc=$([]),this.ha=null,this.Id=-1}onSetup(){this.a=P(),this.uf=new Cc(this.xc,this.a,this.$state.loader,this.$props.loaders())}onAttach(t){t.setAttribute("data-media-provider","")}onConnect(t){this.uf.connect(),new Oc(this.yc,this.a);const e=new ResizeObserver(Zt(this.O.bind(this)));e.observe(t);const s=new MutationObserver(this.vf.bind(this));s.observe(t,{attributes:!0,childList:!0}),this.O(),this.vf(),A(()=>{e.disconnect(),s.disconnect()})}load(t){window.cancelAnimationFrame(this.Id),this.Id=requestAnimationFrame(()=>this.ai(t)),A(()=>{window.cancelAnimationFrame(this.Id)})}ai(t){if(!this.scope)return;const e=this.$state.loader(),{$provider:s}=this.a;this.ha===e&&(e==null?void 0:e.target)===t&&b(s)||(this.wf(),this.ha=e,e&&(e.target=t||null),!(!e||!t)&&e.load(this.a).then(n=>{this.scope&&b(this.$state.loader)===e&&this.a.delegate.c("provider-change",n)}))}onDestroy(){this.ha=null,this.wf()}wf(){this.a.delegate.c("provider-change",null)}O(){if(!this.el)return;const{player:t,$state:e}=this.a,s=this.el.offsetWidth,n=this.el.offsetHeight;t&&(e.mediaWidth.set(s),e.mediaHeight.set(n),t.el&&(ct(t.el,"--media-width",s+"px"),ct(t.el,"--media-height",n+"px")))}vf(){const t=[],e=[],s=this.el.children;for(const n of s)if(!n.hasAttribute("data-vds")){if(n instanceof HTMLSourceElement){const a={id:n.id,src:n.src,type:n.type};for(const r of["id","src","width","height","bitrate","codec"]){const o=n.getAttribute(`data-${r}`);k(o)&&(a[r]=/id|src|codec/.test(r)?o:Number(o))}t.push(a)}else if(n instanceof HTMLTrackElement){const a={src:n.src,kind:n.track.kind,language:n.srclang,label:n.label,default:n.default,type:n.getAttribute("data-type")};e.push({id:n.id||ls.createId(a),...a})}}this.xc.set(t),this.yc.set(e),Ct()}};ys.props={loaders:[]},ys.state=new Kt({loader:null});let ci=ys;Mc([N],ci.prototype,"load",1);function Xs(i,t){const e=String(i),s=e.length;if(s<t){const a=t-s;return`${"0".repeat(a)}${i}`}return e}function Pr(i){const t=Math.trunc(i/3600),e=Math.trunc(i%3600/60),s=Math.trunc(i%60),n=Number((i-Math.trunc(i)).toPrecision(3));return{hours:t,minutes:e,seconds:s,fraction:n}}function _s(i,{padHrs:t=null,padMins:e=null,showHrs:s=!1,showMs:n=!1}={}){const{hours:a,minutes:r,seconds:o,fraction:h}=Pr(i),c=t?Xs(a,2):a,l=e||Ht(e)&&i>=3600?Xs(r,2):r,d=Xs(o,2),p=n&&h>0?`.${String(h).replace(/^0?\./,"")}`:"",f=`${l}:${d}${p}`;return a>0||s?`${c}:${f}`:f}function ps(i){const t=[],{hours:e,minutes:s,seconds:n}=Pr(i);return e>0&&t.push(`${e} hour`),s>0&&t.push(`${s} min`),(n>0||t.length===0)&&t.push(`${n} sec`),t.join(" ")}const $s=class $s extends w{constructor(){super(...arguments),this._n=!1,this.Zn=-1,this.ao=-1}onSetup(){this.a=P()}onAttach(t){t.style.display="contents"}onConnect(t){t.setAttribute("data-media-announcer",""),M(t,"role","status"),M(t,"aria-live","polite");const{busy:e}=this.$state;this.setAttributes({"aria-busy":()=>e()?"true":null}),this._n=!0,u(this.Tc.bind(this)),u(this.Fd.bind(this)),u(this.bo.bind(this)),u(this.co.bind(this)),u(this.eo.bind(this)),u(this.fo.bind(this)),u(this.go.bind(this)),Ct(),this._n=!1}Tc(){const{paused:t}=this.a.$state;this.Yn(t()?"Pause":"Play")}co(){const{fullscreen:t}=this.a.$state;this.Yn(t()?"Enter Fullscreen":"Exit Fullscreen")}eo(){const{pictureInPicture:t}=this.a.$state;this.Yn(t()?"Enter PiP":"Exit PiP")}bo(){const{textTrack:t}=this.a.$state;this.Yn(t()?"Closed-Captions On":"Closed-Captions Off")}Fd(){const{muted:t,volume:e,audioGain:s}=this.a.$state;this.Yn(t()||e()===0?"Mute":`${Math.round(e()*(s()??1)*100)}% ${this.$n("Volume")}`)}fo(){const{seeking:t,currentTime:e}=this.a.$state,s=t();this.Zn>0?(window.clearTimeout(this.ao),this.ao=window.setTimeout(()=>{const n=b(e),a=Math.abs(n-this.Zn);if(a>=1){const r=n>=this.Zn,o=ps(a);this.Yn(`${this.$n(r?"Seek Forward":"Seek Backward")} ${o}`)}this.Zn=-1,this.ao=-1},300)):s&&(this.Zn=b(e))}$n(t){var s;const{translations:e}=this.$props;return((s=e==null?void 0:e())==null?void 0:s[t||""])??t}go(){const{label:t,busy:e}=this.$state,s=this.$n(t());if(this._n)return;e.set(!0);const n=window.setTimeout(()=>void e.set(!1),150);return this.el&&x(this.el,"aria-label",s),k(s)&&this.dispatch("change",{detail:s}),()=>window.clearTimeout(n)}Yn(t){const{label:e}=this.$state;e.set(t)}};$s.props={translations:null},$s.state=new Kt({label:null,busy:!1});let la=$s;const Yi=class Yi extends w{onSetup(){this.a=P(),u(this.bi.bind(this))}onAttach(t){const{pictureInPicture:e,fullscreen:s}=this.a.$state;ct(t,"pointer-events","none"),M(t,"role","group"),this.setAttributes({"data-visible":this.xf.bind(this),"data-fullscreen":s,"data-pip":e}),u(()=>{this.dispatch("change",{detail:this.xf()})}),u(this.ci.bind(this)),u(()=>{const n=s();for(const a of["top","right","bottom","left"])ct(t,`padding-${a}`,n&&`env(safe-area-inset-${a})`)})}ci(){if(!this.el)return;const{nativeControls:t}=this.a.$state,e=t();x(this.el,"aria-hidden",e?"true":null),ct(this.el,"display",e?"none":null)}bi(){const{controls:t}=this.a.player,{hideDelay:e,hideOnMouseLeave:s}=this.$props;t.defaultDelay=e()===2e3?this.a.$props.controlsDelay():e(),t.hideOnMouseLeave=s()}xf(){const{controlsVisible:t}=this.a.$state;return t()}};Yi.props={hideDelay:2e3,hideOnMouseLeave:!1};let ua=Yi;class Er extends yt{constructor(t){super(),this.j=t,this.Ac=-1,this.Bc=-1,this.Ia=null,u(this.di.bind(this))}onDestroy(){var t;(t=this.Ia)==null||t.call(this),this.Ia=null}di(){const t=this.j.C();if(!t){this.hide();return}const e=this.show.bind(this),s=this.hide.bind(this);this.j.zc(t,e,s)}show(t){var e,s,n;this.nn(),window.cancelAnimationFrame(this.Bc),this.Bc=-1,(e=this.Ia)==null||e.call(this),this.Ia=null,this.Ac=window.setTimeout(()=>{this.Ac=-1;const a=this.j.u();a&&a.style.removeProperty("display"),b(()=>this.j.B(!0,t))},((n=(s=this.j).yf)==null?void 0:n.call(s))??0)}hide(t){this.nn(),b(()=>this.j.B(!1,t)),this.Bc=requestAnimationFrame(()=>{var s;this.nn(),this.Bc=-1;const e=this.j.u();if(e){const n=()=>{e.style.display="none",this.Ia=null};if(xh(e)){(s=this.Ia)==null||s.call(this);const r=y(e,"animationend",n,{once:!0});this.Ia=r}else n()}})}nn(){window.clearTimeout(this.Ac),this.Ac=-1}}const Ze=Dt();let Ic=0;const Xi=class Xi extends w{constructor(){super(),this.ca=`media-tooltip-${++Ic}`,this.C=$(null),this.u=$(null),new xt;const{showDelay:t}=this.$props;new Er({C:this.C,u:this.u,yf:t,zc(e,s,n){y(e,"touchstart",a=>a.preventDefault(),{passive:!1}),u(()=>{ds()&&y(e,"focus",s),y(e,"blur",n)}),y(e,"mouseenter",s),y(e,"mouseleave",n)},B:this.ei.bind(this)})}onAttach(t){t.style.setProperty("display","contents")}onSetup(){tt(Ze,{C:this.C,u:this.u,Jd:this.Jd.bind(this),Kd:this.Kd.bind(this),Ld:this.Ld.bind(this),Md:this.Md.bind(this)})}Jd(t){var s;this.C.set(t);let e=t.getAttribute("data-media-tooltip");e&&((s=this.el)==null||s.setAttribute(`data-media-${e}-tooltip`,"")),x(t,"data-describedby",this.ca)}Kd(t){t.removeAttribute("data-describedby"),t.removeAttribute("aria-describedby"),this.C.set(null)}Ld(t){t.setAttribute("id",this.ca),t.style.display="none",M(t,"role","tooltip"),this.u.set(t)}Md(t){t.removeAttribute("id"),t.removeAttribute("role"),this.u.set(null)}ei(t){const e=this.C(),s=this.u();e&&x(e,"aria-describedby",t?this.ca:null);for(const n of[this.el,e,s])n&&x(n,"data-visible",t)}};Xi.props={showDelay:700};let da=Xi;const Gi=class Gi extends w{constructor(){super(),new xt;const{placement:t}=this.$props;this.setAttributes({"data-placement":t})}onAttach(t){this.Ja(t),Object.assign(t.style,{position:"absolute",top:0,left:0,width:"max-content"})}onConnect(t){this.Ja(t);const e=F(Ze);A(()=>e.Md(t)),A(cs(()=>{this.connectScope&&u(this.Nd.bind(this))}))}Ja(t){F(Ze).Ld(t)}Nd(){const{placement:t,offset:e,alignOffset:s}=this.$props;return br(this.el,this.fi(),t(),{offsetVarName:"media-tooltip",xOffset:s(),yOffset:e()})}fi(){return F(Ze).C()}};Gi.props={placement:"top center",offset:0,alignOffset:0};let pa=Gi;const Ji=class Ji extends yt{constructor(t){super(),this.j=t,new xt,t.kb&&new uc(t.kb)}onSetup(){const{disabled:t}=this.$props;this.setAttributes({"data-pressed":this.j.n,"aria-pressed":this.gi.bind(this),"aria-disabled":()=>t()?"true":null})}onAttach(t){M(t,"tabindex","0"),M(t,"role","button"),M(t,"type","button")}onConnect(t){Vt(t,this.hi.bind(this));for(const e of["click","touchstart"])this.listen(e,this.ii.bind(this))}gi(){return ns(this.j.n())}ji(t){Ur(this.j.n)&&this.j.n.set(e=>!e)}hi(t){if(this.$props.disabled()||this.el.hasAttribute("data-disabled")){t.preventDefault(),t.stopImmediatePropagation();return}t.preventDefault(),(this.j.v??this.ji).call(this,t)}ii(t){this.$props.disabled()&&(t.preventDefault(),t.stopImmediatePropagation())}};Ji.props={disabled:!1};let Q=Ji;var jc=Object.defineProperty,Rc=Object.getOwnPropertyDescriptor,qc=(i,t,e,s)=>{for(var n=s>1?void 0:s?Rc(t,e):t,a=i.length-1,r;a>=0;a--)(r=i[a])&&(n=(s?r(t,e,n):r(n))||n);return s&&n&&jc(t,e,n),n};const Zi=class Zi extends w{constructor(){super(),this.zf=$(!1),new Q({n:this.zf})}get pressed(){return this.zf()}};Zi.props={disabled:!1,defaultPressed:!1};let li=Zi;qc([S],li.prototype,"pressed",1);function _c(i){return i?"true":"false"}function z(i){return()=>_c(i())}const tn=class tn extends w{constructor(){super(),new Q({n:this.n.bind(this),v:this.v.bind(this)})}onSetup(){this.a=P();const{canAirPlay:t,isAirPlayConnected:e}=this.a.$state;this.setAttributes({"data-active":e,"data-supported":t,"data-state":this.ki.bind(this),"aria-hidden":z(()=>!t())})}onAttach(t){t.setAttribute("data-media-tooltip","airplay"),Wt(t,this.zl.bind(this))}v(t){this.a.remote.requestAirPlay(t)}n(){const{remotePlaybackType:t,remotePlaybackState:e}=this.a.$state;return t()==="airplay"&&e()!=="disconnected"}ki(){const{remotePlaybackType:t,remotePlaybackState:e}=this.a.$state;return t()==="airplay"&&e()}zl(){const{remotePlaybackState:t}=this.a.$state;return`AirPlay ${t()}`}};tn.props=Q.props;let fa=tn;const en=class en extends w{constructor(){super(),new Q({n:this.n.bind(this),v:this.v.bind(this)})}onSetup(){this.a=P();const{canGoogleCast:t,isGoogleCastConnected:e}=this.a.$state;this.setAttributes({"data-active":e,"data-supported":t,"data-state":this.ki.bind(this),"aria-hidden":z(()=>!t())})}onAttach(t){t.setAttribute("data-media-tooltip","google-cast"),Wt(t,this.zl.bind(this))}v(t){this.a.remote.requestGoogleCast(t)}n(){const{remotePlaybackType:t,remotePlaybackState:e}=this.a.$state;return t()==="google-cast"&&e()!=="disconnected"}ki(){const{remotePlaybackType:t,remotePlaybackState:e}=this.a.$state;return t()==="google-cast"&&e()}zl(){const{remotePlaybackState:t}=this.a.$state;return`Google Cast ${t()}`}};en.props=Q.props;let ma=en;const sn=class sn extends w{constructor(){super(),new Q({n:this.n.bind(this),kb:"togglePaused",v:this.v.bind(this)})}onSetup(){this.a=P();const{paused:t,ended:e}=this.a.$state;this.setAttributes({"data-paused":t,"data-ended":e})}onAttach(t){t.setAttribute("data-media-tooltip","play"),Wt(t,"Play")}v(t){const e=this.a.remote;this.n()?e.pause(t):e.play(t)}n(){const{paused:t}=this.a.$state;return!t()}};sn.props=Q.props;let ba=sn;const nn=class nn extends w{constructor(){super(),new Q({n:this.n.bind(this),kb:"toggleCaptions",v:this.v.bind(this)})}onSetup(){this.a=P(),this.setAttributes({"data-active":this.n.bind(this),"data-supported":()=>!this.lb(),"aria-hidden":z(this.lb.bind(this))})}onAttach(t){t.setAttribute("data-media-tooltip","caption"),Wt(t,"Captions")}v(t){this.a.remote.toggleCaptions(t)}n(){const{textTrack:t}=this.a.$state,e=t();return!!e&&X(e)}lb(){const{hasCaptions:t}=this.a.$state;return!t()}};nn.props=Q.props;let ga=nn;const an=class an extends w{constructor(){super(),new Q({n:this.n.bind(this),kb:"toggleFullscreen",v:this.v.bind(this)})}onSetup(){this.a=P();const{fullscreen:t}=this.a.$state,e=this.Nb.bind(this);this.setAttributes({"data-active":t,"data-supported":e,"aria-hidden":z(()=>!e())})}onAttach(t){t.setAttribute("data-media-tooltip","fullscreen"),Wt(t,"Fullscreen")}v(t){const e=this.a.remote,s=this.$props.target();this.n()?e.exitFullscreen(s,t):e.enterFullscreen(s,t)}n(){const{fullscreen:t}=this.a.$state;return t()}Nb(){const{canFullscreen:t}=this.a.$state;return t()}};an.props={...Q.props,target:"prefer-media"};let ya=an;const rn=class rn extends w{constructor(){super(),new Q({n:this.n.bind(this),kb:"toggleMuted",v:this.v.bind(this)})}onSetup(){this.a=P(),this.setAttributes({"data-muted":this.n.bind(this),"data-state":this.ki.bind(this)})}onAttach(t){t.setAttribute("data-media-mute-button",""),t.setAttribute("data-media-tooltip","mute"),Wt(t,"Mute")}v(t){const e=this.a.remote;this.n()?e.unmute(t):e.mute(t)}n(){const{muted:t,volume:e}=this.a.$state;return t()||e()===0}ki(){const{muted:t,volume:e}=this.a.$state,s=e();if(t()||s===0)return"muted";if(s>=.5)return"high";if(s<.5)return"low"}};rn.props=Q.props;let $a=rn;const on=class on extends w{constructor(){super(),new Q({n:this.n.bind(this),kb:"togglePictureInPicture",v:this.v.bind(this)})}onSetup(){this.a=P();const{pictureInPicture:t}=this.a.$state,e=this.Nb.bind(this);this.setAttributes({"data-active":t,"data-supported":e,"aria-hidden":z(()=>!e())})}onAttach(t){t.setAttribute("data-media-tooltip","pip"),Wt(t,"PiP")}v(t){const e=this.a.remote;this.n()?e.exitPictureInPicture(t):e.enterPictureInPicture(t)}n(){const{pictureInPicture:t}=this.a.$state;return t()}Nb(){const{canPictureInPicture:t}=this.a.$state;return t()}};on.props=Q.props;let wa=on;const hn=class hn extends w{constructor(){super(),new xt}onSetup(){this.a=P();const{seeking:t}=this.a.$state,{seconds:e}=this.$props,s=this.Nb.bind(this);this.setAttributes({seconds:e,"data-seeking":t,"data-supported":s,"aria-hidden":z(()=>!s())})}onAttach(t){M(t,"tabindex","0"),M(t,"role","button"),M(t,"type","button"),t.setAttribute("data-media-tooltip","seek"),Wt(t,this.zl.bind(this))}onConnect(t){Vt(t,this.v.bind(this))}Nb(){const{canSeek:t}=this.a.$state;return t()}zl(){const{seconds:t}=this.$props;return`Seek ${t()>0?"forward":"backward"} ${t()} seconds`}v(t){const{seconds:e,disabled:s}=this.$props;if(s())return;const{currentTime:n}=this.a.$state,a=n()+e();this.a.remote.seek(a,t)}};hn.props={disabled:!1,seconds:30};let va=hn;const cn=class cn extends w{constructor(){super(),new xt}onSetup(){this.a=P();const{disabled:t}=this.$props,{live:e,liveEdge:s}=this.a.$state,n=()=>!e();this.setAttributes({"data-edge":s,"data-hidden":n,"aria-disabled":z(()=>t()||s()),"aria-hidden":z(n)})}onAttach(t){M(t,"tabindex","0"),M(t,"role","button"),M(t,"type","button"),t.setAttribute("data-media-tooltip","live")}onConnect(t){Vt(t,this.v.bind(this))}v(t){const{disabled:e}=this.$props,{liveEdge:s}=this.a.$state;e()||s()||this.a.remote.seekToLiveEdge(t)}};cn.props={disabled:!1};let Ta=cn;const de=new Kt({min:0,max:100,value:0,step:1,pointerValue:0,focused:!1,dragging:!1,pointing:!1,hidden:!1,get active(){return this.dragging||this.focused||this.pointing},get fillRate(){return ka(this.min,this.max,this.value)},get fillPercent(){return this.fillRate*100},get pointerRate(){return ka(this.min,this.max,this.pointerValue)},get pointerPercent(){return this.pointerRate*100}});function ka(i,t,e){const s=t-i,n=e-i;return s>0?n/s:0}class Ar extends yt{constructor(t){super(),this.Ch=t}onConnect(t){this.x=new IntersectionObserver(e=>{var s,n;(n=(s=this.Ch).callback)==null||n.call(s,e,this.x)},this.Ch),this.x.observe(t),A(this.y.bind(this))}y(){var t;(t=this.x)==null||t.disconnect(),this.x=void 0}}const Ni=Dt(),$e=Dt();function Fc(i,t,e,s){return qi(i,K(e,Kh(s)),t)}function Nc(i,t,e,s){const n=qi(0,e,1),a=t-i,r=a*n,o=r/s,h=s*Math.round(o);return i+h}const xa={Left:-1,ArrowLeft:-1,Up:1,ArrowUp:1,Right:1,ArrowRight:1,Down:-1,ArrowDown:-1};class Vc extends yt{constructor(t,e){super(),this.j=t,this.a=e,this.i=null,this.ua=null,this.mb=null,this.ti=ee(s=>{this.va(this.Dc(s),s)},20,{leading:!0})}onSetup(){dt($e)&&(this.x=F($e))}onConnect(){u(this.li.bind(this)),u(this.mi.bind(this)),this.j.ni&&u(this.xn.bind(this))}xn(){var e;const{pointer:t}=this.a.$state;if(t()!=="coarse"||!this.j.ni()){this.i=null;return}this.i=(e=this.a.player.el)==null?void 0:e.querySelector("media-provider,[data-media-provider]"),this.i&&(y(this.i,"touchstart",this.oi.bind(this),{passive:!0}),y(this.i,"touchmove",this.pi.bind(this),{passive:!1}))}oi(t){this.ua=t.touches[0]}pi(t){if(Ht(this.ua)||Ri(t))return;const e=t.touches[0],s=e.clientX-this.ua.clientX,n=e.clientY-this.ua.clientY,a=this.$state.dragging();!a&&Math.abs(n)>5||a||(t.preventDefault(),Math.abs(s)>20&&(this.ua=e,this.mb=this.$state.value(),this.Od(this.mb,t)))}li(){const{hidden:t}=this.$props;this.listen("focus",this.Lb.bind(this)),this.listen("keydown",this.Ab.bind(this)),this.listen("keyup",this.zb.bind(this)),!(t()||this.j.K())&&(this.listen("pointerenter",this.Cd.bind(this)),this.listen("pointermove",this.qi.bind(this)),this.listen("pointerleave",this.Dd.bind(this)),this.listen("pointerdown",this.ri.bind(this)))}mi(){this.j.K()||!this.$state.dragging()||(y(document,"pointerup",this.si.bind(this)),y(document,"pointermove",this.ti.bind(this)),y(document,"touchmove",this.ui.bind(this),{passive:!1}))}Lb(){this.va(this.$state.value())}Pd(t,e){var c,l,d,p;const{value:s,min:n,max:a,dragging:r}=this.$state,o=Math.max(n(),Math.min(t,a()));s.set(o);const h=this.createEvent("value-change",{detail:o,trigger:e});if(this.dispatch(h),(l=(c=this.j).o)==null||l.call(c,h),r()){const f=this.createEvent("drag-value-change",{detail:o,trigger:e});this.dispatch(f),(p=(d=this.j).nb)==null||p.call(d,f)}}va(t,e){const{pointerValue:s,dragging:n}=this.$state;s.set(t),this.dispatch("pointer-value-change",{detail:t,trigger:e}),n()&&this.Pd(t,e)}Dc(t){let e,s=this.el.getBoundingClientRect(),{min:n,max:a}=this.$state;if(this.$props.orientation()==="vertical"){const{bottom:r,height:o}=s;e=(r-t.clientY)/o}else if(this.ua&&mt(this.mb)){const{width:r}=this.i.getBoundingClientRect(),o=(t.clientX-this.ua.clientX)/r,h=a()-n(),c=h*Math.abs(o);e=(o<0?this.mb-c:this.mb+c)/h}else{const{left:r,width:o}=s;e=(t.clientX-r)/o}return Math.max(n(),Math.min(a(),this.j.Ob(Nc(n(),a(),e,this.j.Ka()))))}Cd(t){this.$state.pointing.set(!0)}qi(t){const{dragging:e}=this.$state;e()||this.va(this.Dc(t),t)}Dd(t){this.$state.pointing.set(!1)}ri(t){if(t.button!==0)return;const e=this.Dc(t);this.Od(e,t),this.va(e,t)}Od(t,e){var a,r,o,h;const{dragging:s}=this.$state;if(s())return;s.set(!0),this.a.remote.pauseControls(e);const n=this.createEvent("drag-start",{detail:t,trigger:e});this.dispatch(n),(r=(a=this.j).Qd)==null||r.call(a,n),(h=(o=this.x)==null?void 0:o.onDragStart)==null||h.call(o)}Af(t,e){var a,r,o,h;const{dragging:s}=this.$state;if(!s())return;s.set(!1),this.a.remote.resumeControls(e);const n=this.createEvent("drag-end",{detail:t,trigger:e});this.dispatch(n),(r=(a=this.j).Ec)==null||r.call(a,n),this.ua=null,this.mb=null,(h=(o=this.x)==null?void 0:o.onDragEnd)==null||h.call(o)}Ab(t){const{key:e}=t,{min:s,max:n}=this.$state;let a;if(e==="Home"||e==="PageUp"?a=s():e==="End"||e==="PageDown"?a=n():!t.metaKey&&/^[0-9]$/.test(e)&&(a=(n()-s())/10*Number(e)),!ht(a)){this.va(a,t),this.Pd(a,t);return}const r=this.Bf(t);if(ht(r))return;const o=e===this.Rd;!this.$state.dragging()&&o&&this.Od(r,t),this.va(r,t),o||this.Pd(r,t),this.Rd=e}zb(t){this.Rd="";const{dragging:e,value:s}=this.$state;if(!e())return;const n=this.Bf(t)??s();this.va(n),this.Af(n,t)}Bf(t){var g,v;const{key:e,shiftKey:s}=t;if(!Object.keys(xa).includes(e))return;t.preventDefault(),t.stopPropagation();const{shiftKeyMultiplier:a}=this.$props,{value:r,min:o,max:h}=this.$state,c=this.j.Ka(),l=this.j.Pb(),d=s?l*a():l,p=Number(xa[e]),f=d*p,m=((((v=(g=this.j).na)==null?void 0:v.call(g))??r())+f)/c;return Math.max(o(),Math.min(h(),Number((c*m).toFixed(3))))}si(t){if(t.button!==0)return;const e=this.Dc(t);this.va(e,t),this.Af(e,t)}ui(t){t.preventDefault()}}const ce=Dt(()=>({})),ln=class ln extends yt{constructor(t){super(),this.j=t,this.Co=$(!0),this.Do=$(!0),this.xi=Zt((e,s)=>{var n,a;(n=this.el)==null||n.style.setProperty("--slider-fill",e+"%"),(a=this.el)==null||a.style.setProperty("--slider-pointer",s+"%")})}onSetup(){this.a=P();const t=new xt;t.attach(this),this.$state.focused=t.focused.bind(t),dt(ce)||tt(ce,{default:"value"}),tt(Ni,{ta:this.$props.orientation,Fc:this.j.K,Cf:$(null)}),u(this.D.bind(this)),u(this.ro.bind(this)),u(this.Qb.bind(this)),this.vi(),new Vc(this.j,this.a).attach(this),new Ar({callback:this.Eo.bind(this)}).attach(this)}onAttach(t){M(t,"role","slider"),M(t,"tabindex","0"),M(t,"autocomplete","off"),u(this.Df.bind(this))}onConnect(t){A(fr(t,this.Co.set)),u(this.ob.bind(this))}Eo(t){this.Do.set(t[0].isIntersecting)}ob(){const{hidden:t}=this.$props;this.$state.hidden.set(t()||!this.Co()||!this.Do.bind(this))}D(){const{dragging:t,value:e,min:s,max:n}=this.$state;b(t)||e.set(Fc(s(),n(),e(),this.j.Ka()))}ro(){this.$state.step.set(this.j.Ka())}Qb(){if(!this.j.K())return;const{dragging:t,pointing:e}=this.$state;t.set(!1),e.set(!1)}wi(){return ns(this.j.K())}vi(){const{orientation:t}=this.$props,{dragging:e,active:s,pointing:n}=this.$state;this.setAttributes({"data-dragging":e,"data-pointing":n,"data-active":s,"aria-disabled":this.wi.bind(this),"aria-valuemin":this.j.Pn??this.$state.min,"aria-valuemax":this.j.Mn??this.$state.max,"aria-valuenow":this.j.ia,"aria-valuetext":this.j.ja,"aria-orientation":t})}Df(){const{fillPercent:t,pointerPercent:e}=this.$state;this.xi(K(t(),3),K(e(),3))}};ln.props={hidden:!1,disabled:!1,step:1,keyStep:1,orientation:"horizontal",shiftKeyMultiplier:5};let et=ln;const ws=class ws extends w{constructor(){super(),new et({Ka:this.$props.step,Pb:this.$props.keyStep,Ob:Math.round,K:this.$props.disabled,ia:this.ia.bind(this),ja:this.ja.bind(this)})}onSetup(){u(this.D.bind(this)),u(this.yi.bind(this))}ia(){const{value:t}=this.$state;return Math.round(t())}ja(){const{value:t,max:e}=this.$state;return K(t()/e()*100,2)+"%"}D(){const{value:t}=this.$props;this.$state.value.set(t())}yi(){const{min:t,max:e}=this.$props;this.$state.min.set(t()),this.$state.max.set(e())}};ws.props={...et.props,min:0,max:100,value:0},ws.state=de;let xe=ws;const Et=new Map,Ye=new Map;class Vi{constructor(t,e,s){this.$src=t,this.$crossOrigin=e,this.a=s,this.$images=$([]),u(this.zi.bind(this))}static create(t,e){const s=P();return new Vi(t,e,s)}zi(){var n;const{canLoad:t}=this.a.$state;if(!t())return;const e=this.$src(),s=new AbortController;if(e){if(k(e)&&Et.has(e)){const a=Et.get(e);if(Et.delete(e),Et.set(e,a),Et.size>30){const r=Et.keys().next().value;Et.delete(r)}this.$images.set(Et.get(e))}else if(k(e)){const a=this.$crossOrigin(),r=e+"::"+a;if(!Ye.has(r)){const o=new Promise(async(h,c)=>{try{const l=await fetch(e,{signal:s.signal,credentials:ye(a)});if(l.headers.get("content-type")==="application/json"){const p=await l.json();if(Y(p))if(p[0]&&"text"in p[0])h(this.bl(p));else{for(let f=0;f<p.length;f++){const m=p[f];Pt(Rr(m),!1),Pt("url"in m&&k(m.url),!1),Pt("startTime"in m&&mt(m.startTime),!1)}h(p)}else h(this.cl(p));return}ut(()=>import("./prod-B0mcJX03.js").then(p=>p.d),__vite__mapDeps([0,1])).then(async({parseResponse:p})=>{try{const{cues:f}=await p(l);h(this.bl(f))}catch(f){c(f)}})}catch(l){c(l)}}).then(h=>(s.signal.aborted||Et.set(r,h),h)).catch(h=>{s.signal.aborted||this.U(e,h)}).finally(()=>{k(r)&&Ye.delete(r)});Ye.set(r,o)}(n=Ye.get(r))==null||n.then(o=>{s.signal.aborted||this.$images.set(o||[])})}else if(Y(e))try{this.$images.set(this.jl(e))}catch(a){this.U(e,a)}else try{this.$images.set(this.cl(e))}catch(a){this.U(e,a)}return()=>{s.abort(),this.$images.set([])}}}jl(t){const e=this.dl();return t.map((s,n)=>(Pt(s.url&&k(s.url),!1),Pt("startTime"in s&&mt(s.startTime),!1),{...s,url:k(s.url)?this.gl(s.url,e):s.url}))}cl(t){var r;Pt(k(t.url),!1),Pt(Y(t.tiles)&&((r=t.tiles)==null?void 0:r.length),!1);const e=new URL(t.url),s=[],n="tile_width"in t?t.tile_width:t.tileWidth,a="tile_height"in t?t.tile_height:t.tileHeight;for(const o of t.tiles)s.push({url:e,startTime:"start"in o?o.start:o.startTime,width:n,height:a,coords:{x:o.x,y:o.y}});return s}bl(t){for(let n=0;n<t.length;n++){const a=t[n];Pt("startTime"in a&&mt(a.startTime),!1),Pt("text"in a&&k(a.text),!1)}const e=[],s=this.dl();for(const n of t){const[a,r]=n.text.split("#"),o=this.fl(r);e.push({url:this.gl(a,s),startTime:n.startTime,endTime:n.endTime,width:o==null?void 0:o.w,height:o==null?void 0:o.h,coords:o&&mt(o.x)&&mt(o.y)?{x:o.x,y:o.y}:void 0})}return e}dl(){let t=b(this.$src);return!k(t)||!/^https?:/.test(t)?location.href:t}gl(t,e){return/^https?:/.test(t)?new URL(t):new URL(t,e)}fl(t){if(!t)return{};const[e,s]=t.split("="),n=s==null?void 0:s.split(","),a={};if(!e||!n)return null;for(let r=0;r<e.length;r++){const o=+n[r];isNaN(o)||(a[e[r]]=o)}return a}U(t,e){}}const vs=class vs extends w{constructor(){super(...arguments),this.Td=[]}onSetup(){this.a=P(),this.ha=Vi.create(this.$props.src,this.$state.crossOrigin),this.Hh(),this.setAttributes({"data-loading":this.Rb.bind(this),"data-error":this.wa.bind(this),"data-hidden":this.$state.hidden,"aria-hidden":z(this.$state.hidden)})}onConnect(t){u(this.Ud.bind(this)),u(this.ob.bind(this)),u(this.Hh.bind(this)),u(this.Ea.bind(this)),u(this.il.bind(this)),u(this.Fi.bind(this))}Ud(){const t=this.$state.img();t&&(y(t,"load",this.qd.bind(this)),y(t,"error",this.U.bind(this)))}Hh(){const{crossOrigin:t}=this.$props,{crossOrigin:e}=this.$state,{crossOrigin:s}=this.a.$state,n=t()!==null?t():s();e.set(n===!0?"anonymous":n)}Ea(){const{src:t,loading:e,error:s}=this.$state;return t()&&(e.set(!0),s.set(null)),()=>{this.Ci(),e.set(!1),s.set(null)}}qd(){const{loading:t,error:e}=this.$state;this.Fi(),t.set(!1),e.set(null)}U(t){const{loading:e,error:s}=this.$state;e.set(!1),s.set(t)}Rb(){const{loading:t,hidden:e}=this.$state;return!e()&&t()}wa(){const{error:t}=this.$state;return!Ht(t())}ob(){const{hidden:t}=this.$state,{duration:e}=this.a.$state,s=this.ha.$images();t.set(this.wa()||!Number.isFinite(e())||s.length===0)}Gf(){return this.$props.time()}il(){let t=this.ha.$images();if(!t.length)return;let e=this.Gf(),{src:s,activeThumbnail:n}=this.$state,a=-1,r=null;for(let o=t.length-1;o>=0;o--){const h=t[o];if(e>=h.startTime&&(!h.endTime||e<h.endTime)){a=o;break}}t[a]&&(r=t[a]),n.set(r),s.set((r==null?void 0:r.url.href)||"")}Fi(){if(!this.scope||this.$state.hidden())return;const t=this.el,e=this.$state.img(),s=this.$state.activeThumbnail();if(!e||!s||!t)return;let n=s.width??e.naturalWidth,a=(s==null?void 0:s.height)??e.naturalHeight,{maxWidth:r,maxHeight:o,minWidth:h,minHeight:c,width:l,height:d}=getComputedStyle(this.el);h==="100%"&&(h=parseFloat(l)+""),c==="100%"&&(c=parseFloat(d)+"");let p=Math.max(parseInt(h)/n,parseInt(c)/a),f=Math.min(Math.max(parseInt(h),parseInt(r))/n,Math.max(parseInt(c),parseInt(o))/a),m=!isNaN(f)&&f<1?f:p>1?p:1;this.pb(t,"--thumbnail-width",`${n*m}px`),this.pb(t,"--thumbnail-height",`${a*m}px`),this.pb(e,"width",`${e.naturalWidth*m}px`),this.pb(e,"height",`${e.naturalHeight*m}px`),this.pb(e,"transform",s.coords?`translate(-${s.coords.x*m}px, -${s.coords.y*m}px)`:""),this.pb(e,"max-width","none")}pb(t,e,s){t.style.setProperty(e,s),this.Td.push(()=>t.style.removeProperty(e))}Ci(){for(const t of this.Td)t();this.Td=[]}};vs.props={src:null,time:0,crossOrigin:null},vs.state=new Kt({src:"",img:null,thumbnails:[],activeThumbnail:null,crossOrigin:null,loading:!1,error:null,hidden:!1});let Sa=vs;var Hc=Object.defineProperty,Kc=Object.getOwnPropertyDescriptor,Wc=(i,t,e,s)=>{for(var n=s>1?void 0:s?Kc(t,e):t,a=i.length-1,r;a>=0;a--)(r=i[a])&&(n=(s?r(t,e,n):r(n))||n);return s&&n&&Hc(t,e,n),n};const Ts=class Ts extends w{get video(){return this.$state.video()}onSetup(){this.a=P(),this.Q=Is(xe.state),this.Hh(),this.setAttributes({"data-loading":this.Rb.bind(this),"data-hidden":this.$state.hidden,"data-error":this.wa.bind(this),"aria-hidden":z(this.$state.hidden)})}onAttach(t){u(this.Gi.bind(this)),u(this.fd.bind(this)),u(this.Hh.bind(this)),u(this.ob.bind(this)),u(this.Hi.bind(this)),u(this.Ii.bind(this))}Gi(){const t=this.$state.video();t&&(t.readyState>=2&&this.hc(),y(t,"canplay",this.hc.bind(this)),y(t,"error",this.U.bind(this)))}fd(){const{src:t}=this.$state,{canLoad:e}=this.a.$state;t.set(e()?this.$props.src():null)}Hh(){const{crossOrigin:t}=this.$props,{crossOrigin:e}=this.$state,{crossOrigin:s}=this.a.$state,n=t()!==null?t():s();e.set(n===!0?"anonymous":n)}Rb(){const{canPlay:t,hidden:e}=this.$state;return!t()&&!e()}wa(){const{error:t}=this.$state;return!Ht(t)}ob(){const{src:t,hidden:e}=this.$state,{canLoad:s,duration:n}=this.a.$state;e.set(s()&&(!t()||this.wa()||!Number.isFinite(n())))}Hi(){const{src:t,canPlay:e,error:s}=this.$state;t(),e.set(!1),s.set(null)}hc(t){const{canPlay:e,error:s}=this.$state;e.set(!0),s.set(null),this.dispatch("can-play",{trigger:t})}U(t){const{canPlay:e,error:s}=this.$state;e.set(!1),s.set(t),this.dispatch("error",{trigger:t})}Ii(){const{video:t,canPlay:e}=this.$state,{duration:s}=this.a.$state,{pointerRate:n}=this.Q,a=t();e()&&a&&Number.isFinite(s())&&Number.isFinite(n())&&(a.currentTime=n()*s())}};Ts.props={src:null,crossOrigin:null},Ts.state=new Kt({video:null,src:null,crossOrigin:null,canPlay:!1,error:null,hidden:!1});let ui=Ts;Wc([S],ui.prototype,"video",1);var Uc=Object.defineProperty,Bc=Object.getOwnPropertyDescriptor,Qc=(i,t,e,s)=>{for(var n=s>1?void 0:s?Bc(t,e):t,a=i.length-1,r;a>=0;a--)(r=i[a])&&(n=(s?r(t,e,n):r(n))||n);return s&&n&&Uc(t,e,n),n};const un=class un extends w{onSetup(){this.Q=Is(xe.state),this.Sb=F(ce),this.Ji=Ot(this.getValueText.bind(this))}getValueText(){var m,g;const{type:t,format:e,decimalPlaces:s,padHours:n,padMinutes:a,showHours:r,showMs:o}=this.$props,{value:h,pointerValue:c,min:l,max:d}=this.Q,p=e()??this.Sb.default,f=t()==="current"?h():c();if(p==="percent"){const v=d()-l(),T=f/v*100;return(this.Sb.percent??K)(T,s())+"%"}else return p==="time"?(this.Sb.time??_s)(f,{padHrs:n(),padMins:a(),showHrs:r(),showMs:o()}):(((g=(m=this.Sb).value)==null?void 0:g.call(m,f))??f.toFixed(2))+""}};un.props={type:"pointer",format:null,showHours:!1,showMs:!1,padHours:null,padMinutes:null,decimalPlaces:2};let di=un;Qc([N],di.prototype,"getValueText",1);const dn=class dn extends w{constructor(){super(...arguments),this.Hf=Zt(()=>{const{Fc:t,ta:e}=this.Q;if(t())return;const s=this.el,{offset:n,noClamp:a}=this.$props;s&&zc(s,{clamp:!a(),offset:n(),orientation:e()})})}onSetup(){this.Q=F(Ni);const{active:t}=Is(xe.state);this.setAttributes({"data-visible":t})}onAttach(t){Object.assign(t.style,{position:"absolute",top:0,left:0,width:"max-content"})}onConnect(t){const{Cf:e}=this.Q;e.set(t),A(()=>e.set(null)),u(this.Hf.bind(this));const s=new ResizeObserver(this.Hf.bind(this));s.observe(t),A(()=>s.disconnect())}};dn.props={offset:0,noClamp:!1};let Pa=dn;function zc(i,{clamp:t,offset:e,orientation:s}){const n=getComputedStyle(i),a=parseFloat(n.width),r=parseFloat(n.height),o={top:null,right:null,bottom:null,left:null};if(o[s==="horizontal"?"bottom":"left"]=`calc(100% + var(--media-slider-preview-offset, ${e}px))`,s==="horizontal"){const h=a/2;if(!t)o.left=`calc(var(--slider-pointer) - ${h}px)`;else{const c=`max(0px, calc(var(--slider-pointer) - ${h}px))`,l=`calc(100% - ${a}px)`;o.left=`min(${c}, ${l})`}}else{const h=r/2;if(!t)o.bottom=`calc(var(--slider-pointer) - ${h}px)`;else{const c=`max(${h}px, calc(var(--slider-pointer) - ${h}px))`,l=`calc(100% - ${r}px)`;o.bottom=`min(${c}, ${l})`}}Object.assign(i.style,o)}const ks=class ks extends w{constructor(){super(...arguments),this.If=ee(this.ab.bind(this),25)}onSetup(){this.a=P();const{audioGain:t}=this.a.$state;tt(ce,{default:"percent",value(e){return(e*(t()??1)).toFixed(2)},percent(e){return Math.round(e*(t()??1))}}),new et({Ka:this.$props.step,Pb:this.$props.keyStep,Ob:Math.round,K:this.K.bind(this),Mn:this.Mn.bind(this),ia:this.ia.bind(this),ja:this.ja.bind(this),nb:this.nb.bind(this),o:this.o.bind(this)}).attach(this),u(this.Fd.bind(this))}onAttach(t){t.setAttribute("data-media-volume-slider",""),M(t,"aria-label","Volume");const{canSetVolume:e}=this.a.$state;this.setAttributes({"data-supported":e,"aria-hidden":z(()=>!e())})}ia(){const{value:t}=this.$state,{audioGain:e}=this.a.$state;return Math.round(t()*(e()??1))}ja(){const{value:t,max:e}=this.$state,{audioGain:s}=this.a.$state;return K(t()/e()*(s()??1)*100,2)+"%"}Mn(){const{audioGain:t}=this.a.$state;return this.$state.max()*(t()??1)}K(){const{disabled:t}=this.$props,{canSetVolume:e}=this.a.$state;return t()||!e()}Fd(){const{muted:t,volume:e}=this.a.$state,s=t()?0:e()*100;this.$state.value.set(s),this.dispatch("value-change",{detail:s})}ab(t){if(!t.trigger)return;const e=K(t.detail/100,3);this.a.remote.changeVolume(e,t)}o(t){this.If(t)}nb(t){this.If(t)}};ks.props={...et.props,keyStep:5,shiftKeyMultiplier:2},ks.state=de;let Ea=ks;const xs=class xs extends w{onSetup(){this.a=P(),tt(ce,{default:"percent",percent:(t,e)=>K(this.$state.value(),e)+"%"}),new et({Ka:this.$props.step,Pb:this.$props.keyStep,Ob:Math.round,K:this.K.bind(this),ia:this.ia.bind(this),ja:this.ja.bind(this),nb:this.nb.bind(this),o:this.o.bind(this)}).attach(this),u(this.yi.bind(this)),u(this.On.bind(this))}onAttach(t){t.setAttribute("data-media-audio-gain-slider",""),M(t,"aria-label","Audio Boost");const{canSetAudioGain:e}=this.a.$state;this.setAttributes({"data-supported":e,"aria-hidden":z(()=>!e())})}ia(){const{value:t}=this.$state;return Math.round(t())}ja(){const{value:t}=this.$state;return t()+"%"}yi(){const{min:t,max:e}=this.$props;this.$state.min.set(t()),this.$state.max.set(e())}On(){const{audioGain:t}=this.a.$state,e=((t()??1)-1)*100;this.$state.value.set(e),this.dispatch("value-change",{detail:e})}K(){const{disabled:t}=this.$props,{canSetAudioGain:e}=this.a.$state;return t()||!e()}Nn(t){if(!t.trigger)return;const e=K(1+t.detail/100,2);this.a.remote.changeAudioGain(e,t)}o(t){this.Nn(t)}nb(t){this.Nn(t)}};xs.props={...et.props,step:25,keyStep:25,shiftKeyMultiplier:2,min:0,max:300},xs.state=de;let Aa=xs;const Ss=class Ss extends w{constructor(){super(...arguments),this.ho=ee(this.io.bind(this),25)}onSetup(){this.a=P(),new et({Ka:this.$props.step,Pb:this.$props.keyStep,Ob:this.Ob,K:this.K.bind(this),ia:this.ia.bind(this),ja:this.ja.bind(this),nb:this.nb.bind(this),o:this.o.bind(this)}).attach(this),u(this.yi.bind(this)),u(this.Sh.bind(this))}onAttach(t){t.setAttribute("data-media-speed-slider",""),M(t,"aria-label","Speed");const{canSetPlaybackRate:e}=this.a.$state;this.setAttributes({"data-supported":e,"aria-hidden":z(()=>!e())})}ia(){const{value:t}=this.$state;return t()}ja(){const{value:t}=this.$state;return t()+"x"}yi(){const{min:t,max:e}=this.$props;this.$state.min.set(t()),this.$state.max.set(e())}Sh(){const{playbackRate:t}=this.a.$state,e=t();this.$state.value.set(e),this.dispatch("value-change",{detail:e})}Ob(t){return K(t,2)}K(){const{disabled:t}=this.$props,{canSetPlaybackRate:e}=this.a.$state;return t()||!e()}io(t){if(!t.trigger)return;const e=t.detail;this.a.remote.changePlaybackRate(e,t)}o(t){this.ho(t)}nb(t){this.ho(t)}};Ss.props={...et.props,step:.25,keyStep:.25,shiftKeyMultiplier:2,min:0,max:2},Ss.state=de;let Ca=Ss;const Ps=class Ps extends w{constructor(){super(...arguments),this.Dj=Ot(()=>{const{qualities:t}=this.a.$state;return kr(t())}),this.jo=ee(this.fb.bind(this),25)}onSetup(){this.a=P(),new et({Ka:this.$props.step,Pb:this.$props.keyStep,Ob:Math.round,K:this.K.bind(this),ia:this.ia.bind(this),ja:this.ja.bind(this),nb:this.nb.bind(this),o:this.o.bind(this)}).attach(this),u(this.ko.bind(this)),u(this.lo.bind(this))}onAttach(t){t.setAttribute("data-media-quality-slider",""),M(t,"aria-label","Video Quality");const{qualities:e,canSetQuality:s}=this.a.$state,n=Ot(()=>s()&&e().length>0);this.setAttributes({"data-supported":n,"aria-hidden":z(()=>!n())})}ia(){const{value:t}=this.$state;return t()}ja(){const{quality:t}=this.a.$state;if(!t())return"";const{height:e,bitrate:s}=t(),n=s&&s>0?`${(s/1e6).toFixed(2)} Mbps`:null;return e?`${e}p${n?` (${n})`:""}`:"Auto"}ko(){const t=this.Dj();this.$state.max.set(Math.max(0,t.length-1))}lo(){let{quality:t}=this.a.$state,e=this.Dj(),s=Math.max(0,e.indexOf(t()));this.$state.value.set(s),this.dispatch("value-change",{detail:s})}K(){const{disabled:t}=this.$props,{canSetQuality:e,qualities:s}=this.a.$state;return t()||s().length<=1||!e()}fb(t){if(!t.trigger)return;const{qualities:e}=this.a,s=b(this.Dj)[t.detail];this.a.remote.changeQuality(e.indexOf(s),t)}o(t){this.jo(t)}nb(t){this.jo(t)}};Ps.props={...et.props,step:1,keyStep:1,shiftKeyMultiplier:1},Ps.state=de;let Oa=Ps;const Es=class Es extends w{constructor(){super(),this.Jf=$(null),this.Wd=!1;const{noSwipeGesture:t}=this.$props;new et({ni:()=>!t(),na:this.na.bind(this),Ka:this.Ka.bind(this),Pb:this.Pb.bind(this),Ob:this.Ob,K:this.K.bind(this),ia:this.ia.bind(this),ja:this.ja.bind(this),Qd:this.Qd.bind(this),nb:this.nb.bind(this),Ec:this.Ec.bind(this),o:this.o.bind(this)})}onSetup(){this.a=P(),tt(ce,{default:"time",value:this.Ki.bind(this),time:this.Li.bind(this)}),this.setAttributes({"data-chapters":this.Mi.bind(this)}),this.setStyles({"--slider-progress":this.Ni.bind(this)}),u(this.jb.bind(this)),u(this.Oi.bind(this))}onAttach(t){t.setAttribute("data-media-time-slider",""),M(t,"aria-label","Seek")}onConnect(t){u(this.Pi.bind(this)),qs(this.a.textTracks,"chapters",this.Jf.set)}Ni(){const{bufferedEnd:t,duration:e}=this.a.$state;return K(Math.min(t()/Math.max(e(),1),1)*100,3)+"%"}Mi(){var e;const{duration:t}=this.a.$state;return((e=this.Jf())==null?void 0:e.cues.length)&&Number.isFinite(t())&&t()>0}Oi(){this.Vd=ee(this.qa.bind(this),this.$props.seekingRequestThrottle())}jb(){if(this.$state.hidden())return;const{value:t,dragging:e}=this.$state,s=this.na();b(e)||(t.set(s),this.dispatch("value-change",{detail:s}))}Pi(){const t=this.a.player.el,{Cf:e}=F(Ni);t&&e()&&x(t,"data-preview",this.$state.active())}qa(t,e){this.a.remote.seeking(t,e)}Ri(t,e,s){this.Vd.cancel();const{live:n}=this.a.$state;if(n()&&e>=99){this.a.remote.seekToLiveEdge(s);return}this.a.remote.seek(t,s)}Qd(t){const{pauseWhileDragging:e}=this.$props;if(e()){const{paused:s}=this.a.$state;this.Wd=!s(),this.a.remote.pause(t)}}nb(t){this.Vd(this.Tb(t.detail),t)}Ec(t){const{seeking:e}=this.a.$state;b(e)||this.qa(this.Tb(t.detail),t);const s=t.detail;this.Ri(this.Tb(s),s,t);const{pauseWhileDragging:n}=this.$props;n()&&this.Wd&&(this.a.remote.play(t),this.Wd=!1)}o(t){const{dragging:e}=this.$state;e()||!t.trigger||this.Ec(t)}na(){const{currentTime:t}=this.a.$state;return this.Qi(t())}Ka(){const t=this.$props.step()/this.a.$state.duration()*100;return Number.isFinite(t)?t:1}Pb(){const t=this.$props.keyStep()/this.a.$state.duration()*100;return Number.isFinite(t)?t:1}Ob(t){return K(t,3)}K(){const{disabled:t}=this.$props,{canSeek:e}=this.a.$state;return t()||!e()}ia(){const{value:t}=this.$state;return Math.round(t())}ja(){const t=this.Tb(this.$state.value()),{duration:e}=this.a.$state;return Number.isFinite(t)?`${ps(t)} out of ${ps(e())}`:"live"}Tb(t){const{duration:e}=this.a.$state;return K(t/100*e(),5)}Qi(t){const{liveEdge:e,duration:s}=this.a.$state,n=Math.max(0,Math.min(1,e()?1:Math.min(t,s())/s()));return Number.isNaN(n)?0:Number.isFinite(n)?n*100:100}Ki(t){const e=this.Tb(t),{live:s,duration:n}=this.a.$state;return Number.isFinite(e)?(s()?e-n():e).toFixed(0):"LIVE"}Li(t,e){const s=this.Tb(t),{live:n,duration:a}=this.a.$state,r=n()?s-a():s;return Number.isFinite(s)?`${r<0?"-":""}${_s(Math.abs(r),e)}`:"LIVE"}};Es.props={...et.props,step:.1,keyStep:5,shiftKeyMultiplier:2,pauseWhileDragging:!1,noSwipeGesture:!1,seekingRequestThrottle:100},Es.state=de;let pi=Es;var Yc=Object.defineProperty,Xc=Object.getOwnPropertyDescriptor,Fs=(i,t,e,s)=>{for(var n=s>1?void 0:s?Xc(t,e):t,a=i.length-1,r;a>=0;a--)(r=i[a])&&(n=(s?r(t,e,n):r(n))||n);return s&&n&&Yc(t,e,n),n};const pn=class pn extends w{constructor(){super(...arguments),this.La=null,this.R=[],this.Gc=$(null),this._=$([]),this.Ub=$(-1),this.Hc=$(-1),this.Zd=0,this.Xi=Zt(t=>{var o;let e,s=this._(),{clipStartTime:n}=this.a.$state,a=n(),r=this.Hk(s);for(let h=this.Zd;h<this.R.length;h++)if(e=this.ae(s[h],t,a,r),(o=this.R[h])==null||o.style.setProperty("--chapter-progress",e+"%"),e<100){this.Zd=h;break}}),this.Yi=Ot(this.Zi.bind(this)),this.$i=_i(()=>{const t=b(this.Gc);!this.scope||!t||!t.cues.length||(this._.set(this._i(t.cues)),this.Ub.set(0),this.Zd=0)},150,!0)}get cues(){return this._()}get activeCue(){return this._()[this.Ub()]||null}get activePointerCue(){return this._()[this.Hc()]||null}onSetup(){this.a=P(),this.Xd=Is(pi.state)}onAttach(t){qs(this.a.textTracks,"chapters",this.Kf.bind(this)),u(this.wo.bind(this))}onConnect(){A(()=>this.H.bind(this))}onDestroy(){this.Kf(null)}setRefs(t){var e;if(this.R=t,(e=this.Yd)==null||e.dispose(),this.R.length===1){const s=this.R[0];s.style.width="100%",s.style.setProperty("--chapter-fill","var(--slider-fill)"),s.style.setProperty("--chapter-progress","var(--slider-progress)")}else this.R.length>0&&J(()=>this.Si(),this.Yd=ss())}Kf(t){b(this.Gc)!==t&&(this.H(),this.Gc.set(t))}H(){var t;this.R=[],this._.set([]),this.Ub.set(-1),this.Hc.set(-1),this.Zd=0,(t=this.Yd)==null||t.dispose()}Si(){this.R.length&&u(this.Fo.bind(this))}Fo(){const{hidden:t}=this.Xd;t()||(u(this.Ti.bind(this)),u(this.Ui.bind(this)),u(this.Vi.bind(this)),u(this.Wi.bind(this)))}Ti(){const t=this._();if(!t.length)return;let e,{clipStartTime:s,clipEndTime:n}=this.a.$state,a=s(),r=n()||t[t.length-1].endTime,o=r-a,h=100;for(let c=0;c<t.length;c++)if(e=t[c],this.R[c]){const l=c===t.length-1?h:K((e.endTime-Math.max(a,e.startTime))/o*100,3);this.R[c].style.width=l+"%",h-=l}}Ui(){let{liveEdge:t,clipStartTime:e,duration:s}=this.a.$state,{fillPercent:n,value:a}=this.Xd,r=this._(),o=t(),h=b(this.Ub),c=r[h],l=o?this._.length-1:this.Lf(c&&c.startTime/s()*100<=b(a)?h:0,n());o||!c?this.$d(0,r.length,"100%"):l>h?this.$d(h,l,"100%"):l<h&&this.$d(l+1,h+1,"0%");const d=o?"100%":this.ae(r[l],n(),e(),this.Hk(r))+"%";this.Mf(this.R[l],d),this.Ub.set(l)}Vi(){let{pointing:t,pointerPercent:e}=this.Xd;if(!t()){this.Hc.set(-1);return}const s=this.Lf(0,e());this.Hc.set(s)}$d(t,e,s){for(let n=t;n<e;n++)this.Mf(this.R[n],s)}Mf(t,e){t&&t.style.setProperty("--chapter-fill",e)}Lf(t,e){let s=0,n=this._();if(e===0)return 0;if(e===100)return n.length-1;let{clipStartTime:a}=this.a.$state,r=a(),o=this.Hk(n);for(let h=t;h<n.length;h++)if(s=this.ae(n[h],e,r,o),s>=0&&s<100)return h;return 0}Wi(){this.Xi(this.Yi())}Zi(){const{bufferedEnd:t,duration:e}=this.a.$state;return K(Math.min(t()/Math.max(e(),1),1),3)*100}Hk(t){var n;const{clipEndTime:e}=this.a.$state,s=e();return s>0?s:((n=t[t.length-1])==null?void 0:n.endTime)||0}ae(t,e,s,n){if(this._().length===0)return 0;const r=n-s,o=Math.max(0,t.startTime-s),h=Math.min(n,t.endTime)-s,c=o/r,l=c*100,d=Math.min(1,c+(h-o)/r)*100;return Math.max(0,K(e>=d?100:(e-l)/(d-l)*100,3))}_i(t){let e=[],{clipStartTime:s,clipEndTime:n,duration:a}=this.a.$state,r=s(),o=n()||1/0;t=t.filter(l=>l.startTime<=o&&l.endTime>=r);const h=t[0];h&&h.startTime>r&&e.push(new window.VTTCue(r,h.startTime,""));for(let l=0;l<t.length-1;l++){const d=t[l],p=t[l+1];if(e.push(d),p){const f=p.startTime-d.endTime;f>0&&e.push(new window.VTTCue(d.endTime,d.endTime+f,""))}}const c=t[t.length-1];if(c){e.push(c);const l=a();l>=0&&l-c.endTime>1&&e.push(new window.VTTCue(c.endTime,a(),""))}return e}wo(){const{source:t}=this.a.$state;t(),this._d()}_d(){if(!this.scope)return;const{disabled:t}=this.$props;if(t()){this._.set([]),this.Ub.set(0),this.Zd=0;return}const e=this.Gc();if(e){const s=this.$i.bind(this);s(),A(y(e,"add-cue",s)),A(y(e,"remove-cue",s)),u(this.Fk.bind(this))}return this.La=this.aj(),this.La&&u(this.bj.bind(this)),()=>{this.La&&(this.La.textContent="",this.La=null)}}Fk(){this.a.$state.duration(),this.$i()}bj(){const t=this.activePointerCue||this.activeCue;this.La&&(this.La.textContent=(t==null?void 0:t.text)||"")}cj(){let t=this.el;for(;t&&t.getAttribute("role")!=="slider";)t=t.parentElement;return t}aj(){const t=this.cj();return t?t.querySelector('[data-part="chapter-title"]'):null}};pn.props={disabled:!1};let le=pn;Fs([S],le.prototype,"cues",1);Fs([S],le.prototype,"activeCue",1);Fs([S],le.prototype,"activePointerCue",1);Fs([N],le.prototype,"setRefs",1);const H=Dt();function Gc(i,t){const e=Ro(i,t);for(const{el:s,top:n,left:a}of e)s.scroll({top:n,left:a,behavior:t.behavior})}function Jc(i,t={}){Gc(i,{scrollMode:"if-needed",block:"center",inline:"center",...t})}const Zc=["a[href]","[tabindex]","input","select","button"].map(i=>`${i}:not([aria-hidden='true'])`).join(","),tl=new Set(["Escape","Tab","ArrowUp","ArrowDown","Home","PageUp","End","PageDown","Enter"," "]);class el{constructor(t){this.j=t,this.ka=-1,this.xa=null,this.da=[]}get r(){return this.da}Nf(t){y(t,"focus",this.Lb.bind(this)),this.xa=t,A(()=>{this.xa=null})}zc(){this.xa&&(this.ea(),y(this.xa,"keyup",this.zb.bind(this)),y(this.xa,"keydown",this.Ab.bind(this)),A(()=>{this.ka=-1,this.da=[]}))}ea(){this.ka=0,this.da=this.dj()}Of(t=this.Pf()){const e=this.da[t];e&&requestAnimationFrame(()=>{requestAnimationFrame(()=>{Jc(e,{behavior:"smooth",boundary:s=>!s.hasAttribute("data-root")})})})}Ao(t=!0){const e=this.Pf();this.qb(e>=0?e:0,t)}qb(t,e=!0){var s;this.ka=t,this.da[t]?(this.da[t].focus({preventScroll:!0}),e&&this.Of(t)):(s=this.xa)==null||s.focus({preventScroll:!0})}Pf(){return this.da.findIndex(t=>document.activeElement===t||t.getAttribute("role")==="menuitemradio"&&t.getAttribute("aria-checked")==="true")}Lb(){this.ka>=0||(this.ea(),this.Ao())}kp(t){const e=t.target;if(Vr(t)&&e instanceof Element){const s=e.getAttribute("role");return!/a|input|select|button/.test(e.localName)&&!s}return tl.has(t.key)}zb(t){this.kp(t)&&(t.stopPropagation(),t.preventDefault())}Ab(t){if(this.kp(t))switch(t.stopPropagation(),t.preventDefault(),t.key){case"Escape":this.j.fj(t);break;case"Tab":this.qb(this.be(t.shiftKey?-1:1));break;case"ArrowUp":this.qb(this.be(-1));break;case"ArrowDown":this.qb(this.be(1));break;case"Home":case"PageUp":this.qb(0);break;case"End":case"PageDown":this.qb(this.da.length-1);break}}be(t){var s;let e=this.ka;do e=(e+t+this.da.length)%this.da.length;while(((s=this.da[e])==null?void 0:s.offsetParent)===null);return e}dj(){if(!this.xa)return[];const t=this.xa.querySelectorAll(Zc),e=[],s=n=>n.getAttribute("role")==="menu";for(const n of t)ke(n)&&n.offsetParent!==null&&mr(this.xa,n,s)&&e.push(n);return e}}var sl=Object.defineProperty,il=Object.getOwnPropertyDescriptor,Re=(i,t,e,s)=>{for(var n=s>1?void 0:s?il(t,e):t,a=i.length-1,r;a>=0;a--)(r=i[a])&&(n=(s?r(t,e,n):r(n))||n);return s&&n&&sl(t,e,n),n};let nl=0;const fn=class fn extends w{constructor(){super(),this.L=$(!1),this.Fc=$(!1),this.C=$(null),this.u=$(null),this.Vb=new Set,this.Ic=null,this.Qn=!1,this.Qf=$(!1),this.jp=new Set,this.xo=!1,this.rj=this.sj.bind(this),this.zo=!1,this.pj=this.tj.bind(this),this.qj=this.uj.bind(this),this.O=Zt(()=>{const e=b(this.u);if(!e)return;let s=0,n=getComputedStyle(e),a=[...e.children];for(const r of["paddingTop","paddingBottom","borderTopWidth","borderBottomWidth"])s+=parseFloat(n[r])||0;for(const r of a)if(ke(r)&&r.style.display==="contents")a.push(...r.children);else if(r.nodeType===3)s+=parseFloat(getComputedStyle(r).fontSize);else if(ke(r)){if(!pr(r))continue;const o=getComputedStyle(r);s+=r.offsetHeight+(parseFloat(o.marginTop)||0)+(parseFloat(o.marginBottom)||0)}ct(e,"--menu-height",s+"px")}),this.yo=!1;const{showDelay:t}=this.$props;this.Jc=new Er({C:this.C,u:this.u,yf:t,zc:(e,s,n)=>{Vt(e,r=>{this.L()?n(r):s(r)});const a=this.gj();a&&Vt(a,r=>{r.stopPropagation(),n(r)})},B:this.hj.bind(this)})}get triggerElement(){return this.C()}get contentElement(){return this.u()}get isSubmenu(){return!!this.ee}onSetup(){this.a=P();const t=++nl;this.ce=`media-menu-${t}`,this.de=`media-menu-button-${t}`,this.rb=new el({fj:this.close.bind(this)}),dt(H)&&(this.ee=F(H)),this.mo(),this.setAttributes({"data-open":this.L,"data-root":!this.isSubmenu,"data-submenu":this.isSubmenu,"data-disabled":this.K.bind(this)}),tt(H,{jj:this.C,u:this.u,L:this.L,Wb:$(""),no:!!this.ee,Ma:this.Ma.bind(this),fe:this.fe.bind(this),ge:this.ge.bind(this),he:this.he.bind(this),ie:this.ie.bind(this),je:this.je.bind(this),lp:e=>{this.jp.add(e),A(()=>{this.jp.delete(e)})}})}onAttach(t){t.style.setProperty("display","contents")}onConnect(t){var e;u(this.kj.bind(this)),this.isSubmenu&&((e=this.ee)==null||e.je(this))}onDestroy(){this.C.set(null),this.u.set(null),this.Ic=null,this.jp.clear()}mo(){let t=-1,e=dt($e)?F($e):null;tt($e,{onDragStart:()=>{var s;(s=e==null?void 0:e.onDragStart)==null||s.call(e),window.clearTimeout(t),t=-1,this.Qn=!0},onDragEnd:()=>{var s;(s=e==null?void 0:e.onDragEnd)==null||s.call(e),t=window.setTimeout(()=>{this.Qn=!1,t=-1},300)}})}kj(){const t=this.lj();this.isSubmenu||this.O(),this.Rf(t),t&&(u(()=>{const{height:e}=this.a.$state,s=this.u();s&&ct(s,"--player-height",e()+"px")}),this.rb.zc(),this.listen("pointerup",this.mj.bind(this)),y(window,"pointerup",this.nj.bind(this)))}fe(t){const e=t.el,s=this.isSubmenu,n=z(this.K.bind(this));M(e,"tabindex",s?"-1":"0"),M(e,"role",s?"menuitem":"button"),x(e,"id",this.de),x(e,"aria-haspopup","menu"),x(e,"aria-expanded","false"),x(e,"data-root",!this.isSubmenu),x(e,"data-submenu",this.isSubmenu),u(()=>{x(e,"data-open",this.L()),x(e,"aria-disabled",n())}),this.C.set(e),A(()=>{this.C.set(null)})}ge(t){var a;const e=t.el;e.style.setProperty("display","none"),x(e,"id",this.ce),M(e,"role","menu"),M(e,"tabindex","-1"),x(e,"data-root",!this.isSubmenu),x(e,"data-submenu",this.isSubmenu),this.u.set(e),A(()=>this.u.set(null)),u(()=>x(e,"data-open",this.L())),this.rb.Nf(e),this.Rf(!1);const n=this.Xm.bind(this);this.isSubmenu?(a=this.ee)==null||a.lp(n):(t.listen("transitionstart",n),t.listen("transitionend",n),t.listen("animationend",this.O),t.listen("vds-menu-resize",this.O))}he(t){this.Ic=t}Rf(t){const e=b(this.u);e&&x(e,"aria-hidden",ns(!t))}ie(t){this.Qf.set(t)}hj(t,e){var a,r,o,h,c,l;if(this.xo=Ms(e),e==null||e.stopPropagation(),this.L()===t)return;if(this.K()){t&&this.Jc.hide(e);return}(a=this.el)==null||a.dispatchEvent(new Event("vds-menu-resize",{bubbles:!0,composed:!0}));const s=this.C(),n=this.u();if(s&&(x(s,"aria-controls",t&&this.ce),x(s,"aria-expanded",ns(t))),n&&x(n,"aria-labelledby",t&&this.de),this.L.set(t),this.oj(e),Ct(),this.xo){t?n==null||n.focus():s==null||s.focus();for(const d of[this.el,n])d&&d.setAttribute("data-keyboard","")}else for(const d of[this.el,n])d&&d.removeAttribute("data-keyboard");if(this.dispatch(t?"open":"close",{trigger:e}),t)!this.isSubmenu&&this.a.activeMenu!==this&&((r=this.a.activeMenu)==null||r.close(e),this.a.activeMenu=this),(h=(o=this.Ic)==null?void 0:o.ke)==null||h.call(o,e);else{if(this.isSubmenu)for(const d of this.Vb)d.close(e);else this.a.activeMenu=null;(l=(c=this.Ic)==null?void 0:c.Tj)==null||l.call(c,e)}t&&requestAnimationFrame(this.Bo.bind(this))}Bo(){this.yo||this.zo||(this.rb.ea(),requestAnimationFrame(()=>{this.xo?this.rb.Ao():this.rb.Of()}))}lj(){return!this.K()&&this.L()}K(){return this.Fc()||this.Qf()}Ma(t){this.Fc.set(t)}mj(t){const e=this.u();this.Qn||e&&zn(e,t)||t.stopPropagation()}nj(t){const e=this.u();this.Qn||e&&zn(e,t)||this.close(t)}gj(){var e;const t=(e=this.el)==null?void 0:e.querySelector('[data-part="close-target"]');return this.el&&t&&mr(this.el,t,s=>s.getAttribute("role")==="menu")?t:null}oj(t){this.isSubmenu||(this.L()?this.a.remote.pauseControls(t):this.a.remote.resumeControls(t))}je(t){this.Vb.add(t),y(t,"open",this.pj),y(t,"close",this.qj),A(this.rj)}sj(t){this.Vb.delete(t)}tj(t){var s;this.zo=!0;const e=this.u();this.isSubmenu&&((s=this.triggerElement)==null||s.setAttribute("aria-hidden","true"));for(const n of this.Vb)if(n!==t.target)for(const a of[n.el,n.triggerElement])a==null||a.setAttribute("aria-hidden","true");if(e){const n=t.target.el;for(const a of e.children)a.contains(n)?a.setAttribute("data-open",""):a!==n&&a.setAttribute("data-hidden","")}}uj(t){var s;this.zo=!1;const e=this.u();this.isSubmenu&&((s=this.triggerElement)==null||s.setAttribute("aria-hidden","false"));for(const n of this.Vb)for(const a of[n.el,n.triggerElement])a==null||a.setAttribute("aria-hidden","false");if(e)for(const n of e.children)n.removeAttribute("data-open"),n.removeAttribute("data-hidden")}Xm(t){const e=this.u();e&&t.propertyName==="height"&&(this.yo=t.type==="transitionstart",x(e,"data-transition",this.yo?"height":null),this.L()&&this.Bo());for(const s of this.jp)s(t)}open(t){b(this.L)||(this.Jc.show(t),Ct())}close(t){b(this.L)&&(this.Jc.hide(t),Ct())}};fn.props={showDelay:0};let Gt=fn;Re([S],Gt.prototype,"triggerElement",1);Re([S],Gt.prototype,"contentElement",1);Re([S],Gt.prototype,"isSubmenu",1);Re([N],Gt.prototype,"open",1);Re([N],Gt.prototype,"close",1);var al=Object.defineProperty,rl=Object.getOwnPropertyDescriptor,ol=(i,t,e,s)=>{for(var n=s>1?void 0:s?rl(t,e):t,a=i.length-1,r;a>=0;a--)(r=i[a])&&(n=(s?r(t,e,n):r(n))||n);return s&&n&&al(t,e,n),n};const mn=class mn extends w{constructor(){super(),this.zn=$(null),new xt}get expanded(){var t;return((t=this.l)==null?void 0:t.L())??!1}onSetup(){this.l=F(H)}onAttach(t){this.l.fe(this),u(this.Qb.bind(this)),M(t,"type","button")}onConnect(t){u(this.An.bind(this)),this.vf();const e=new MutationObserver(this.vf.bind(this));e.observe(t,{attributeFilter:["data-part"],childList:!0,subtree:!0}),A(()=>e.disconnect()),Vt(t,s=>{this.dispatch("select",{trigger:s})})}Qb(){this.l.ie(this.$props.disabled())}An(){const t=this.zn();t&&u(()=>{const e=this.l.Wb();e&&(t.textContent=e)})}vf(){var e;const t=(e=this.el)==null?void 0:e.querySelector('[data-part="hint"]');this.zn.set(t??null)}};mn.props={disabled:!1};let fi=mn;ol([S],fi.prototype,"expanded",1);const bn=class bn extends w{constructor(){super(...arguments),this.A=null}onSetup(){this.a=P(),tt(ts,{Ja:this.vj.bind(this)})}onAttach(t){t.style.setProperty("display","contents")}onConnect(t){}onDestroy(){var t;(t=this.A)==null||t.remove(),this.A=null}vj(t){this.Tf(!1),this.A=t,cs(()=>{cs(()=>{this.connectScope&&u(this.Qb.bind(this))})})}Qb(){const{fullscreen:t}=this.a.$state,{disabled:e}=this.$props,s=e();this.Tf(s==="fullscreen"?!t():!s)}Tf(t){var n;if(!this.A)return;let e=this.wj(this.$props.container());if(!e)return;const s=this.A.parentElement===e;x(this.A,"data-portal",t),t?s||(this.A.remove(),e.append(this.A)):s&&this.A.parentElement===e&&(this.A.remove(),(n=this.el)==null||n.append(this.A))}wj(t){return ke(t)?t:t?document.querySelector(t):document.body}};bn.props={container:null,disabled:!1};let La=bn;const ts=Dt(),gn=class gn extends w{constructor(){super(),new xt;const{placement:t}=this.$props;this.setAttributes({"data-placement":t})}onAttach(t){if(this.l=F(H),this.l.ge(this),dt(ts)){const e=F(ts);e&&(tt(ts,null),e.Ja(t),A(()=>e.Ja(null)))}}onConnect(t){u(this.Nd.bind(this))}Nd(){if(!this.el)return;const t=this.$props.placement();if(t){Object.assign(this.el.style,{position:"absolute",top:0,left:0,width:"max-content"});const{offset:e,alignOffset:s}=this.$props;return br(this.el,this.Cc(),t,{offsetVarName:"media-menu",xOffset:s(),yOffset:e()})}else this.el.removeAttribute("style"),this.el.style.display="none"}Cc(){return this.l.jj()}};gn.props={placement:null,offset:0,alignOffset:0};let Da=gn;const mi=Dt();class se extends yt{constructor(){super(...arguments),this.sb=new Set,this.la=$(""),this.d=null,this.Aj=this.B.bind(this)}get xj(){return Array.from(this.sb).map(t=>t.la())}get value(){return this.la()}set value(t){this.B(t)}onSetup(){tt(mi,{add:this.yj.bind(this),remove:this.zj.bind(this)})}onAttach(t){dt(H)||M(t,"role","radiogroup"),this.setAttributes({value:this.la})}onDestroy(){this.sb.clear()}yj(t){this.sb.has(t)||(this.sb.add(t),t.Kc=this.Aj,t.Xb(t.la()===this.la()))}zj(t){t.Kc=null,this.sb.delete(t)}B(t,e){var r;const s=b(this.la);if(!t||t===s)return;const n=this.Uf(s),a=this.Uf(t);n==null||n.Xb(!1,e),a==null||a.Xb(!0,e),this.la.set(t),(r=this.o)==null||r.call(this,t,e)}Uf(t){for(const e of this.sb)if(t===b(e.la))return e;return null}}var hl=Object.defineProperty,cl=Object.getOwnPropertyDescriptor,Cr=(i,t,e,s)=>{for(var n=s>1?void 0:s?cl(t,e):t,a=i.length-1,r;a>=0;a--)(r=i[a])&&(n=(s?r(t,e,n):r(n))||n);return s&&n&&hl(t,e,n),n};const yn=class yn extends w{get values(){return this.d.xj}get value(){return this.d.value}set value(t){this.d.value=t}constructor(){super(),this.d=new se,this.d.o=this.o.bind(this)}onSetup(){u(this.D.bind(this))}D(){this.d.value=this.$props.value()}o(t,e){const s=this.createEvent("change",{detail:t,trigger:e});this.dispatch(s)}};yn.props={value:""};let fs=yn;Cr([S],fs.prototype,"values",1);Cr([S],fs.prototype,"value",1);var ll=Object.defineProperty,ul=Object.getOwnPropertyDescriptor,dl=(i,t,e,s)=>{for(var n=s>1?void 0:s?ul(t,e):t,a=i.length-1,r;a>=0;a--)(r=i[a])&&(n=(s?r(t,e,n):r(n))||n);return s&&n&&ll(t,e,n),n};const $n=class $n extends w{constructor(){super(),this.Na=$(!1),this.d={la:this.$props.value,Xb:this.Xb.bind(this),Kc:null},new xt}get checked(){return this.Na()}onSetup(){this.setAttributes({value:this.$props.value,"data-checked":this.Na,"aria-checked":z(this.Na)})}onAttach(t){const e=dt(H);M(t,"tabindex",e?"-1":"0"),M(t,"role",e?"menuitemradio":"radio"),u(this.D.bind(this))}onConnect(t){this.Bj(),Vt(t,this.v.bind(this)),A(this.ya.bind(this))}ya(){J(()=>{F(mi).remove(this.d)},this.connectScope)}Bj(){F(mi).add(this.d)}D(){var s,n;const{value:t}=this.$props,e=t();b(this.Na)&&((n=(s=this.d).Kc)==null||n.call(s,e))}v(t){var e,s;b(this.Na)||(this.B(!0,t),this.Cj(t),(s=(e=this.d).Kc)==null||s.call(e,b(this.$props.value),t))}Xb(t,e){b(this.Na)!==t&&this.B(t,e)}B(t,e){this.Na.set(t),this.dispatch("change",{detail:t,trigger:e})}Cj(t){this.dispatch("select",{trigger:t})}};$n.props={value:""};let bi=$n;dl([S],bi.prototype,"checked",1);var pl=Object.defineProperty,fl=Object.getOwnPropertyDescriptor,Hi=(i,t,e,s)=>{for(var n=s>1?void 0:s?fl(t,e):t,a=i.length-1,r;a>=0;a--)(r=i[a])&&(n=(s?r(t,e,n):r(n))||n);return s&&n&&pl(t,e,n),n};const wn=class wn extends w{constructor(){super(),this.z=$(null),this.J=$([]),this.d=new se,this.d.o=this.o.bind(this)}get value(){return this.d.value}get disabled(){var t;return!((t=this.J())!=null&&t.length)}onSetup(){this.a=P(),dt(H)&&(this.l=F(H));const{thumbnails:t}=this.$props;this.setAttributes({"data-thumbnails":()=>!!t()})}onAttach(t){var e;(e=this.l)==null||e.he({ke:this.ke.bind(this)})}getOptions(){const{clipStartTime:t,clipEndTime:e}=this.a.$state,s=t(),n=e()||1/0;return this.J().map((a,r)=>({cue:a,value:r.toString(),label:a.text,startTime:_s(Math.max(0,a.startTime-s)),duration:ps(Math.min(n,a.endTime)-Math.max(s,a.startTime))}))}ke(){b(()=>this.jb())}onConnect(t){u(this.jb.bind(this)),u(this.ma.bind(this)),u(this.tk.bind(this)),qs(this.a.textTracks,"chapters",this.z.set)}tk(){const t=this.z();if(!t)return;const e=this.$i.bind(this,t);return e(),y(t,"add-cue",e),y(t,"remove-cue",e),()=>{this.J.set([])}}$i(t){const{clipStartTime:e,clipEndTime:s}=this.a.$state,n=e(),a=s()||1/0;this.J.set([...t.cues].filter(r=>r.startTime<=a&&r.endTime>=n))}jb(){var c;if(!((c=this.l)!=null&&c.L()))return;if(!this.z()){this.d.value="-1";return}const{realCurrentTime:e,clipStartTime:s,clipEndTime:n}=this.a.$state,a=s(),r=n()||1/0,o=e(),h=this.J().findIndex(l=>si(l,o));this.d.value=h.toString(),h>=0&&cs(()=>{if(!this.connectScope)return;const l=this.J()[h],d=this.el.querySelector("[aria-checked='true']"),p=Math.max(a,l.startTime),f=Math.min(r,l.endTime)-p,m=Math.max(0,o-p)/f*100;d&&ct(d,"--progress",K(m,3)+"%")})}ma(){var t;(t=this.l)==null||t.Ma(this.disabled)}o(t,e){if(this.disabled||!e)return;const s=+t,n=this.J(),{clipStartTime:a}=this.a.$state;mt(s)&&(n!=null&&n[s])&&(this.d.value=s.toString(),this.a.remote.seek(n[s].startTime-a(),e),this.dispatch("change",{detail:n[s],trigger:e}))}};wn.props={thumbnails:null};let Se=wn;Hi([S],Se.prototype,"value",1);Hi([S],Se.prototype,"disabled",1);Hi([N],Se.prototype,"getOptions",1);var ml=Object.defineProperty,bl=Object.getOwnPropertyDescriptor,Ki=(i,t,e,s)=>{for(var n=s>1?void 0:s?bl(t,e):t,a=i.length-1,r;a>=0;a--)(r=i[a])&&(n=(s?r(t,e,n):r(n))||n);return s&&n&&ml(t,e,n),n};const vn=class vn extends w{get value(){return this.d.value}get disabled(){const{audioTracks:t}=this.a.$state;return t().length<=1}constructor(){super(),this.d=new se,this.d.o=this.o.bind(this)}onSetup(){this.a=P(),dt(H)&&(this.l=F(H))}onConnect(t){u(this.D.bind(this)),u(this.ma.bind(this)),u(this.Oa.bind(this))}getOptions(){const{audioTracks:t}=this.a.$state;return t().map(e=>({track:e,label:e.label,value:e.label.toLowerCase()}))}D(){this.d.value=this.na()}Oa(){var n;const{emptyLabel:t}=this.$props,{audioTrack:e}=this.a.$state,s=e();(n=this.l)==null||n.Wb.set((s==null?void 0:s.label)??t())}ma(){var t;(t=this.l)==null||t.Ma(this.disabled)}na(){const{audioTrack:t}=this.a.$state,e=t();return e?e.label.toLowerCase():""}o(t,e){if(this.disabled)return;const s=this.a.audioTracks.toArray().findIndex(n=>n.label.toLowerCase()===t);if(s>=0){const n=this.a.audioTracks[s];this.a.remote.changeAudioTrack(s,e),this.dispatch("change",{detail:n,trigger:e})}}};vn.props={emptyLabel:"Default"};let Pe=vn;Ki([S],Pe.prototype,"value",1);Ki([S],Pe.prototype,"disabled",1);Ki([N],Pe.prototype,"getOptions",1);var gl=Object.defineProperty,yl=Object.getOwnPropertyDescriptor,Wi=(i,t,e,s)=>{for(var n=s>1?void 0:s?yl(t,e):t,a=i.length-1,r;a>=0;a--)(r=i[a])&&(n=(s?r(t,e,n):r(n))||n);return s&&n&&gl(t,e,n),n};const $l=[1,1.25,1.5,1.75,2,2.5,3,4],Tn=class Tn extends w{get value(){return this.d.value}get disabled(){const{gains:t}=this.$props,{canSetAudioGain:e}=this.a.$state;return!e()||t().length===0}constructor(){super(),this.d=new se,this.d.o=this.o.bind(this)}onSetup(){this.a=P(),dt(H)&&(this.l=F(H))}onConnect(t){u(this.D.bind(this)),u(this.Oa.bind(this)),u(this.ma.bind(this))}getOptions(){const{gains:t,normalLabel:e}=this.$props;return t().map(s=>({label:s===1||s===null?e:String(s*100)+"%",value:s.toString()}))}D(){this.d.value=this.na()}Oa(){var n;const{normalLabel:t}=this.$props,{audioGain:e}=this.a.$state,s=e();(n=this.l)==null||n.Wb.set(s===1||s==null?t():String(s*100)+"%")}ma(){var t;(t=this.l)==null||t.Ma(this.disabled)}na(){var e;const{audioGain:t}=this.a.$state;return((e=t())==null?void 0:e.toString())??"1"}o(t,e){if(this.disabled)return;const s=+t;this.a.remote.changeAudioGain(s,e),this.dispatch("change",{detail:s,trigger:e})}};Tn.props={normalLabel:"Disabled",gains:$l};let Ee=Tn;Wi([S],Ee.prototype,"value",1);Wi([S],Ee.prototype,"disabled",1);Wi([N],Ee.prototype,"getOptions",1);var wl=Object.defineProperty,vl=Object.getOwnPropertyDescriptor,Ui=(i,t,e,s)=>{for(var n=s>1?void 0:s?vl(t,e):t,a=i.length-1,r;a>=0;a--)(r=i[a])&&(n=(s?r(t,e,n):r(n))||n);return s&&n&&wl(t,e,n),n};const kn=class kn extends w{get value(){return this.d.value}get disabled(){const{hasCaptions:t}=this.a.$state;return!t()}constructor(){super(),this.d=new se,this.d.o=this.o.bind(this)}onSetup(){this.a=P(),dt(H)&&(this.l=F(H))}onConnect(t){var e;(e=super.onConnect)==null||e.call(this,t),u(this.D.bind(this)),u(this.ma.bind(this)),u(this.Oa.bind(this))}getOptions(){const{offLabel:t}=this.$props,{textTracks:e}=this.a.$state;return[{value:"off",label:t},...e().filter(X).map(s=>({track:s,label:s.label,value:this.xk(s)}))]}D(){this.d.value=this.na()}Oa(){var n;const{offLabel:t}=this.$props,{textTrack:e}=this.a.$state,s=e();(n=this.l)==null||n.Wb.set(s&&X(s)&&s.mode==="showing"?s.label:t())}ma(){var t;(t=this.l)==null||t.Ma(this.disabled)}na(){const{textTrack:t}=this.a.$state,e=t();return e&&X(e)&&e.mode==="showing"?this.xk(e):"off"}o(t,e){if(this.disabled)return;if(t==="off"){const n=this.a.textTracks.selected;if(n){const a=this.a.textTracks.indexOf(n);this.a.remote.changeTextTrackMode(a,"disabled",e),this.dispatch("change",{detail:null,trigger:e})}return}const s=this.a.textTracks.toArray().findIndex(n=>this.xk(n)===t);if(s>=0){const n=this.a.textTracks[s];this.a.remote.changeTextTrackMode(s,"showing",e),this.dispatch("change",{detail:n,trigger:e})}}xk(t){return t.id+":"+t.kind+"-"+t.label.toLowerCase()}};kn.props={offLabel:"Off"};let Ae=kn;Ui([S],Ae.prototype,"value",1);Ui([S],Ae.prototype,"disabled",1);Ui([N],Ae.prototype,"getOptions",1);var Tl=Object.defineProperty,kl=Object.getOwnPropertyDescriptor,Bi=(i,t,e,s)=>{for(var n=s>1?void 0:s?kl(t,e):t,a=i.length-1,r;a>=0;a--)(r=i[a])&&(n=(s?r(t,e,n):r(n))||n);return s&&n&&Tl(t,e,n),n};const xl=[.25,.5,.75,1,1.25,1.5,1.75,2],xn=class xn extends w{get value(){return this.d.value}get disabled(){const{rates:t}=this.$props,{canSetPlaybackRate:e}=this.a.$state;return!e()||t().length===0}constructor(){super(),this.d=new se,this.d.o=this.o.bind(this)}onSetup(){this.a=P(),dt(H)&&(this.l=F(H))}onConnect(t){u(this.D.bind(this)),u(this.Oa.bind(this)),u(this.ma.bind(this))}getOptions(){const{rates:t,normalLabel:e}=this.$props;return t().map(s=>({label:s===1?e:s+"",value:s.toString()}))}D(){this.d.value=this.na()}Oa(){var n;const{normalLabel:t}=this.$props,{playbackRate:e}=this.a.$state,s=e();(n=this.l)==null||n.Wb.set(s===1?t():s+"")}ma(){var t;(t=this.l)==null||t.Ma(this.disabled)}na(){const{playbackRate:t}=this.a.$state;return t().toString()}o(t,e){if(this.disabled)return;const s=+t;this.a.remote.changePlaybackRate(s,e),this.dispatch("change",{detail:s,trigger:e})}};xn.props={normalLabel:"Normal",rates:xl};let Ce=xn;Bi([S],Ce.prototype,"value",1);Bi([S],Ce.prototype,"disabled",1);Bi([N],Ce.prototype,"getOptions",1);var Sl=Object.defineProperty,Pl=Object.getOwnPropertyDescriptor,Qi=(i,t,e,s)=>{for(var n=s>1?void 0:s?Pl(t,e):t,a=i.length-1,r;a>=0;a--)(r=i[a])&&(n=(s?r(t,e,n):r(n))||n);return s&&n&&Sl(t,e,n),n};const Sn=class Sn extends w{constructor(){super(),this.Dj=Ot(()=>{const{sort:t}=this.$props,{qualities:e}=this.a.$state;return kr(e(),t()==="descending")}),this.d=new se,this.d.o=this.o.bind(this)}get value(){return this.d.value}get disabled(){const{canSetQuality:t,qualities:e}=this.a.$state;return!t()||e().length<=1}onSetup(){this.a=P(),dt(H)&&(this.l=F(H))}onConnect(t){u(this.D.bind(this)),u(this.ma.bind(this)),u(this.Oa.bind(this))}getOptions(){const{autoLabel:t,hideBitrate:e}=this.$props;return[{value:"auto",label:t},...this.Dj().map(s=>{const n=s.bitrate&&s.bitrate>=0?`${K(s.bitrate/1e6,2)} Mbps`:null;return{quality:s,label:s.height+"p",value:this.le(s),bitrate:()=>e()?null:n}})]}D(){this.d.value=this.na()}Oa(){var a;const{autoLabel:t}=this.$props,{autoQuality:e,quality:s}=this.a.$state,n=s()?s().height+"p":"";(a=this.l)==null||a.Wb.set(e()?t()+(n?` (${n})`:""):n)}ma(){var t;(t=this.l)==null||t.Ma(this.disabled)}o(t,e){if(this.disabled)return;if(t==="auto"){this.a.remote.changeQuality(-1,e),this.dispatch("change",{detail:"auto",trigger:e});return}const{qualities:s}=this.a.$state,n=b(s).findIndex(a=>this.le(a)===t);if(n>=0){const a=b(s)[n];this.a.remote.changeQuality(n,e),this.dispatch("change",{detail:a,trigger:e})}}na(){const{quality:t,autoQuality:e}=this.a.$state;if(e())return"auto";const s=t();return s?this.le(s):"auto"}le(t){return t.height+"_"+t.bitrate}};Sn.props={autoLabel:"Auto",hideBitrate:!1,sort:"descending"};let Oe=Sn;Qi([S],Oe.prototype,"value",1);Qi([S],Oe.prototype,"disabled",1);Qi([N],Oe.prototype,"getOptions",1);const Pn=class Pn extends w{constructor(){super(...arguments),this.i=null,this.Pa=0,this.Vf=-1}onSetup(){this.a=P();const{event:t,action:e}=this.$props;this.setAttributes({event:t,action:e})}onAttach(t){t.setAttribute("data-media-gesture",""),t.style.setProperty("pointer-events","none")}onConnect(t){var e;this.i=(e=this.a.player.el)==null?void 0:e.querySelector("[data-media-provider]"),u(this.Ej.bind(this))}Ej(){let t=this.$props.event(),e=this.$props.disabled();!this.i||!t||e||(/^dbl/.test(t)&&(t=t.split(/^dbl/)[1]),(t==="pointerup"||t==="pointerdown")&&this.a.$state.pointer()==="coarse"&&(t=t==="pointerup"?"touchend":"touchstart"),y(this.i,t,this.Fj.bind(this),{passive:!1}))}Fj(t){if(this.$props.disabled()||jn(t)&&(t.button!==0||this.a.activeMenu)||Ge(t)&&this.a.activeMenu||Ri(t)||!this.Gj(t))return;t.MEDIA_GESTURE=!0,t.preventDefault();const e=b(this.$props.event);if(!(e==null?void 0:e.startsWith("dbl")))this.Pa===0&&setTimeout(()=>{this.Pa===1&&this.Wf(t)},250);else if(this.Pa===1){queueMicrotask(()=>this.Wf(t)),clearTimeout(this.Vf),this.Pa=0;return}this.Pa===0&&(this.Vf=window.setTimeout(()=>{this.Pa=0},275)),this.Pa++}Wf(t){this.el.setAttribute("data-triggered",""),requestAnimationFrame(()=>{this.Hj()&&this.Ij(b(this.$props.action),t),requestAnimationFrame(()=>{this.el.removeAttribute("data-triggered")})})}Gj(t){if(!this.el)return!1;if(jn(t)||Nr(t)||Ge(t)){const e=Ge(t)?t.changedTouches[0]??t.touches[0]:void 0,s=(e==null?void 0:e.clientX)??t.clientX,n=(e==null?void 0:e.clientY)??t.clientY,a=this.el.getBoundingClientRect(),r=n>=a.top&&n<=a.bottom&&s>=a.left&&s<=a.right;return t.type.includes("leave")?!r:r}return!0}Hj(){const t=this.a.player.el.querySelectorAll("[data-media-gesture][data-triggered]");return Array.from(t).sort((e,s)=>+getComputedStyle(s).zIndex-+getComputedStyle(e).zIndex)[0]===this.el}Ij(t,e){if(!t)return;const s=new _("will-trigger",{detail:t,cancelable:!0,trigger:e});if(this.dispatchEvent(s),s.defaultPrevented)return;const[n,a]=t.replace(/:([a-z])/,"-$1").split(":");t.includes(":fullscreen")?this.a.remote.toggleFullscreen("prefer-media",e):t.includes("seek:")?this.a.remote.seek(b(this.a.$state.currentTime)+(+a||0),e):this.a.remote[Xr(n)](e),this.dispatch("trigger",{detail:t,trigger:e})}};Pn.props={disabled:!1,event:void 0,action:void 0};let Ma=Pn;class El{constructor(t){this.S=t,this.priority=10,this.z=null,this.sa=Si()}attach(){}canRender(){return!0}detach(){this.sa.empty(),this.S.reset(),this.z=null}changeTrack(t){!t||this.z===t||(this.sa.empty(),t.readyState<2?(this.S.reset(),this.sa.add(y(t,"load",()=>this.Xf(t),{once:!0}))):this.Xf(t),this.sa.add(y(t,"add-cue",e=>{this.S.addCue(e.detail)}),y(t,"remove-cue",e=>{this.S.removeCue(e.detail)})),this.z=t)}Xf(t){this.S.changeTrack({cues:[...t.cues],regions:[...t.regions]})}}const En=class En extends w{constructor(){super(...arguments),this.Rn=-1}onSetup(){this.a=P(),this.setAttributes({"aria-hidden":z(this.lb.bind(this))})}onAttach(t){t.style.setProperty("pointer-events","none")}onConnect(t){const e=this.a.player;if(e&&y(e,"vds-font-change",this.Wn.bind(this)),this.S){u(this.Yf.bind(this));return}ut(()=>import("./prod-B0mcJX03.js").then(s=>s.d),__vite__mapDeps([0,1])).then(s=>{this.connectScope&&J(()=>{this.W=s;const{CaptionsRenderer:n}=this.W;this.S=new n(t),this.Qa=new El(this.S),u(this.Yf.bind(this))},this.connectScope)})}onDestroy(){var t;this.Qa&&(this.Qa.detach(),this.a.textRenderers.remove(this.Qa)),(t=this.S)==null||t.destroy()}lb(){const{textTrack:t,remotePlaybackState:e,iOSControls:s}=this.a.$state,n=t();return s()||e()==="connected"||!n||!X(n)}Yf(){const{viewType:t}=this.a.$state;return t()==="audio"?this.Jj():this.Kj()}Jj(){return u(this._d.bind(this)),()=>{this.el.textContent=""}}_d(){if(this.lb())return;const{textTrack:t}=this.a.$state;this.Zf(),y(t(),"cue-change",this.Zf.bind(this)),u(this.Lj.bind(this))}Zf(){this.el.textContent="",this.Rn>=0&&this.Sn();const{realCurrentTime:t,textTrack:e}=this.a.$state,{renderVTTCueString:s}=this.W,n=b(t),a=b(e).activeCues;for(const r of a){const o=this.Tn(),h=this.Un();h.innerHTML=s(r,n),o.append(h),this.el.append(h)}}Lj(){const{realCurrentTime:t}=this.a.$state,{updateTimedVTTCueNodes:e}=this.W;e(this.el,t())}Kj(){return u(this.Mj.bind(this)),u(this.Nj.bind(this)),this.a.textRenderers.add(this.Qa),()=>{this.el.textContent="",this.Qa.detach(),this.a.textRenderers.remove(this.Qa)}}Mj(){this.S.dir=this.$props.textDir()}Nj(){var s;if(this.lb())return;const{realCurrentTime:t,textTrack:e}=this.a.$state;this.S.currentTime=t(),this.Rn>=0&&((s=e())!=null&&s.activeCues[0])&&this.Sn()}Wn(){var e,s;if(this.Rn>=0){this.Vn();return}const{textTrack:t}=this.a.$state;(e=t())!=null&&e.activeCues[0]?(s=this.S)==null||s.update(!0):this.Xn()}Xn(){var s,n;const t=this.Tn();x(t,"data-example","");const e=this.Un();x(e,"data-example",""),e.textContent=this.$props.exampleText(),t==null||t.append(e),(s=this.el)==null||s.append(t),(n=this.el)==null||n.setAttribute("data-example",""),this.Vn()}Vn(){window.clearTimeout(this.Rn),this.Rn=window.setTimeout(this.Sn.bind(this),2500)}Sn(){var t,e;(t=this.el)==null||t.removeAttribute("data-example"),(e=this.el)!=null&&e.querySelector("[data-example]")&&(this.el.textContent=""),this.Rn=-1}Tn(){const t=document.createElement("div");return x(t,"data-part","cue-display"),t}Un(){const t=document.createElement("div");return x(t,"data-part","cue"),t}};En.props={textDir:"ltr",exampleText:"Captions look like this."};let Ia=En;const As=class As extends w{constructor(){super(...arguments),this.wn=""}onSetup(){this.a=P(),this.fd(),this.$k(),this.Hh(),this.ob()}onAttach(t){t.style.setProperty("pointer-events","none"),u(this.Ud.bind(this)),u(this.fd.bind(this)),u(this.$k.bind(this)),u(this.Hh.bind(this)),u(this.ob.bind(this));const{started:e}=this.a.$state;this.setAttributes({"data-visible":()=>!e()&&!this.$state.hidden(),"data-loading":this.Rb.bind(this),"data-error":this.wa.bind(this),"data-hidden":this.$state.hidden})}onConnect(t){u(this.Pk.bind(this)),u(this.Ea.bind(this))}wa(){const{error:t}=this.$state;return!Ht(t())}Pk(){const{canLoadPoster:t,poster:e}=this.a.$state;!t()&&e()&&je(e(),"preconnect")}ob(){const{src:t}=this.$props,{poster:e,nativeControls:s}=this.a.$state;this.el&&x(this.el,"display",s()?"none":null),this.$state.hidden.set(this.wa()||!(t()||e())||s())}Rb(){const{loading:t,hidden:e}=this.$state;return!e()&&t()}Ud(){const t=this.$state.img();t&&(y(t,"load",this.lc.bind(this)),y(t,"error",this.U.bind(this)))}fd(){const{poster:t}=this.a.$props,{canLoadPoster:e,providedPoster:s,inferredPoster:n}=this.a.$state,a=this.$props.src()||"",r=a||t()||n();this.wn===s()&&s.set(a),this.$state.src.set(e()&&r.length?r:null),this.wn=a}$k(){const{src:t}=this.$props,{alt:e}=this.$state,{poster:s}=this.a.$state;e.set(t()||s()?this.$props.alt():null)}Hh(){const{crossOrigin:t}=this.$props,{crossOrigin:e}=this.$state,{crossOrigin:s,poster:n}=this.a.$state,a=t()!==null?t():s();e.set(/ytimg\.com|vimeo/.test(n()||"")?null:a===!0?"anonymous":a)}Ea(){const{loading:t,error:e}=this.$state,{canLoadPoster:s,poster:n}=this.a.$state;t.set(s()&&!!n()),e.set(null)}lc(){const{loading:t,error:e}=this.$state;t.set(!1),e.set(null)}U(t){const{loading:e,error:s}=this.$state;e.set(!1),s.set(t)}};As.props={src:null,alt:null,crossOrigin:null},As.state=new Kt({img:null,src:null,alt:null,crossOrigin:null,loading:!0,error:null,hidden:!1});let ja=As;const Cs=class Cs extends w{constructor(){super(...arguments),this.cn=$(null),this.Co=$(!0),this.Do=$(!0)}onSetup(){this.a=P(),this.ag();const{type:t}=this.$props;this.setAttributes({"data-type":t,"data-remainder":this.fn.bind(this)}),new Ar({callback:this.Eo.bind(this)}).attach(this)}onAttach(t){t.hasAttribute("role")||u(this.hn.bind(this)),u(this.ag.bind(this))}onConnect(t){A(fr(t,this.Co.set)),u(this.ob.bind(this)),u(this.Go.bind(this))}Eo(t){this.Do.set(t[0].isIntersecting)}ob(){const{hidden:t}=this.$props;this.$state.hidden.set(t()||!this.Co()||!this.Do())}Go(){if(!this.$props.toggle()){this.cn.set(null);return}this.el&&Vt(this.el,this.gn.bind(this))}ag(){const{hidden:t,timeText:e}=this.$state,{duration:s}=this.a.$state;if(t())return;const{type:n,padHours:a,padMinutes:r,showHours:o}=this.$props,h=this.Oj(n()),c=s(),l=this.fn();if(!Number.isFinite(h+c)){e.set("LIVE");return}const d=l?Math.max(0,c-h):h,p=_s(d,{padHrs:a(),padMins:r(),showHrs:o()});e.set((l?"-":"")+p)}hn(){if(!this.el)return;const{toggle:t}=this.$props;x(this.el,"role",t()?"timer":null),x(this.el,"tabindex",t()?0:null)}Oj(t){const{bufferedEnd:e,duration:s,currentTime:n}=this.a.$state;switch(t){case"buffered":return e();case"duration":return s();default:return n()}}fn(){return this.$props.remainder()&&this.cn()!==!1}gn(t){if(t.preventDefault(),this.cn()===null){this.cn.set(!this.$props.remainder());return}this.cn.set(e=>!e)}};Cs.props={type:"current",showHours:!1,padHours:null,padMinutes:null,remainder:!1,toggle:!1,hidden:!1},Cs.state=new Kt({timeText:"",hidden:!1});let Ra=Cs;export{z as $,Bl as A,is as B,w as C,Y as D,kr as E,Qa as F,y as G,Ml as H,ke as I,Wl as J,Rn as K,Ya as L,ci as M,Kl as N,tu as O,Zl as P,ta as Q,Ms as R,ct as S,xt as T,cs as U,Ze as V,fi as W,Sa as X,Hl as Y,Ra as Z,fa as _,eu as a,oh as a$,ga as a0,ya as a1,Ta as a2,$a as a3,wa as a4,ba as a5,va as a6,Pe as a7,Ae as a8,Gt as a9,ui as aA,Aa as aB,Ca as aC,Oa as aD,le as aE,de as aF,ja as aG,J as aH,ss as aI,_l as aJ,Ll as aK,lr as aL,jl as aM,Ie as aN,Kh as aO,_ as aP,D as aQ,ht as aR,mt as aS,ql as aT,Rl as aU,hh as aV,ls as aW,C as aX,dh as aY,je as aZ,vt as a_,Da as aa,Ce as ab,Oe as ac,Is as ad,di as ae,Fo as af,pi as ag,Pa as ah,Ea as ai,Nl as aj,xe as ak,Vl as al,Ia as am,Ma as an,la as ao,ua as ap,Gl as aq,ma as ar,li as as,da as at,pa as au,La as av,Se as aw,Ee as ax,bi as ay,fs as az,Zt as b,rh as b0,nh as b1,Bs as b2,Yl as b3,Di as b4,Je as b5,Js as b6,zl as b7,Rr as b8,Fl as b9,vh as ba,Dl as bb,yi as bc,Ot as c,Il as d,u as e,k as f,tt as g,$ as h,Hr as i,Mn as j,Jl as k,Dt as l,F as m,S as n,A as o,b as p,Tt as q,Ul as r,x as s,Gr as t,P as u,Cl as v,Ql as w,Xl as x,qs as y,Ol as z};
